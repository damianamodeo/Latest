function hC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function fC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A={},dC={get exports(){return A},set exports(e){A=e}},Nu={},v={},pC={get exports(){return v},set exports(e){v=e}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),mC=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),wC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),CC=Symbol.for("react.lazy"),Eg=Symbol.iterator;function kC(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z0=Object.assign,e1={};function ys(e,t,n){this.props=e,this.context=t,this.refs=e1,this.updater=n||J0}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t1(){}t1.prototype=ys.prototype;function Fd(e,t,n){this.props=e,this.context=t,this.refs=e1,this.updater=n||J0}var jd=Fd.prototype=new t1;jd.constructor=Fd;Z0(jd,ys.prototype);jd.isPureReactComponent=!0;var xg=Array.isArray,n1=Object.prototype.hasOwnProperty,Bd={current:null},r1={key:!0,ref:!0,__self:!0,__source:!0};function i1(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)n1.call(t,r)&&!r1.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:na,type:e,key:s,ref:o,props:i,_owner:Bd.current}}function bC(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function IC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tg=/\/+/g;function $c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IC(""+e.key):t.toString(36)}function ul(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case na:case mC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$c(o,0):r,xg(i)?(n="",e!=null&&(n=e.replace(Tg,"$&/")+"/"),ul(i,t,n,"",function(u){return u})):i!=null&&(Ud(i)&&(i=bC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Tg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",xg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+$c(s,a);o+=ul(s,t,n,l,i)}else if(l=kC(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+$c(s,a++),o+=ul(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ra(e,t,n){if(e==null)return e;var r=[],i=0;return ul(e,r,"","",function(s){return t.call(n,s,i++)}),r}function DC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},cl={transition:null},AC={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:cl,ReactCurrentOwner:Bd};ue.Children={map:Ra,forEach:function(e,t,n){Ra(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ra(e,function(){t++}),t},toArray:function(e){return Ra(e,function(t){return t})||[]},only:function(e){if(!Ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=ys;ue.Fragment=gC;ue.Profiler=vC;ue.PureComponent=Fd;ue.StrictMode=yC;ue.Suspense=xC;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Z0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Bd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)n1.call(t,l)&&!r1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:na,type:e.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(e){return e={$$typeof:SC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wC,_context:e},e.Consumer=e};ue.createElement=i1;ue.createFactory=function(e){var t=i1.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:EC,render:e}};ue.isValidElement=Ud;ue.lazy=function(e){return{$$typeof:CC,_payload:{_status:-1,_result:e},_init:DC}};ue.memo=function(e,t){return{$$typeof:TC,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=cl.transition;cl.transition={};try{e()}finally{cl.transition=t}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(e,t){return At.current.useCallback(e,t)};ue.useContext=function(e){return At.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ue.useEffect=function(e,t){return At.current.useEffect(e,t)};ue.useId=function(){return At.current.useId()};ue.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return At.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ue.useRef=function(e){return At.current.useRef(e)};ue.useState=function(e){return At.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return At.current.useTransition()};ue.version="18.2.0";(function(e){e.exports=ue})(pC);const me=fC(v),oV=hC({__proto__:null,default:me},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=v,_C=Symbol.for("react.element"),RC=Symbol.for("react.fragment"),NC=Object.prototype.hasOwnProperty,LC=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function s1(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)NC.call(t,r)&&!OC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_C,type:e,key:s,ref:o,props:i,_owner:LC.current}}Nu.Fragment=RC;Nu.jsx=s1;Nu.jsxs=s1;(function(e){e.exports=Nu})(dC);var Qh={},Yh={},$C={get exports(){return Yh},set exports(e){Yh=e}},Gt={},Xh={},MC={get exports(){return Xh},set exports(e){Xh=e}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,z){var Q=N.length;N.push(z);e:for(;0<Q;){var Z=Q-1>>>1,Ee=N[Z];if(0<i(Ee,z))N[Z]=z,N[Q]=Ee,Q=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var z=N[0],Q=N.pop();if(Q!==z){N[0]=Q;e:for(var Z=0,Ee=N.length,O=Ee>>>1;Z<O;){var W=2*(Z+1)-1,le=N[W],Fe=W+1,Rt=N[Fe];if(0>i(le,Q))Fe<Ee&&0>i(Rt,le)?(N[Z]=Rt,N[Fe]=Q,Z=Fe):(N[Z]=le,N[W]=Q,Z=W);else if(Fe<Ee&&0>i(Rt,Q))N[Z]=Rt,N[Fe]=Q,Z=Fe;else break e}}return z}function i(N,z){var Q=N.sortIndex-z.sortIndex;return Q!==0?Q:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=N)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function E(N){if(w=!1,g(N),!m)if(n(l)!==null)m=!0,ae(T);else{var z=n(u);z!==null&&ge(E,z.startTime-N)}}function T(N,z){m=!1,w&&(w=!1,y(C),C=-1),d=!0;var Q=h;try{for(g(z),f=n(l);f!==null&&(!(f.expirationTime>z)||N&&!$());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var Ee=Z(f.expirationTime<=z);z=e.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(l)&&r(l),g(z)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var W=n(u);W!==null&&ge(E,W.startTime-z),O=!1}return O}finally{f=null,h=Q,d=!1}}var I=!1,b=null,C=-1,M=5,F=-1;function $(){return!(e.unstable_now()-F<M)}function U(){if(b!==null){var N=e.unstable_now();F=N;var z=!0;try{z=b(!0,N)}finally{z?B():(I=!1,b=null)}}else I=!1}var B;if(typeof p=="function")B=function(){p(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,re=oe.port2;oe.port1.onmessage=U,B=function(){re.postMessage(null)}}else B=function(){x(U,0)};function ae(N){b=N,I||(I=!0,B())}function ge(N,z){C=x(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,ae(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return N()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Q=h;h=N;try{return z()}finally{h=Q}},e.unstable_scheduleCallback=function(N,z,Q){var Z=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,N){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Q+Ee,N={id:c++,callback:z,priorityLevel:N,startTime:Q,expirationTime:Ee,sortIndex:-1},Q>Z?(N.sortIndex=Q,t(u,N),n(l)===null&&N===n(u)&&(w?(y(C),C=-1):w=!0,ge(E,Q-Z))):(N.sortIndex=Ee,t(l,N),m||d||(m=!0,ae(T))),N},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(N){var z=h;return function(){var Q=h;h=z;try{return N.apply(this,arguments)}finally{h=Q}}}})(o1);(function(e){e.exports=o1})(MC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=v,Ht=Xh;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l1=new Set,So={};function pi(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(So[e]=t,e=0;e<t.length;e++)l1.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cg={},kg={};function FC(e){return Jh.call(kg,e)?!0:Jh.call(Cg,e)?!1:VC.test(e)?kg[e]=!0:(Cg[e]=!0,!1)}function jC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BC(e,t,n,r){if(t===null||typeof t>"u"||jC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function Hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zd,Hd);ht[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zd,Hd);ht[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zd,Hd);ht[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kd(e,t,n,r){var i=ht.hasOwnProperty(t)?ht[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BC(t,n,i,r)&&(n=null),r||i===null?FC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xn=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),Gd=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),qd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),h1=Symbol.for("react.offscreen"),bg=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=bg&&e[bg]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Mc;function zs(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var Vc=!1;function Fc(e,t){if(!e||Vc)return"";Vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zs(e):""}function UC(e){switch(e.tag){case 5:return zs(e.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ii:return"Fragment";case bi:return"Portal";case Zh:return"Profiler";case Wd:return"StrictMode";case ef:return"Suspense";case tf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c1:return(e.displayName||"Context")+".Consumer";case u1:return(e._context.displayName||"Context")+".Provider";case Gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qd:return t=e.displayName||null,t!==null?t:nf(e.type)||"Memo";case tr:t=e._payload,e=e._init;try{return nf(e(t))}catch{}}return null}function zC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nf(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HC(e){var t=f1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function La(e){e._valueTracker||(e._valueTracker=HC(e))}function d1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=f1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rf(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ig(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function p1(e,t){t=t.checked,t!=null&&Kd(e,"checked",t,!1)}function sf(e,t){p1(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?of(e,t.type,n):t.hasOwnProperty("defaultValue")&&of(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function of(e,t,n){(t!=="number"||bl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hs=Array.isArray;function Hi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function af(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ag(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Hs(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function m1(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oa,y1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KC=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){KC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function v1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function w1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var WC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(e,t){if(t){if(WC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function cf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=null;function Qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ff=null,Ki=null,Wi=null;function _g(e){if(e=sa(e)){if(typeof ff!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Vu(t),ff(e.stateNode,e.type,t))}}function S1(e){Ki?Wi?Wi.push(e):Wi=[e]:Ki=e}function E1(){if(Ki){var e=Ki,t=Wi;if(Wi=Ki=null,_g(e),t)for(e=0;e<t.length;e++)_g(t[e])}}function x1(e,t){return e(t)}function T1(){}var jc=!1;function C1(e,t,n){if(jc)return e(t,n);jc=!0;try{return x1(e,t,n)}finally{jc=!1,(Ki!==null||Wi!==null)&&(T1(),E1())}}function xo(e,t){var n=e.stateNode;if(n===null)return null;var r=Vu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var df=!1;if(Bn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){df=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{df=!1}function GC(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Js=!1,Il=null,Dl=!1,pf=null,qC={onError:function(e){Js=!0,Il=e}};function QC(e,t,n,r,i,s,o,a,l){Js=!1,Il=null,GC.apply(qC,arguments)}function YC(e,t,n,r,i,s,o,a,l){if(QC.apply(this,arguments),Js){if(Js){var u=Il;Js=!1,Il=null}else throw Error(_(198));Dl||(Dl=!0,pf=u)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function k1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rg(e){if(mi(e)!==e)throw Error(_(188))}function XC(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rg(i),e;if(s===r)return Rg(i),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function b1(e){return e=XC(e),e!==null?I1(e):null}function I1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I1(e);if(t!==null)return t;e=e.sibling}return null}var D1=Ht.unstable_scheduleCallback,Ng=Ht.unstable_cancelCallback,JC=Ht.unstable_shouldYield,ZC=Ht.unstable_requestPaint,Be=Ht.unstable_now,ek=Ht.unstable_getCurrentPriorityLevel,Yd=Ht.unstable_ImmediatePriority,A1=Ht.unstable_UserBlockingPriority,Al=Ht.unstable_NormalPriority,tk=Ht.unstable_LowPriority,P1=Ht.unstable_IdlePriority,Lu=null,Tn=null;function nk(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Lu,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:sk,rk=Math.log,ik=Math.LN2;function sk(e){return e>>>=0,e===0?32:31-(rk(e)/ik|0)|0}var $a=64,Ma=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ks(a):(s&=o,s!==0&&(r=Ks(s)))}else o=n&~i,o!==0?r=Ks(o):s!==0&&(r=Ks(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),i=1<<n,r|=e[n],t&=~i;return r}function ok(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ak(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ok(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function mf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _1(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function Bc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function lk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Xd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function R1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N1,Jd,L1,O1,$1,gf=!1,Va=[],ur=null,cr=null,hr=null,To=new Map,Co=new Map,ir=[],uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(e,t){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":To.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(t.pointerId)}}function Rs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=sa(t),t!==null&&Jd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ck(e,t,n,r,i){switch(t){case"focusin":return ur=Rs(ur,e,t,n,r,i),!0;case"dragenter":return cr=Rs(cr,e,t,n,r,i),!0;case"mouseover":return hr=Rs(hr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return To.set(s,Rs(To.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Co.set(s,Rs(Co.get(s)||null,e,t,n,r,i)),!0}return!1}function M1(e){var t=Kr(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=k1(n),t!==null){e.blockedOn=t,$1(e.priority,function(){L1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hf=r,n.target.dispatchEvent(r),hf=null}else return t=sa(n),t!==null&&Jd(t),e.blockedOn=n,!1;t.shift()}return!0}function Og(e,t,n){hl(e)&&n.delete(t)}function hk(){gf=!1,ur!==null&&hl(ur)&&(ur=null),cr!==null&&hl(cr)&&(cr=null),hr!==null&&hl(hr)&&(hr=null),To.forEach(Og),Co.forEach(Og)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,gf||(gf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,hk)))}function ko(e){function t(i){return Ns(i,e)}if(0<Va.length){Ns(Va[0],e);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ur!==null&&Ns(ur,e),cr!==null&&Ns(cr,e),hr!==null&&Ns(hr,e),To.forEach(t),Co.forEach(t),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)M1(n),n.blockedOn===null&&ir.shift()}var Gi=Xn.ReactCurrentBatchConfig,_l=!0;function fk(e,t,n,r){var i=Se,s=Gi.transition;Gi.transition=null;try{Se=1,Zd(e,t,n,r)}finally{Se=i,Gi.transition=s}}function dk(e,t,n,r){var i=Se,s=Gi.transition;Gi.transition=null;try{Se=4,Zd(e,t,n,r)}finally{Se=i,Gi.transition=s}}function Zd(e,t,n,r){if(_l){var i=yf(e,t,n,r);if(i===null)Xc(e,t,r,Rl,n),Lg(e,r);else if(ck(i,e,t,n,r))r.stopPropagation();else if(Lg(e,r),t&4&&-1<uk.indexOf(e)){for(;i!==null;){var s=sa(i);if(s!==null&&N1(s),s=yf(e,t,n,r),s===null&&Xc(e,t,r,Rl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xc(e,t,r,null,n)}}var Rl=null;function yf(e,t,n,r){if(Rl=null,e=Qd(r),e=Kr(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=k1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rl=e,null}function V1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ek()){case Yd:return 1;case A1:return 4;case Al:case tk:return 16;case P1:return 536870912;default:return 16}default:return 16}}var or=null,ep=null,fl=null;function F1(){if(fl)return fl;var e,t=ep,n=t.length,r,i="value"in or?or.value:or.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return fl=i.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fa(){return!0}function $g(){return!1}function qt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fa:$g,this.isPropagationStopped=$g,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tp=qt(vs),ia=Le({},vs,{view:0,detail:0}),pk=qt(ia),Uc,zc,Ls,Ou=Le({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Uc=e.screenX-Ls.screenX,zc=e.screenY-Ls.screenY):zc=Uc=0,Ls=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),Mg=qt(Ou),mk=Le({},Ou,{dataTransfer:0}),gk=qt(mk),yk=Le({},ia,{relatedTarget:0}),Hc=qt(yk),vk=Le({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),wk=qt(vk),Sk=Le({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ek=qt(Sk),xk=Le({},vs,{data:0}),Vg=qt(xk),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kk[e])?!!t[e]:!1}function np(){return bk}var Ik=Le({},ia,{key:function(e){if(e.key){var t=Tk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ck[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dk=qt(Ik),Ak=Le({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=qt(Ak),Pk=Le({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),_k=qt(Pk),Rk=Le({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=qt(Rk),Lk=Le({},Ou,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ok=qt(Lk),$k=[9,13,27,32],rp=Bn&&"CompositionEvent"in window,Zs=null;Bn&&"documentMode"in document&&(Zs=document.documentMode);var Mk=Bn&&"TextEvent"in window&&!Zs,j1=Bn&&(!rp||Zs&&8<Zs&&11>=Zs),jg=String.fromCharCode(32),Bg=!1;function B1(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function Vk(e,t){switch(e){case"compositionend":return U1(t);case"keypress":return t.which!==32?null:(Bg=!0,jg);case"textInput":return e=t.data,e===jg&&Bg?null:e;default:return null}}function Fk(e,t){if(Di)return e==="compositionend"||!rp&&B1(e,t)?(e=F1(),fl=ep=or=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return j1&&t.locale!=="ko"?null:t.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jk[e.type]:t==="textarea"}function z1(e,t,n,r){S1(r),t=Nl(t,"onChange"),0<t.length&&(n=new tp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var eo=null,bo=null;function Bk(e){ew(e,0)}function $u(e){var t=_i(e);if(d1(t))return e}function Uk(e,t){if(e==="change")return t}var H1=!1;if(Bn){var Kc;if(Bn){var Wc="oninput"in document;if(!Wc){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Wc=typeof zg.oninput=="function"}Kc=Wc}else Kc=!1;H1=Kc&&(!document.documentMode||9<document.documentMode)}function Hg(){eo&&(eo.detachEvent("onpropertychange",K1),bo=eo=null)}function K1(e){if(e.propertyName==="value"&&$u(bo)){var t=[];z1(t,bo,e,Qd(e)),C1(Bk,t)}}function zk(e,t,n){e==="focusin"?(Hg(),eo=t,bo=n,eo.attachEvent("onpropertychange",K1)):e==="focusout"&&Hg()}function Hk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(bo)}function Kk(e,t){if(e==="click")return $u(t)}function Wk(e,t){if(e==="input"||e==="change")return $u(t)}function Gk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:Gk;function Io(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function Kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wg(e,t){var n=Kg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kg(n)}}function W1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G1(){for(var e=window,t=bl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bl(e.document)}return t}function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qk(e){var t=G1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&W1(n.ownerDocument.documentElement,n)){if(r!==null&&ip(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Wg(n,s);var o=Wg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qk=Bn&&"documentMode"in document&&11>=document.documentMode,Ai=null,vf=null,to=null,wf=!1;function Gg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||Ai==null||Ai!==bl(r)||(r=Ai,"selectionStart"in r&&ip(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),to&&Io(to,r)||(to=r,r=Nl(vf,"onSelect"),0<r.length&&(t=new tp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ai)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Gc={},q1={};Bn&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Mu(e){if(Gc[e])return Gc[e];if(!Pi[e])return e;var t=Pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in q1)return Gc[e]=t[n];return e}var Q1=Mu("animationend"),Y1=Mu("animationiteration"),X1=Mu("animationstart"),J1=Mu("transitionend"),Z1=new Map,qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Z1.set(e,t),pi(t,[e])}for(var qc=0;qc<qg.length;qc++){var Qc=qg[qc],Yk=Qc.toLowerCase(),Xk=Qc[0].toUpperCase()+Qc.slice(1);Pr(Yk,"on"+Xk)}Pr(Q1,"onAnimationEnd");Pr(Y1,"onAnimationIteration");Pr(X1,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(J1,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function Qg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,YC(r,t,void 0,e),e.currentTarget=null}function ew(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qg(i,a,u),s=l}}}if(Dl)throw e=pf,Dl=!1,pf=null,e}function Te(e,t){var n=t[Cf];n===void 0&&(n=t[Cf]=new Set);var r=e+"__bubble";n.has(r)||(tw(t,e,2,!1),n.add(r))}function Yc(e,t,n){var r=0;t&&(r|=4),tw(n,e,r,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[Ba]){e[Ba]=!0,l1.forEach(function(n){n!=="selectionchange"&&(Jk.has(n)||Yc(n,!1,e),Yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ba]||(t[Ba]=!0,Yc("selectionchange",!1,t))}}function tw(e,t,n,r){switch(V1(t)){case 1:var i=fk;break;case 4:i=dk;break;default:i=Zd}n=i.bind(null,t,n,e),i=void 0,!df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}C1(function(){var u=s,c=Qd(n),f=[];e:{var h=Z1.get(e);if(h!==void 0){var d=tp,m=e;switch(e){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":d=Dk;break;case"focusin":m="focus",d=Hc;break;case"focusout":m="blur",d=Hc;break;case"beforeblur":case"afterblur":d=Hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=gk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=_k;break;case Q1:case Y1:case X1:d=wk;break;case J1:d=Nk;break;case"scroll":d=pk;break;case"wheel":d=Ok;break;case"copy":case"cut":case"paste":d=Ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Fg}var w=(t&4)!==0,x=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,y!==null&&(E=xo(p,y),E!=null&&w.push(Ao(p,E,g)))),x)break;p=p.return}0<w.length&&(h=new d(h,m,null,n,c),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==hf&&(m=n.relatedTarget||n.fromElement)&&(Kr(m)||m[Un]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?Kr(m):null,m!==null&&(x=mi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(w=Mg,E="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Fg,E="onPointerLeave",y="onPointerEnter",p="pointer"),x=d==null?h:_i(d),g=m==null?h:_i(m),h=new w(E,p+"leave",d,n,c),h.target=x,h.relatedTarget=g,E=null,Kr(c)===u&&(w=new w(y,p+"enter",m,n,c),w.target=g,w.relatedTarget=x,E=w),x=E,d&&m)t:{for(w=d,y=m,p=0,g=w;g;g=Ei(g))p++;for(g=0,E=y;E;E=Ei(E))g++;for(;0<p-g;)w=Ei(w),p--;for(;0<g-p;)y=Ei(y),g--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=Ei(w),y=Ei(y)}w=null}else w=null;d!==null&&Yg(f,h,d,w,!1),m!==null&&x!==null&&Yg(f,x,m,w,!0)}}e:{if(h=u?_i(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var T=Uk;else if(Ug(h))if(H1)T=Wk;else{T=Hk;var I=zk}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Kk);if(T&&(T=T(e,u))){z1(f,T,n,c);break e}I&&I(e,h,u),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&of(h,"number",h.value)}switch(I=u?_i(u):window,e){case"focusin":(Ug(I)||I.contentEditable==="true")&&(Ai=I,vf=u,to=null);break;case"focusout":to=vf=Ai=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Gg(f,n,c);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":Gg(f,n,c)}var b;if(rp)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Di?B1(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(j1&&n.locale!=="ko"&&(Di||C!=="onCompositionStart"?C==="onCompositionEnd"&&Di&&(b=F1()):(or=c,ep="value"in or?or.value:or.textContent,Di=!0)),I=Nl(u,C),0<I.length&&(C=new Vg(C,e,null,n,c),f.push({event:C,listeners:I}),b?C.data=b:(b=U1(n),b!==null&&(C.data=b)))),(b=Mk?Vk(e,n):Fk(e,n))&&(u=Nl(u,"onBeforeInput"),0<u.length&&(c=new Vg("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}ew(f,t)})}function Ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xo(e,n),s!=null&&r.unshift(Ao(e,s,i)),s=xo(e,t),s!=null&&r.push(Ao(e,s,i))),e=e.return}return r}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xo(n,s),l!=null&&o.unshift(Ao(n,l,a))):i||(l=xo(n,s),l!=null&&o.push(Ao(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Zk=/\r\n?/g,eb=/\u0000|\uFFFD/g;function Xg(e){return(typeof e=="string"?e:""+e).replace(Zk,`
`).replace(eb,"")}function Ua(e,t,n){if(t=Xg(t),Xg(e)!==t&&n)throw Error(_(425))}function Ll(){}var Sf=null,Ef=null;function xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tf=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(e){return Jg.resolve(null).then(e).catch(rb)}:Tf;function rb(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ko(t)}function fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),Sn="__reactFiber$"+ws,Po="__reactProps$"+ws,Un="__reactContainer$"+ws,Cf="__reactEvents$"+ws,ib="__reactListeners$"+ws,sb="__reactHandles$"+ws;function Kr(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Un]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zg(e);e!==null;){if(n=e[Sn])return n;e=Zg(e)}return t}e=n,n=e.parentNode}return null}function sa(e){return e=e[Sn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Vu(e){return e[Po]||null}var kf=[],Ri=-1;function _r(e){return{current:e}}function ke(e){0>Ri||(e.current=kf[Ri],kf[Ri]=null,Ri--)}function xe(e,t){Ri++,kf[Ri]=e.current,e.current=t}var Cr={},Et=_r(Cr),$t=_r(!1),ii=Cr;function ts(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(e){return e=e.childContextTypes,e!=null}function Ol(){ke($t),ke(Et)}function ey(e,t,n){if(Et.current!==Cr)throw Error(_(168));xe(Et,t),xe($t,n)}function nw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_(108,zC(e)||"Unknown",i));return Le({},n,r)}function $l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,ii=Et.current,xe(Et,e),xe($t,$t.current),!0}function ty(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=nw(e,t,ii),r.__reactInternalMemoizedMergedChildContext=e,ke($t),ke(Et),xe(Et,e)):ke($t),xe($t,n)}var Rn=null,Fu=!1,Zc=!1;function rw(e){Rn===null?Rn=[e]:Rn.push(e)}function ob(e){Fu=!0,rw(e)}function Rr(){if(!Zc&&Rn!==null){Zc=!0;var e=0,t=Se;try{var n=Rn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rn=null,Fu=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(e+1)),D1(Yd,Rr),i}finally{Se=t,Zc=!1}}return null}var Ni=[],Li=0,Ml=null,Vl=0,Xt=[],Jt=0,si=null,Nn=1,Ln="";function Fr(e,t){Ni[Li++]=Vl,Ni[Li++]=Ml,Ml=e,Vl=t}function iw(e,t,n){Xt[Jt++]=Nn,Xt[Jt++]=Ln,Xt[Jt++]=si,si=e;var r=Nn;e=Ln;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-pn(t)+i|n<<i|r,Ln=s+e}else Nn=1<<s|n<<i|r,Ln=e}function sp(e){e.return!==null&&(Fr(e,1),iw(e,1,0))}function op(e){for(;e===Ml;)Ml=Ni[--Li],Ni[Li]=null,Vl=Ni[--Li],Ni[Li]=null;for(;e===si;)si=Xt[--Jt],Xt[Jt]=null,Ln=Xt[--Jt],Xt[Jt]=null,Nn=Xt[--Jt],Xt[Jt]=null}var zt=null,Ut=null,Ie=!1,fn=null;function sw(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ny(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ut=fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=si!==null?{id:Nn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Ut=null,!0):!1;default:return!1}}function bf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function If(e){if(Ie){var t=Ut;if(t){var n=t;if(!ny(e,t)){if(bf(e))throw Error(_(418));t=fr(n.nextSibling);var r=zt;t&&ny(e,t)?sw(r,n):(e.flags=e.flags&-4097|2,Ie=!1,zt=e)}}else{if(bf(e))throw Error(_(418));e.flags=e.flags&-4097|2,Ie=!1,zt=e}}}function ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function za(e){if(e!==zt)return!1;if(!Ie)return ry(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xf(e.type,e.memoizedProps)),t&&(t=Ut)){if(bf(e))throw ow(),Error(_(418));for(;t;)sw(e,t),t=fr(t.nextSibling)}if(ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=zt?fr(e.stateNode.nextSibling):null;return!0}function ow(){for(var e=Ut;e;)e=fr(e.nextSibling)}function ns(){Ut=zt=null,Ie=!1}function ap(e){fn===null?fn=[e]:fn.push(e)}var ab=Xn.ReactCurrentBatchConfig;function cn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Fl=_r(null),jl=null,Oi=null,lp=null;function up(){lp=Oi=jl=null}function cp(e){var t=Fl.current;ke(Fl),e._currentValue=t}function Df(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qi(e,t){jl=e,lp=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(lp!==e)if(e={context:e,memoizedValue:t,next:null},Oi===null){if(jl===null)throw Error(_(308));Oi=e,jl.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var Wr=null;function hp(e){Wr===null?Wr=[e]:Wr.push(e)}function aw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hp(t)):(n.next=i.next,i.next=n),t.interleaved=n,zn(e,r)}function zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nr=!1;function fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zn(e,n)}return i=r.interleaved,i===null?(t.next=t,hp(r)):(t.next=i.next,i.next=t),r.interleaved=t,zn(e,n)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xd(e,n)}}function iy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var i=e.updateQueue;nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,w=a;switch(h=t,d=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=Le({},f,h);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ai|=o,e.lanes=o,e.memoizedState=f}}function sy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var uw=new a1.Component().refs;function Af(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ju={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=mr(e),s=Vn(r,i);s.payload=t,n!=null&&(s.callback=n),t=dr(e,s,i),t!==null&&(mn(t,e,i,r),pl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=mr(e),s=Vn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=dr(e,s,i),t!==null&&(mn(t,e,i,r),pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),r=mr(e),i=Vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=dr(e,i,r),t!==null&&(mn(t,e,r,n),pl(t,e,r))}};function oy(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Io(n,r)||!Io(i,s):!0}function cw(e,t,n){var r=!1,i=Cr,s=t.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=Mt(t)?ii:Et.current,r=t.contextTypes,s=(r=r!=null)?ts(e,i):Cr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ay(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function Pf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=uw,fp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=Mt(t)?ii:Et.current,i.context=ts(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Af(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ju.enqueueReplaceState(i,i.state,null),Bl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Os(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===uw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ly(e){var t=e._init;return t(e._payload)}function hw(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=gr(y,p),y.index=0,y.sibling=null,y}function s(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,p,g,E){return p===null||p.tag!==6?(p=oh(g,y.mode,E),p.return=y,p):(p=i(p,g),p.return=y,p)}function l(y,p,g,E){var T=g.type;return T===Ii?c(y,p,g.props.children,E,g.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tr&&ly(T)===p.type)?(E=i(p,g.props),E.ref=Os(y,p,g),E.return=y,E):(E=Sl(g.type,g.key,g.props,null,y.mode,E),E.ref=Os(y,p,g),E.return=y,E)}function u(y,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ah(g,y.mode,E),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,E,T){return p===null||p.tag!==7?(p=ei(g,y.mode,E,T),p.return=y,p):(p=i(p,g),p.return=y,p)}function f(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=oh(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Na:return g=Sl(p.type,p.key,p.props,null,y.mode,g),g.ref=Os(y,null,p),g.return=y,g;case bi:return p=ah(p,y.mode,g),p.return=y,p;case tr:var E=p._init;return f(y,E(p._payload),g)}if(Hs(p)||Ps(p))return p=ei(p,y.mode,g,null),p.return=y,p;Ha(y,p)}return null}function h(y,p,g,E){var T=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(y,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Na:return g.key===T?l(y,p,g,E):null;case bi:return g.key===T?u(y,p,g,E):null;case tr:return T=g._init,h(y,p,T(g._payload),E)}if(Hs(g)||Ps(g))return T!==null?null:c(y,p,g,E,null);Ha(y,g)}return null}function d(y,p,g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(g)||null,a(p,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Na:return y=y.get(E.key===null?g:E.key)||null,l(p,y,E,T);case bi:return y=y.get(E.key===null?g:E.key)||null,u(p,y,E,T);case tr:var I=E._init;return d(y,p,g,I(E._payload),T)}if(Hs(E)||Ps(E))return y=y.get(g)||null,c(p,y,E,T,null);Ha(p,E)}return null}function m(y,p,g,E){for(var T=null,I=null,b=p,C=p=0,M=null;b!==null&&C<g.length;C++){b.index>C?(M=b,b=null):M=b.sibling;var F=h(y,b,g[C],E);if(F===null){b===null&&(b=M);break}e&&b&&F.alternate===null&&t(y,b),p=s(F,p,C),I===null?T=F:I.sibling=F,I=F,b=M}if(C===g.length)return n(y,b),Ie&&Fr(y,C),T;if(b===null){for(;C<g.length;C++)b=f(y,g[C],E),b!==null&&(p=s(b,p,C),I===null?T=b:I.sibling=b,I=b);return Ie&&Fr(y,C),T}for(b=r(y,b);C<g.length;C++)M=d(b,y,C,g[C],E),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?C:M.key),p=s(M,p,C),I===null?T=M:I.sibling=M,I=M);return e&&b.forEach(function($){return t(y,$)}),Ie&&Fr(y,C),T}function w(y,p,g,E){var T=Ps(g);if(typeof T!="function")throw Error(_(150));if(g=T.call(g),g==null)throw Error(_(151));for(var I=T=null,b=p,C=p=0,M=null,F=g.next();b!==null&&!F.done;C++,F=g.next()){b.index>C?(M=b,b=null):M=b.sibling;var $=h(y,b,F.value,E);if($===null){b===null&&(b=M);break}e&&b&&$.alternate===null&&t(y,b),p=s($,p,C),I===null?T=$:I.sibling=$,I=$,b=M}if(F.done)return n(y,b),Ie&&Fr(y,C),T;if(b===null){for(;!F.done;C++,F=g.next())F=f(y,F.value,E),F!==null&&(p=s(F,p,C),I===null?T=F:I.sibling=F,I=F);return Ie&&Fr(y,C),T}for(b=r(y,b);!F.done;C++,F=g.next())F=d(b,y,C,F.value,E),F!==null&&(e&&F.alternate!==null&&b.delete(F.key===null?C:F.key),p=s(F,p,C),I===null?T=F:I.sibling=F,I=F);return e&&b.forEach(function(U){return t(y,U)}),Ie&&Fr(y,C),T}function x(y,p,g,E){if(typeof g=="object"&&g!==null&&g.type===Ii&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Na:e:{for(var T=g.key,I=p;I!==null;){if(I.key===T){if(T=g.type,T===Ii){if(I.tag===7){n(y,I.sibling),p=i(I,g.props.children),p.return=y,y=p;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tr&&ly(T)===I.type){n(y,I.sibling),p=i(I,g.props),p.ref=Os(y,I,g),p.return=y,y=p;break e}n(y,I);break}else t(y,I);I=I.sibling}g.type===Ii?(p=ei(g.props.children,y.mode,E,g.key),p.return=y,y=p):(E=Sl(g.type,g.key,g.props,null,y.mode,E),E.ref=Os(y,p,g),E.return=y,y=E)}return o(y);case bi:e:{for(I=g.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=ah(g,y.mode,E),p.return=y,y=p}return o(y);case tr:return I=g._init,x(y,p,I(g._payload),E)}if(Hs(g))return m(y,p,g,E);if(Ps(g))return w(y,p,g,E);Ha(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=oh(g,y.mode,E),p.return=y,y=p),o(y)):n(y,p)}return x}var rs=hw(!0),fw=hw(!1),oa={},Cn=_r(oa),_o=_r(oa),Ro=_r(oa);function Gr(e){if(e===oa)throw Error(_(174));return e}function dp(e,t){switch(xe(Ro,t),xe(_o,e),xe(Cn,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lf(t,e)}ke(Cn),xe(Cn,t)}function is(){ke(Cn),ke(_o),ke(Ro)}function dw(e){Gr(Ro.current);var t=Gr(Cn.current),n=lf(t,e.type);t!==n&&(xe(_o,e),xe(Cn,n))}function pp(e){_o.current===e&&(ke(Cn),ke(_o))}var Ae=_r(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eh=[];function mp(){for(var e=0;e<eh.length;e++)eh[e]._workInProgressVersionPrimary=null;eh.length=0}var ml=Xn.ReactCurrentDispatcher,th=Xn.ReactCurrentBatchConfig,oi=0,Re=null,qe=null,et=null,zl=!1,no=!1,No=0,lb=0;function pt(){throw Error(_(321))}function gp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function yp(e,t,n,r,i,s){if(oi=s,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=e===null||e.memoizedState===null?fb:db,e=n(r,i),no){s=0;do{if(no=!1,No=0,25<=s)throw Error(_(301));s+=1,et=qe=null,t.updateQueue=null,ml.current=pb,e=n(r,i)}while(no)}if(ml.current=Hl,t=qe!==null&&qe.next!==null,oi=0,et=qe=Re=null,zl=!1,t)throw Error(_(300));return e}function vp(){var e=No!==0;return No=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Re.memoizedState=et=e:et=et.next=e,et}function an(){if(qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=et===null?Re.memoizedState:et.next;if(t!==null)et=t,qe=e;else{if(e===null)throw Error(_(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},et===null?Re.memoizedState=et=e:et=et.next=e}return et}function Lo(e,t){return typeof t=="function"?t(e):t}function nh(e){var t=an(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Re.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gn(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Re.lanes|=s,ai|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rh(e){var t=an(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);gn(s,t.memoizedState)||(Ot=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function pw(){}function mw(e,t){var n=Re,r=an(),i=t(),s=!gn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ot=!0),r=r.queue,wp(vw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Oo(9,yw.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(_(349));oi&30||gw(n,t,i)}return i}function gw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yw(e,t,n,r){t.value=n,t.getSnapshot=r,ww(t)&&Sw(e)}function vw(e,t,n){return n(function(){ww(t)&&Sw(e)})}function ww(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Sw(e){var t=zn(e,1);t!==null&&mn(t,e,1,-1)}function uy(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:e},t.queue=e,e=e.dispatch=hb.bind(null,Re,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ew(){return an().memoizedState}function gl(e,t,n,r){var i=vn();Re.flags|=e,i.memoizedState=Oo(1|t,n,void 0,r===void 0?null:r)}function Bu(e,t,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,r!==null&&gp(r,o.deps)){i.memoizedState=Oo(t,n,s,r);return}}Re.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function cy(e,t){return gl(8390656,8,e,t)}function wp(e,t){return Bu(2048,8,e,t)}function xw(e,t){return Bu(4,2,e,t)}function Tw(e,t){return Bu(4,4,e,t)}function Cw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kw(e,t,n){return n=n!=null?n.concat([e]):null,Bu(4,4,Cw.bind(null,t,e),n)}function Sp(){}function bw(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Iw(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dw(e,t,n){return oi&21?(gn(n,t)||(n=_1(),Re.lanes|=n,ai|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function ub(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=th.transition;th.transition={};try{e(!1),t()}finally{Se=n,th.transition=r}}function Aw(){return an().memoizedState}function cb(e,t,n){var r=mr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pw(e))_w(t,n);else if(n=aw(e,t,n,r),n!==null){var i=Dt();mn(n,e,r,i),Rw(n,t,r)}}function hb(e,t,n){var r=mr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pw(e))_w(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,o)){var l=t.interleaved;l===null?(i.next=i,hp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=aw(e,t,i,r),n!==null&&(i=Dt(),mn(n,e,r,i),Rw(n,t,r))}}function Pw(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function _w(e,t){no=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xd(e,n)}}var Hl={readContext:on,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},fb={readContext:on,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gl(4194308,4,Cw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cb.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:uy,useDebugValue:Sp,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=uy(!1),t=e[0];return e=ub.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,i=vn();if(Ie){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),nt===null)throw Error(_(349));oi&30||gw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cy(vw.bind(null,r,s,e),[e]),r.flags|=2048,Oo(9,yw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=nt.identifierPrefix;if(Ie){var n=Ln,r=Nn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},db={readContext:on,useCallback:bw,useContext:on,useEffect:wp,useImperativeHandle:kw,useInsertionEffect:xw,useLayoutEffect:Tw,useMemo:Iw,useReducer:nh,useRef:Ew,useState:function(){return nh(Lo)},useDebugValue:Sp,useDeferredValue:function(e){var t=an();return Dw(t,qe.memoizedState,e)},useTransition:function(){var e=nh(Lo)[0],t=an().memoizedState;return[e,t]},useMutableSource:pw,useSyncExternalStore:mw,useId:Aw,unstable_isNewReconciler:!1},pb={readContext:on,useCallback:bw,useContext:on,useEffect:wp,useImperativeHandle:kw,useInsertionEffect:xw,useLayoutEffect:Tw,useMemo:Iw,useReducer:rh,useRef:Ew,useState:function(){return rh(Lo)},useDebugValue:Sp,useDeferredValue:function(e){var t=an();return qe===null?t.memoizedState=e:Dw(t,qe.memoizedState,e)},useTransition:function(){var e=rh(Lo)[0],t=an().memoizedState;return[e,t]},useMutableSource:pw,useSyncExternalStore:mw,useId:Aw,unstable_isNewReconciler:!1};function ss(e,t){try{var n="",r=t;do n+=UC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ih(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _f(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mb=typeof WeakMap=="function"?WeakMap:Map;function Nw(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Bf=r),_f(e,t)},n}function Lw(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){_f(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_f(e,t),typeof r!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mb;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ab.bind(null,e,t,n),t.then(e,e))}function fy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,dr(n,t,1))),n.lanes|=1),e)}var gb=Xn.ReactCurrentOwner,Ot=!1;function Ct(e,t,n,r){t.child=e===null?fw(t,null,n,r):rs(t,e.child,n,r)}function py(e,t,n,r,i){n=n.render;var s=t.ref;return qi(t,i),r=yp(e,t,n,r,s,i),n=vp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hn(e,t,i)):(Ie&&n&&sp(t),t.flags|=1,Ct(e,t,r,i),t.child)}function my(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Dp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ow(e,t,s,r,i)):(e=Sl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(o,r)&&e.ref===t.ref)return Hn(e,t,i)}return t.flags|=1,e=gr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ow(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Io(s,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Hn(e,t,i)}return Rf(e,t,n,r,i)}function $w(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Mi,Bt),Bt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Mi,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(Mi,Bt),Bt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xe(Mi,Bt),Bt|=r;return Ct(e,t,i,n),t.child}function Mw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rf(e,t,n,r,i){var s=Mt(n)?ii:Et.current;return s=ts(t,s),qi(t,i),n=yp(e,t,n,r,s,i),r=vp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hn(e,t,i)):(Ie&&r&&sp(t),t.flags|=1,Ct(e,t,n,i),t.child)}function gy(e,t,n,r,i){if(Mt(n)){var s=!0;$l(t)}else s=!1;if(qi(t,i),t.stateNode===null)yl(e,t),cw(t,n,r),Pf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Mt(n)?ii:Et.current,u=ts(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ay(t,o,r,u),nr=!1;var h=t.memoizedState;o.state=h,Bl(t,r,o,i),l=t.memoizedState,a!==r||h!==l||$t.current||nr?(typeof c=="function"&&(Af(t,n,c,r),l=t.memoizedState),(a=nr||oy(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cn(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Mt(n)?ii:Et.current,l=ts(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ay(t,o,r,l),nr=!1,h=t.memoizedState,o.state=h,Bl(t,r,o,i);var m=t.memoizedState;a!==f||h!==m||$t.current||nr?(typeof d=="function"&&(Af(t,n,d,r),m=t.memoizedState),(u=nr||oy(t,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nf(e,t,n,r,s,i)}function Nf(e,t,n,r,i,s){Mw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ty(t,n,!1),Hn(e,t,s);r=t.stateNode,gb.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rs(t,e.child,null,s),t.child=rs(t,null,a,s)):Ct(e,t,a,s),t.memoizedState=r.state,i&&ty(t,n,!0),t.child}function Vw(e){var t=e.stateNode;t.pendingContext?ey(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ey(e,t.context,!1),dp(e,t.containerInfo)}function yy(e,t,n,r,i){return ns(),ap(i),t.flags|=256,Ct(e,t,n,r),t.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Of(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fw(e,t,n){var r=t.pendingProps,i=Ae.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xe(Ae,i&1),e===null)return If(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hu(o,r,0,null),e=ei(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Of(n),t.memoizedState=Lf,e):Ep(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yb(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gr(a,s):(s=ei(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Lf,r}return s=e.child,e=s.sibling,r=gr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ep(e,t){return t=Hu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ka(e,t,n,r){return r!==null&&ap(r),rs(t,e.child,null,n),e=Ep(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yb(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ih(Error(_(422))),Ka(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Hu({mode:"visible",children:r.children},i,0,null),s=ei(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&rs(t,e.child,null,o),t.child.memoizedState=Of(o),t.memoizedState=Lf,s);if(!(t.mode&1))return Ka(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_(419)),r=ih(s,r,void 0),Ka(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ot||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zn(e,i),mn(r,e,i,-1))}return Ip(),r=ih(Error(_(421))),Ka(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Pb.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ut=fr(i.nextSibling),zt=t,Ie=!0,fn=null,e!==null&&(Xt[Jt++]=Nn,Xt[Jt++]=Ln,Xt[Jt++]=si,Nn=e.id,Ln=e.overflow,si=t),t=Ep(t,r.children),t.flags|=4096,t)}function vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Df(e.return,t,n)}function sh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(e,t,r.children,n),r=Ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,n,t);else if(e.tag===19)vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ae,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ul(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sh(t,!0,n,null,s);break;case"together":sh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vb(e,t,n){switch(t.tag){case 3:Vw(t),ns();break;case 5:dw(t);break;case 1:Mt(t.type)&&$l(t);break;case 4:dp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xe(Fl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ae,Ae.current&1),t.flags|=128,null):n&t.child.childLanes?Fw(e,t,n):(xe(Ae,Ae.current&1),e=Hn(e,t,n),e!==null?e.sibling:null);xe(Ae,Ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Ae,Ae.current),r)break;return null;case 22:case 23:return t.lanes=0,$w(e,t,n)}return Hn(e,t,n)}var Bw,$f,Uw,zw;Bw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};Uw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gr(Cn.current);var s=null;switch(n){case"input":i=rf(e,i),r=rf(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=af(e,i),r=af(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}uf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(So.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(So.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};zw=function(e,t,n,r){n!==r&&(t.flags|=4)};function $s(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wb(e,t,n){var r=t.pendingProps;switch(op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Mt(t.type)&&Ol(),mt(t),null;case 3:return r=t.stateNode,is(),ke($t),ke(Et),mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(za(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Hf(fn),fn=null))),$f(e,t),mt(t),null;case 5:pp(t);var i=Gr(Ro.current);if(n=t.type,e!==null&&t.stateNode!=null)Uw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return mt(t),null}if(e=Gr(Cn.current),za(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Sn]=t,r[Po]=s,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<Ws.length;i++)Te(Ws[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Ig(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":Ag(r,s),Te("invalid",r)}uf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,e),i=["children",""+a]):So.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":La(r),Dg(r,s,!0);break;case"textarea":La(r),Pg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ll)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Sn]=t,e[Po]=r,Bw(e,t,!1,!1),t.stateNode=e;e:{switch(o=cf(n,r),n){case"dialog":Te("cancel",e),Te("close",e),i=r;break;case"iframe":case"object":case"embed":Te("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ws.length;i++)Te(Ws[i],e);i=r;break;case"source":Te("error",e),i=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=r;break;case"details":Te("toggle",e),i=r;break;case"input":Ig(e,r),i=rf(e,r),Te("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Te("invalid",e);break;case"textarea":Ag(e,r),i=af(e,r),Te("invalid",e);break;default:i=r}uf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eo(e,l):typeof l=="number"&&Eo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(So.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",e):l!=null&&Kd(e,s,l,o))}switch(n){case"input":La(e),Dg(e,r,!1);break;case"textarea":La(e),Pg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Hi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Hi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)zw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Gr(Ro.current),Gr(Cn.current),za(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sn]=t,(s=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Ua(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=t,t.stateNode=r}return mt(t),null;case 13:if(ke(Ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Ut!==null&&t.mode&1&&!(t.flags&128))ow(),ns(),t.flags|=98560,s=!1;else if(s=za(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[Sn]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else fn!==null&&(Hf(fn),fn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Ye===0&&(Ye=3):Ip())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return is(),$f(e,t),e===null&&Do(t.stateNode.containerInfo),mt(t),null;case 10:return cp(t.type._context),mt(t),null;case 17:return Mt(t.type)&&Ol(),mt(t),null;case 19:if(ke(Ae),s=t.memoizedState,s===null)return mt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$s(s,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ul(e),o!==null){for(t.flags|=128,$s(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ae,Ae.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>os&&(t.flags|=128,r=!0,$s(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ul(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return mt(t),null}else 2*Be()-s.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,r=!0,$s(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=Ae.current,xe(Ae,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return bp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Sb(e,t){switch(op(t),t.tag){case 1:return Mt(t.type)&&Ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),ke($t),ke(Et),mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pp(t),null;case 13:if(ke(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ae),null;case 4:return is(),null;case 10:return cp(t.type._context),null;case 22:case 23:return bp(),null;case 24:return null;default:return null}}var Wa=!1,vt=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,j=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Mf(e,t,n){try{n()}catch(r){$e(e,t,r)}}var wy=!1;function xb(e,t){if(Sf=_l,e=G1(),ip(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:e,selectionRange:n},_l=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:cn(t.type,w),x);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(E){$e(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return m=wy,wy=!1,m}function ro(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mf(t,n,s)}i=i.next}while(i!==r)}}function Uu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hw(e){var t=e.alternate;t!==null&&(e.alternate=null,Hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Po],delete t[Cf],delete t[ib],delete t[sb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kw(e){return e.tag===5||e.tag===3||e.tag===4}function Sy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(Ff(e,t,n),e=e.sibling;e!==null;)Ff(e,t,n),e=e.sibling}function jf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jf(e,t,n),e=e.sibling;e!==null;)jf(e,t,n),e=e.sibling}var ot=null,hn=!1;function Zn(e,t,n){for(n=n.child;n!==null;)Ww(e,t,n),n=n.sibling}function Ww(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Lu,n)}catch{}switch(n.tag){case 5:vt||$i(n,t);case 6:var r=ot,i=hn;ot=null,Zn(e,t,n),ot=r,hn=i,ot!==null&&(hn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(hn?(e=ot,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),ko(e)):Jc(ot,n.stateNode));break;case 4:r=ot,i=hn,ot=n.stateNode.containerInfo,hn=!0,Zn(e,t,n),ot=r,hn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mf(n,t,o),i=i.next}while(i!==r)}Zn(e,t,n);break;case 1:if(!vt&&($i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,t,a)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Zn(e,t,n),vt=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function Ey(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Eb),t.forEach(function(r){var i=_b.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,hn=!1;break e;case 3:ot=a.stateNode.containerInfo,hn=!0;break e;case 4:ot=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(ot===null)throw Error(_(160));Ww(s,o,i),ot=null,hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gw(t,e),t=t.sibling}function Gw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),yn(e),r&4){try{ro(3,e,e.return),Uu(3,e)}catch(w){$e(e,e.return,w)}try{ro(5,e,e.return)}catch(w){$e(e,e.return,w)}}break;case 1:un(t,e),yn(e),r&512&&n!==null&&$i(n,n.return);break;case 5:if(un(t,e),yn(e),r&512&&n!==null&&$i(n,n.return),e.flags&32){var i=e.stateNode;try{Eo(i,"")}catch(w){$e(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&p1(i,s),cf(a,o);var u=cf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?w1(i,f):c==="dangerouslySetInnerHTML"?y1(i,f):c==="children"?Eo(i,f):Kd(i,c,f,u)}switch(a){case"input":sf(i,s);break;case"textarea":m1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Hi(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Hi(i,!!s.multiple,s.defaultValue,!0):Hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(w){$e(e,e.return,w)}}break;case 6:if(un(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(_(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){$e(e,e.return,w)}}break;case 3:if(un(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(w){$e(e,e.return,w)}break;case 4:un(t,e),yn(e);break;case 13:un(t,e),yn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=Be())),r&4&&Ey(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(u=vt)||c,un(t,e),vt=u):un(t,e),yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(f=j=c;j!==null;){switch(h=j,d=h.child,h.tag){case 0:case 11:case 14:case 15:ro(4,h,h.return);break;case 1:$i(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){$e(r,n,w)}}break;case 5:$i(h,h.return);break;case 22:if(h.memoizedState!==null){Ty(f);continue}}d!==null?(d.return=h,j=d):Ty(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v1("display",o))}catch(w){$e(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){$e(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(t,e),yn(e),r&4&&Ey(e);break;case 21:break;default:un(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kw(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eo(i,""),r.flags&=-33);var s=Sy(e);jf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Sy(e);Ff(e,a,o);break;default:throw Error(_(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tb(e,t,n){j=e,qw(e)}function qw(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=Wa;var u=vt;if(Wa=o,(vt=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Cy(i):l!==null?(l.return=o,j=l):Cy(i);for(;s!==null;)j=s,qw(s),s=s.sibling;j=i,Wa=a,vt=u}xy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):xy(e)}}function xy(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||Uu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:cn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sy(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}vt||t.flags&512&&Vf(t)}catch(h){$e(t,t.return,h)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function Ty(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function Cy(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uu(4,t)}catch(l){$e(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){$e(t,i,l)}}var s=t.return;try{Vf(t)}catch(l){$e(t,s,l)}break;case 5:var o=t.return;try{Vf(t)}catch(l){$e(t,o,l)}}}catch(l){$e(t,t.return,l)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var Cb=Math.ceil,Kl=Xn.ReactCurrentDispatcher,xp=Xn.ReactCurrentOwner,nn=Xn.ReactCurrentBatchConfig,de=0,nt=null,We=null,ut=0,Bt=0,Mi=_r(0),Ye=0,$o=null,ai=0,zu=0,Tp=0,io=null,Nt=null,Cp=0,os=1/0,_n=null,Wl=!1,Bf=null,pr=null,Ga=!1,ar=null,Gl=0,so=0,Uf=null,vl=-1,wl=0;function Dt(){return de&6?Be():vl!==-1?vl:vl=Be()}function mr(e){return e.mode&1?de&2&&ut!==0?ut&-ut:ab.transition!==null?(wl===0&&(wl=_1()),wl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:V1(e.type)),e):1}function mn(e,t,n,r){if(50<so)throw so=0,Uf=null,Error(_(185));ra(e,n,r),(!(de&2)||e!==nt)&&(e===nt&&(!(de&2)&&(zu|=n),Ye===4&&sr(e,ut)),Vt(e,r),n===1&&de===0&&!(t.mode&1)&&(os=Be()+500,Fu&&Rr()))}function Vt(e,t){var n=e.callbackNode;ak(e,t);var r=Pl(e,e===nt?ut:0);if(r===0)n!==null&&Ng(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ng(n),t===1)e.tag===0?ob(ky.bind(null,e)):rw(ky.bind(null,e)),nb(function(){!(de&6)&&Rr()}),n=null;else{switch(R1(r)){case 1:n=Yd;break;case 4:n=A1;break;case 16:n=Al;break;case 536870912:n=P1;break;default:n=Al}n=nS(n,Qw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qw(e,t){if(vl=-1,wl=0,de&6)throw Error(_(327));var n=e.callbackNode;if(Qi()&&e.callbackNode!==n)return null;var r=Pl(e,e===nt?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var i=de;de|=2;var s=Xw();(nt!==e||ut!==t)&&(_n=null,os=Be()+500,Zr(e,t));do try{Ib();break}catch(a){Yw(e,a)}while(1);up(),Kl.current=s,de=i,We!==null?t=0:(nt=null,ut=0,t=Ye)}if(t!==0){if(t===2&&(i=mf(e),i!==0&&(r=i,t=zf(e,i))),t===1)throw n=$o,Zr(e,0),sr(e,r),Vt(e,Be()),n;if(t===6)sr(e,r);else{if(i=e.current.alternate,!(r&30)&&!kb(i)&&(t=ql(e,r),t===2&&(s=mf(e),s!==0&&(r=s,t=zf(e,s))),t===1))throw n=$o,Zr(e,0),sr(e,r),Vt(e,Be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:jr(e,Nt,_n);break;case 3:if(sr(e,r),(r&130023424)===r&&(t=Cp+500-Be(),10<t)){if(Pl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tf(jr.bind(null,e,Nt,_n),t);break}jr(e,Nt,_n);break;case 4:if(sr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cb(r/1960))-r,10<r){e.timeoutHandle=Tf(jr.bind(null,e,Nt,_n),r);break}jr(e,Nt,_n);break;case 5:jr(e,Nt,_n);break;default:throw Error(_(329))}}}return Vt(e,Be()),e.callbackNode===n?Qw.bind(null,e):null}function zf(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=ql(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&Hf(t)),e}function Hf(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function kb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sr(e,t){for(t&=~Tp,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function ky(e){if(de&6)throw Error(_(327));Qi();var t=Pl(e,0);if(!(t&1))return Vt(e,Be()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=mf(e);r!==0&&(t=r,n=zf(e,r))}if(n===1)throw n=$o,Zr(e,0),sr(e,t),Vt(e,Be()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,Nt,_n),Vt(e,Be()),null}function kp(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(os=Be()+500,Fu&&Rr())}}function li(e){ar!==null&&ar.tag===0&&!(de&6)&&Qi();var t=de;de|=1;var n=nn.transition,r=Se;try{if(nn.transition=null,Se=1,e)return e()}finally{Se=r,nn.transition=n,de=t,!(de&6)&&Rr()}}function bp(){Bt=Mi.current,ke(Mi)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tb(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:is(),ke($t),ke(Et),mp();break;case 5:pp(r);break;case 4:is();break;case 13:ke(Ae);break;case 19:ke(Ae);break;case 10:cp(r.type._context);break;case 22:case 23:bp()}n=n.return}if(nt=e,We=e=gr(e.current,null),ut=Bt=t,Ye=0,$o=null,Tp=zu=ai=0,Nt=io=null,Wr!==null){for(t=0;t<Wr.length;t++)if(n=Wr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wr=null}return e}function Yw(e,t){do{var n=We;try{if(up(),ml.current=Hl,zl){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zl=!1}if(oi=0,et=qe=Re=null,no=!1,No=0,xp.current=null,n===null||n.return===null){Ye=1,$o=t,We=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=fy(o);if(d!==null){d.flags&=-257,dy(d,o,a,s,t),d.mode&1&&hy(s,u,t),t=d,l=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(l),t.updateQueue=w}else m.add(l);break e}else{if(!(t&1)){hy(s,u,t),Ip();break e}l=Error(_(426))}}else if(Ie&&a.mode&1){var x=fy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dy(x,o,a,s,t),ap(ss(l,a));break e}}s=l=ss(l,a),Ye!==4&&(Ye=2),io===null?io=[s]:io.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Nw(s,l,t);iy(s,y);break e;case 1:a=l;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pr===null||!pr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Lw(s,a,t);iy(s,E);break e}}s=s.return}while(s!==null)}Zw(n)}catch(T){t=T,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function Xw(){var e=Kl.current;return Kl.current=Hl,e===null?Hl:e}function Ip(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),nt===null||!(ai&268435455)&&!(zu&268435455)||sr(nt,ut)}function ql(e,t){var n=de;de|=2;var r=Xw();(nt!==e||ut!==t)&&(_n=null,Zr(e,t));do try{bb();break}catch(i){Yw(e,i)}while(1);if(up(),de=n,Kl.current=r,We!==null)throw Error(_(261));return nt=null,ut=0,Ye}function bb(){for(;We!==null;)Jw(We)}function Ib(){for(;We!==null&&!JC();)Jw(We)}function Jw(e){var t=tS(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?Zw(e):We=t,xp.current=null}function Zw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sb(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(n=wb(n,t,Bt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function jr(e,t,n){var r=Se,i=nn.transition;try{nn.transition=null,Se=1,Db(e,t,n,r)}finally{nn.transition=i,Se=r}return null}function Db(e,t,n,r){do Qi();while(ar!==null);if(de&6)throw Error(_(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lk(e,s),e===nt&&(We=nt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ga||(Ga=!0,nS(Al,function(){return Qi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var o=Se;Se=1;var a=de;de|=4,xp.current=null,xb(e,n),Gw(n,e),qk(Ef),_l=!!Sf,Ef=Sf=null,e.current=n,Tb(n),ZC(),de=a,Se=o,nn.transition=s}else e.current=n;if(Ga&&(Ga=!1,ar=e,Gl=i),s=e.pendingLanes,s===0&&(pr=null),nk(n.stateNode),Vt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Bf,Bf=null,e;return Gl&1&&e.tag!==0&&Qi(),s=e.pendingLanes,s&1?e===Uf?so++:(so=0,Uf=e):so=0,Rr(),null}function Qi(){if(ar!==null){var e=R1(Gl),t=nn.transition,n=Se;try{if(nn.transition=null,Se=16>e?16:e,ar===null)var r=!1;else{if(e=ar,ar=null,Gl=0,de&6)throw Error(_(331));var i=de;for(de|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:ro(8,c,s)}var f=c.child;if(f!==null)f.return=c,j=f;else for(;j!==null;){c=j;var h=c.sibling,d=c.return;if(Hw(c),c===u){j=null;break}if(h!==null){h.return=d,j=h;break}j=d}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ro(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,j=y;break e}j=s.return}}var p=e.current;for(j=p;j!==null;){o=j;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,j=g;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uu(9,a)}}catch(T){$e(a,a.return,T)}if(a===o){j=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,j=E;break e}j=a.return}}if(de=i,Rr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Lu,e)}catch{}r=!0}return r}finally{Se=n,nn.transition=t}}return!1}function by(e,t,n){t=ss(n,t),t=Nw(e,t,1),e=dr(e,t,1),t=Dt(),e!==null&&(ra(e,1,t),Vt(e,t))}function $e(e,t,n){if(e.tag===3)by(e,e,n);else for(;t!==null;){if(t.tag===3){by(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pr===null||!pr.has(r))){e=ss(n,e),e=Lw(t,e,1),t=dr(t,e,1),e=Dt(),t!==null&&(ra(t,1,e),Vt(t,e));break}}t=t.return}}function Ab(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(ut&n)===n&&(Ye===4||Ye===3&&(ut&130023424)===ut&&500>Be()-Cp?Zr(e,0):Tp|=n),Vt(e,t)}function eS(e,t){t===0&&(e.mode&1?(t=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):t=1);var n=Dt();e=zn(e,t),e!==null&&(ra(e,t,n),Vt(e,n))}function Pb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eS(e,n)}function _b(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),eS(e,n)}var tS;tS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,vb(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,Ie&&t.flags&1048576&&iw(t,Vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yl(e,t),e=t.pendingProps;var i=ts(t,Et.current);qi(t,n),i=yp(null,t,r,e,i,n);var s=vp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(s=!0,$l(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fp(t),i.updater=ju,t.stateNode=i,i._reactInternals=t,Pf(t,r,e,n),t=Nf(null,t,r,!0,s,n)):(t.tag=0,Ie&&s&&sp(t),Ct(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Nb(r),e=cn(r,e),i){case 0:t=Rf(null,t,r,e,n);break e;case 1:t=gy(null,t,r,e,n);break e;case 11:t=py(null,t,r,e,n);break e;case 14:t=my(null,t,r,cn(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cn(r,i),Rf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cn(r,i),gy(e,t,r,i,n);case 3:e:{if(Vw(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,i=s.element,lw(e,t),Bl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ss(Error(_(423)),t),t=yy(e,t,r,n,i);break e}else if(r!==i){i=ss(Error(_(424)),t),t=yy(e,t,r,n,i);break e}else for(Ut=fr(t.stateNode.containerInfo.firstChild),zt=t,Ie=!0,fn=null,n=fw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===i){t=Hn(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return dw(t),e===null&&If(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,xf(r,i)?o=null:s!==null&&xf(r,s)&&(t.flags|=32),Mw(e,t),Ct(e,t,o,n),t.child;case 6:return e===null&&If(t),null;case 13:return Fw(e,t,n);case 4:return dp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rs(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cn(r,i),py(e,t,r,i,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,xe(Fl,r._currentValue),r._currentValue=o,s!==null)if(gn(s.value,o)){if(s.children===i.children&&!$t.current){t=Hn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Df(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Df(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,qi(t,n),i=on(i),r=r(i),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,i=cn(r,t.pendingProps),i=cn(r.type,i),my(e,t,r,i,n);case 15:return Ow(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cn(r,i),yl(e,t),t.tag=1,Mt(r)?(e=!0,$l(t)):e=!1,qi(t,n),cw(t,r,i),Pf(t,r,i,n),Nf(null,t,r,!0,e,n);case 19:return jw(e,t,n);case 22:return $w(e,t,n)}throw Error(_(156,t.tag))};function nS(e,t){return D1(e,t)}function Rb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new Rb(e,t,n,r)}function Dp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nb(e){if(typeof e=="function")return Dp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gd)return 11;if(e===qd)return 14}return 2}function gr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Dp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ii:return ei(n.children,i,s,t);case Wd:o=8,i|=8;break;case Zh:return e=en(12,n,t,i|2),e.elementType=Zh,e.lanes=s,e;case ef:return e=en(13,n,t,i),e.elementType=ef,e.lanes=s,e;case tf:return e=en(19,n,t,i),e.elementType=tf,e.lanes=s,e;case h1:return Hu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u1:o=10;break e;case c1:o=9;break e;case Gd:o=11;break e;case qd:o=14;break e;case tr:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=en(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ei(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function Hu(e,t,n,r){return e=en(22,e,r,t),e.elementType=h1,e.lanes=n,e.stateNode={isHidden:!1},e}function oh(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function ah(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lb(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ap(e,t,n,r,i,s,o,a,l){return e=new Lb(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=en(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(s),e}function Ob(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rS(e){if(!e)return Cr;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Mt(n))return nw(e,n,t)}return t}function iS(e,t,n,r,i,s,o,a,l){return e=Ap(n,r,!0,e,i,s,o,a,l),e.context=rS(null),n=e.current,r=Dt(),i=mr(n),s=Vn(r,i),s.callback=t??null,dr(n,s,i),e.current.lanes=i,ra(e,i,r),Vt(e,r),e}function Ku(e,t,n,r){var i=t.current,s=Dt(),o=mr(i);return n=rS(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dr(i,t,o),e!==null&&(mn(e,i,o,s),pl(e,i,o)),o}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pp(e,t){Iy(e,t),(e=e.alternate)&&Iy(e,t)}function $b(){return null}var sS=typeof reportError=="function"?reportError:function(e){console.error(e)};function _p(e){this._internalRoot=e}Wu.prototype.render=_p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Ku(e,t,null,null)};Wu.prototype.unmount=_p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){Ku(null,e,null,null)}),t[Un]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=O1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ir.length&&t!==0&&t<ir[n].priority;n++);ir.splice(n,0,e),n===0&&M1(e)}};function Rp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dy(){}function Mb(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ql(o);s.call(u)}}var o=iS(t,r,e,0,null,!1,!1,"",Dy);return e._reactRootContainer=o,e[Un]=o.current,Do(e.nodeType===8?e.parentNode:e),li(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ql(l);a.call(u)}}var l=Ap(e,0,!1,null,null,!1,!1,"",Dy);return e._reactRootContainer=l,e[Un]=l.current,Do(e.nodeType===8?e.parentNode:e),li(function(){Ku(t,l,n,r)}),l}function qu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ql(o);a.call(l)}}Ku(t,o,e,i)}else o=Mb(n,t,e,i,r);return Ql(o)}N1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(Xd(t,n|1),Vt(t,Be()),!(de&6)&&(os=Be()+500,Rr()))}break;case 13:li(function(){var r=zn(e,1);if(r!==null){var i=Dt();mn(r,e,1,i)}}),Pp(e,1)}};Jd=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var n=Dt();mn(t,e,134217728,n)}Pp(e,134217728)}};L1=function(e){if(e.tag===13){var t=mr(e),n=zn(e,t);if(n!==null){var r=Dt();mn(n,e,t,r)}Pp(e,t)}};O1=function(){return Se};$1=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};ff=function(e,t,n){switch(t){case"input":if(sf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vu(r);if(!i)throw Error(_(90));d1(r),sf(r,i)}}}break;case"textarea":m1(e,n);break;case"select":t=n.value,t!=null&&Hi(e,!!n.multiple,t,!1)}};x1=kp;T1=li;var Vb={usingClientEntryPoint:!1,Events:[sa,_i,Vu,S1,E1,kp]},Ms={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fb={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{Lu=qa.inject(Fb),Tn=qa}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vb;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(t))throw Error(_(200));return Ob(e,t,null,n)};Gt.createRoot=function(e,t){if(!Rp(e))throw Error(_(299));var n=!1,r="",i=sS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ap(e,1,!1,null,null,n,!1,r,i),e[Un]=t.current,Do(e.nodeType===8?e.parentNode:e),new _p(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=b1(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return li(e)};Gt.hydrate=function(e,t,n){if(!Gu(t))throw Error(_(200));return qu(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!Rp(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=iS(t,null,e,1,n??null,i,!1,s,o),e[Un]=t.current,Do(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wu(t)};Gt.render=function(e,t,n){if(!Gu(t))throw Error(_(200));return qu(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(_(40));return e._reactRootContainer?(li(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};Gt.unstable_batchedUpdates=kp;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gu(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return qu(e,t,n,!1,r)};Gt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Gt})($C);var Ay=Yh;Qh.createRoot=Ay.createRoot,Qh.hydrateRoot=Ay.hydrateRoot;const jb="modulepreload",Bb=function(e){return"/Latest/"+e},Py={},Nr=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Bb(s),s in Py)return;Py[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":jb,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},oS=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Qu=v.createContext({}),Yu=v.createContext(null),Xu=typeof document<"u",Yl=Xu?v.useLayoutEffect:v.useEffect,aS=v.createContext({strict:!1});function Ub(e,t,n,r){const{visualElement:i}=v.useContext(Qu),s=v.useContext(aS),o=v.useContext(Yu),a=v.useContext(oS).reducedMotion,l=v.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return v.useInsertionEffect(()=>{u&&u.update(n,o)}),Yl(()=>{u&&u.render()}),v.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Yl:v.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Vi(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zb(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vi(n)&&(n.current=r))},[t])}function Mo(e){return typeof e=="string"||Array.isArray(e)}function Ju(e){return typeof e=="object"&&typeof e.start=="function"}const Np=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lp=["initial",...Np];function Zu(e){return Ju(e.animate)||Lp.some(t=>Mo(e[t]))}function lS(e){return Boolean(Zu(e)||e.variants)}function Hb(e,t){if(Zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Mo(n)?n:void 0,animate:Mo(r)?r:void 0}}return e.inherit!==!1?t:{}}function Kb(e){const{initial:t,animate:n}=Hb(e,v.useContext(Qu));return v.useMemo(()=>({initial:t,animate:n}),[_y(t),_y(n)])}function _y(e){return Array.isArray(e)?e.join(" "):e}const Ry={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vo={};for(const e in Ry)Vo[e]={isEnabled:t=>Ry[e].some(n=>!!t[n])};function Wb(e){for(const t in e)Vo[t]={...Vo[t],...e[t]}}function Op(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Gb=1;function qb(){return Op(()=>{if(oo.hasEverUpdated)return Gb++})}const $p=v.createContext({}),uS=v.createContext({}),Qb=Symbol.for("motionComponentSymbol");function Yb({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Wb(e);function s(a,l){let u;const c={...v.useContext(oS),...a,layoutId:Xb(a)},{isStatic:f}=c,h=Kb(a),d=f?void 0:qb(),m=r(a,f);if(!f&&Xu){h.visualElement=Ub(i,m,c,t);const w=v.useContext(uS),x=v.useContext(aS).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,x,e,d,w))}return v.createElement(Qu.Provider,{value:h},u&&h.visualElement?v.createElement(u,{visualElement:h.visualElement,...c}):null,n(i,a,d,zb(m,h.visualElement,l),m,f,h.visualElement))}const o=v.forwardRef(s);return o[Qb]=i,o}function Xb({layoutId:e}){const t=v.useContext($p).id;return t&&e!==void 0?t+"-"+e:e}function Jb(e){function t(r,i={}){return Yb(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Zb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mp(e){return typeof e!="string"||e.includes("-")?!1:!!(Zb.indexOf(e)>-1||/[A-Z]/.test(e))}const Xl={};function eI(e){Object.assign(Xl,e)}const ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(ec);function cS(e,{layout:t,layoutId:n}){return gi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xl[e]||e==="opacity")}const Ft=e=>Boolean(e&&e.getVelocity),tI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nI=ec.length;function rI(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<nI;o++){const a=ec[o];if(e[a]!==void 0){const l=tI[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const hS=e=>t=>typeof t=="string"&&t.startsWith(e),fS=hS("--"),Kf=hS("var(--"),iI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ui=(e,t,n)=>Math.min(Math.max(n,e),t),yi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ao={...yi,transform:e=>ui(0,1,e)},Qa={...yi,default:1},lo=e=>Math.round(e*1e5)/1e5,Fo=/(-)?([\d]*\.?[\d])+/g,Wf=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function aa(e){return typeof e=="string"}const la=e=>({test:t=>aa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),er=la("deg"),kn=la("%"),ne=la("px"),oI=la("vh"),aI=la("vw"),Ny={...kn,parse:e=>kn.parse(e)/100,transform:e=>kn.transform(e*100)},Ly={...yi,transform:Math.round},dS={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:Qa,scaleX:Qa,scaleY:Qa,scaleZ:Qa,skew:er,skewX:er,skewY:er,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:ao,originX:Ny,originY:Ny,originZ:ne,zIndex:Ly,fillOpacity:ao,strokeOpacity:ao,numOctaves:Ly};function Vp(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const h=t[f];if(fS(f)){s[f]=h;continue}const d=dS[f],m=iI(h,d);if(gi.has(f)){if(l=!0,o[f]=m,!c)continue;h!==(d.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=m):i[f]=m}if(t.transform||(l||r?i.transform=rI(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${h} ${d}`}}const Fp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pS(e,t,n){for(const r in t)!Ft(t[r])&&!cS(r,n)&&(e[r]=t[r])}function lI({transformTemplate:e},t,n){return v.useMemo(()=>{const r=Fp();return Vp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function uI(e,t,n){const r=e.style||{},i={};return pS(i,r,e),Object.assign(i,lI(e,t,n)),e.transformValues?e.transformValues(i):i}function cI(e,t,n){const r={},i=uI(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const hI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Jl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||hI.has(e)}let mS=e=>!Jl(e);function fI(e){e&&(mS=t=>t.startsWith("on")?!Jl(t):e(t))}try{fI(require("@emotion/is-prop-valid").default)}catch{}function dI(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(mS(i)||n===!0&&Jl(i)||!t&&!Jl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Oy(e,t,n){return typeof e=="string"?e:ne.transform(t+n*e)}function pI(e,t,n){const r=Oy(t,e.x,e.width),i=Oy(n,e.y,e.height);return`${r} ${i}`}const mI={offset:"stroke-dashoffset",array:"stroke-dasharray"},gI={offset:"strokeDashoffset",array:"strokeDasharray"};function yI(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?mI:gI;e[s.offset]=ne.transform(-r);const o=ne.transform(t),a=ne.transform(n);e[s.array]=`${o} ${a}`}function jp(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,f){if(Vp(e,l,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:d,dimensions:m}=e;h.transform&&(m&&(d.transform=h.transform),delete h.transform),m&&(r!==void 0||i!==void 0||d.transform)&&(d.transformOrigin=pI(m,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&yI(h,s,o,a,!1)}const gS=()=>({...Fp(),attrs:{}}),Bp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vI(e,t,n,r){const i=v.useMemo(()=>{const s=gS();return jp(s,t,{enableHardwareAcceleration:!1},Bp(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};pS(s,e.style,e),i.style={...s,...i.style}}return i}function wI(e=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(Mp(n)?vI:cI)(r,o,a,n),f={...dI(r,typeof n=="string",e),...u,ref:s},{children:h}=r,d=v.useMemo(()=>Ft(h)?h.get():h,[h]);return i&&(f["data-projection-id"]=i),v.createElement(n,{...f,children:d})}}const Up=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function yS(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const vS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wS(e,t,n,r){yS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(vS.has(i)?i:Up(i),t.attrs[i])}function zp(e,t){const{style:n}=e,r={};for(const i in n)(Ft(n[i])||t.style&&Ft(t.style[i])||cS(i,e))&&(r[i]=n[i]);return r}function SS(e,t){const n=zp(e,t);for(const r in e)if(Ft(e[r])||Ft(t[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=e[r]}return n}function Hp(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}const Zl=e=>Array.isArray(e),SI=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),EI=e=>Zl(e)?e[e.length-1]||0:e;function El(e){const t=Ft(e)?e.get():e;return SI(t)?t.toValue():t}function xI({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:TI(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const ES=e=>(t,n)=>{const r=v.useContext(Qu),i=v.useContext(Yu),s=()=>xI(e,t,r,i);return n?s():Op(s)};function TI(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=El(s[h]);let{initial:o,animate:a}=e;const l=Zu(e),u=lS(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!Ju(f)&&(Array.isArray(f)?f:[f]).forEach(d=>{const m=Hp(e,d);if(!m)return;const{transitionEnd:w,transition:x,...y}=m;for(const p in y){let g=y[p];if(Array.isArray(g)){const E=c?g.length-1:0;g=g[E]}g!==null&&(i[p]=g)}for(const p in w)i[p]=w[p]}),i}const CI={useVisualState:ES({scrapeMotionValuesFromProps:SS,createRenderState:gS,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}jp(n,r,{enableHardwareAcceleration:!1},Bp(t.tagName),e.transformTemplate),wS(t,n)}})},kI={useVisualState:ES({scrapeMotionValuesFromProps:zp,createRenderState:Fp})};function bI(e,{forwardMotionProps:t=!1},n,r){return{...Mp(e)?CI:kI,preloadedFeatures:n,useRender:wI(t),createVisualElement:r,Component:e}}function On(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const xS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function tc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const II=e=>t=>xS(t)&&e(t,tc(t));function Fn(e,t,n,r){return On(e,t,II(n),r)}const DI=(e,t)=>n=>t(e(n)),yr=(...e)=>e.reduce(DI);function TS(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const $y=TS("dragHorizontal"),My=TS("dragVertical");function CS(e){let t=!1;if(e==="y")t=My();else if(e==="x")t=$y();else{const n=$y(),r=My();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function kS(){const e=CS(!0);return e?(e(),!1):!0}class Lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function AI(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,h=f?t:n;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),f&&i&&(r=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let u=0;u<r;u++){const c=t[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const vr={delta:0,timestamp:0},PI=40;let Gf=!0,jo=!1,qf=!1;const ua=["read","update","preRender","render","postRender"],nc=ua.reduce((e,t)=>(e[t]=AI(()=>jo=!0),e),{}),be=ua.reduce((e,t)=>{const n=nc[t];return e[t]=(r,i=!1,s=!1)=>(jo||RI(),n.schedule(r,i,s)),e},{}),kr=ua.reduce((e,t)=>(e[t]=nc[t].cancel,e),{}),lh=ua.reduce((e,t)=>(e[t]=()=>nc[t].process(vr),e),{}),_I=e=>nc[e].process(vr),bS=e=>{jo=!1,vr.delta=Gf?1e3/60:Math.max(Math.min(e-vr.timestamp,PI),1),vr.timestamp=e,qf=!0,ua.forEach(_I),qf=!1,jo&&(Gf=!1,requestAnimationFrame(bS))},RI=()=>{jo=!0,Gf=!0,qf||requestAnimationFrame(bS)};function Vy(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||kS())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&be.update(()=>a[r](s,o))};return Fn(e.current,n,i,{passive:!e.getProps()[r]})}class NI extends Lr{mount(){this.unmount=yr(Vy(this.node,!0),Vy(this.node,!1))}unmount(){}}class LI extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yr(On(this.node.current,"focus",()=>this.onFocus()),On(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IS=(e,t)=>t?e===t?!0:IS(e,t.parentElement):!1,rn=e=>e;function uh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,tc(n))}class OI extends Lr{constructor(){super(...arguments),this.removeStartListeners=rn,this.removeEndListeners=rn,this.removeAccessibleListeners=rn,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Fn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();be.update(()=>{IS(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Fn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yr(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||uh("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&be.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=On(this.node.current,"keyup",o),uh("down",(a,l)=>{this.startPress(a,l)})},n=On(this.node.current,"keydown",t),r=()=>{this.isPressing&&uh("cancel",(s,o)=>this.cancelPress(s,o))},i=On(this.node.current,"blur",r);this.removeAccessibleListeners=yr(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&be.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kS()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&be.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Fn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=On(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qf=new WeakMap,ch=new WeakMap,$I=e=>{const t=Qf.get(e.target);t&&t(e)},MI=e=>{e.forEach($I)};function VI({root:e,...t}){const n=e||document;ch.has(n)||ch.set(n,{});const r=ch.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(MI,{root:e,...t})),r[i]}function FI(e,t,n){const r=VI(t);return Qf.set(e,n),r.observe(e),()=>{Qf.delete(e),r.unobserve(e)}}const jI={some:0,all:1};class BI extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jI[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return FI(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(UI(t,n))&&this.startObserver()}unmount(){}}function UI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zI={inView:{Feature:BI},tap:{Feature:OI},focus:{Feature:LI},hover:{Feature:NI}};function DS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const HI=e=>/^\-?\d*\.?\d+$/.test(e),KI=e=>/^0[^.\s]+$/.test(e);function Kp(e,t){e.indexOf(t)===-1&&e.push(t)}function Wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Gp{constructor(){this.subscriptions=[]}add(t){return Kp(this.subscriptions,t),()=>Wp(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AS(e,t){return t?e*(1e3/t):0}const WI=e=>!isNaN(parseFloat(e));class GI{constructor(t,n={}){this.version="10.2.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=vr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=WI(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gp);const r=this.events[t].add(n);return t==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?AS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(e,t){return new GI(e,t)}const qp=(e,t)=>n=>Boolean(aa(n)&&sI.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),PS=(e,t,n)=>r=>{if(!aa(r))return r;const[i,s,o,a]=r.match(Fo);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qI=e=>ui(0,255,e),hh={...yi,transform:e=>Math.round(qI(e))},qr={test:qp("rgb","red"),parse:PS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hh.transform(e)+", "+hh.transform(t)+", "+hh.transform(n)+", "+lo(ao.transform(r))+")"};function QI(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yf={test:qp("#"),parse:QI,transform:qr.transform},Fi={test:qp("hsl","hue"),parse:PS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kn.transform(lo(t))+", "+kn.transform(lo(n))+", "+lo(ao.transform(r))+")"},Tt={test:e=>qr.test(e)||Yf.test(e)||Fi.test(e),parse:e=>qr.test(e)?qr.parse(e):Fi.test(e)?Fi.parse(e):Yf.parse(e),transform:e=>aa(e)?e:e.hasOwnProperty("red")?qr.transform(e):Fi.transform(e)},_S="${c}",RS="${n}";function YI(e){var t,n;return isNaN(e)&&aa(e)&&(((t=e.match(Fo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Wf))===null||n===void 0?void 0:n.length)||0)>0}function eu(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,r=0;const i=e.match(Wf);i&&(n=i.length,e=e.replace(Wf,_S),t.push(...i.map(Tt.parse)));const s=e.match(Fo);return s&&(r=s.length,e=e.replace(Fo,RS),t.push(...s.map(yi.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function NS(e){return eu(e).values}function LS(e){const{values:t,numColors:n,tokenised:r}=eu(e),i=t.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?_S:RS,a<n?Tt.transform(s[a]):lo(s[a]));return o}}const XI=e=>typeof e=="number"?0:e;function JI(e){const t=NS(e);return LS(e)(t.map(XI))}const br={test:YI,parse:NS,createTransformer:LS,getAnimatableNone:JI},ZI=new Set(["brightness","contrast","saturate","opacity"]);function eD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fo)||[];if(!r)return e;const i=n.replace(r,"");let s=ZI.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const tD=/([a-z-]*)\(.*?\)/g,Xf={...br,getAnimatableNone:e=>{const t=e.match(tD);return t?t.map(eD).join(" "):e}},nD={...dS,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Xf,WebkitFilter:Xf},Qp=e=>nD[e];function Yp(e,t){let n=Qp(e);return n!==Xf&&(n=br),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OS=e=>t=>t.test(e),rD={test:e=>e==="auto",parse:e=>e},$S=[yi,ne,kn,er,aI,oI,rD],Vs=e=>$S.find(OS(e)),iD=[...$S,Tt,br],sD=e=>iD.find(OS(e));function oD(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function aD(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function rc(e,t,n){const r=e.getProps();return Hp(r,t,n!==void 0?n:r.custom,oD(e),aD(e))}function lD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,as(n))}function uD(e,t){const n=rc(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=EI(s[o]);lD(e,o,a)}}function cD(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(HI(c)||KI(c))?c=parseFloat(c):!sD(c)&&br.test(u)&&(c=Yp(l,u)),e.addValue(l,as(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function hD(e,t){return t?(t[e]||t.default||t).from:void 0}function fD(e,t,n){const r={};for(const i in e){const s=hD(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function tu(e){return Boolean(Ft(e)&&e.add)}const dD="framerAppearId",pD="data-"+Up(dD);let mD=rn,nu=rn;const wr=e=>e*1e3,ls=e=>e/1e3,gD={current:!1};function yD(e){return!e||Array.isArray(e)||typeof e=="string"&&MS[e]}const Gs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,MS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gs([0,.65,.55,1]),circOut:Gs([.55,0,1,.45]),backIn:Gs([.31,.01,.66,-.59]),backOut:Gs([.33,1.53,.69,.99])};function vD(e){if(e)return Array.isArray(e)?Gs(e):MS[e]}function wD(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};return l&&(u.offset=l),e.animate(u,{delay:r,duration:i,easing:vD(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Fy={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},fh={},VS={};for(const e in Fy)VS[e]=()=>(fh[e]===void 0&&(fh[e]=Fy[e]()),fh[e]);function SD(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Xp=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jp=e=>t=>1-e(1-t),Zp=e=>e*e,ED=Jp(Zp),FS=Xp(Zp),Pe=(e,t,n)=>-n*e+n*t+e;function dh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xD({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=dh(l,a,e+1/3),s=dh(l,a,e),o=dh(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const ph=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},TD=[Yf,qr,Fi],CD=e=>TD.find(t=>t.test(e));function jy(e){const t=CD(e);let n=t.parse(e);return t===Fi&&(n=xD(n)),n}const jS=(e,t)=>{const n=jy(e),r=jy(t),i={...n};return s=>(i.red=ph(n.red,r.red,s),i.green=ph(n.green,r.green,s),i.blue=ph(n.blue,r.blue,s),i.alpha=Pe(n.alpha,r.alpha,s),qr.transform(i))};function BS(e,t){return typeof e=="number"?n=>Pe(e,t,n):Tt.test(e)?jS(e,t):zS(e,t)}const US=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>BS(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},kD=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=BS(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},zS=(e,t)=>{const n=br.createTransformer(t),r=eu(e),i=eu(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?yr(US(r.values,i.values),n):o=>`${o>0?t:e}`},Bo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},By=(e,t)=>n=>Pe(e,t,n);function bD(e){return typeof e=="number"?By:typeof e=="string"?Tt.test(e)?jS:zS:Array.isArray(e)?US:typeof e=="object"?kD:By}function ID(e,t,n){const r=[],i=n||bD(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]:t;a=yr(l,a)}r.push(a)}return r}function HS(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;nu(s===t.length),nu(!r||!Array.isArray(r)||r.length===s-1),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ID(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=Bo(e[c],e[c+1],u);return o[c](f)};return n?u=>l(ui(e[0],e[s-1],u)):l}function DD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Bo(0,t,r);e.push(Pe(n,1,i))}}function AD(e){const t=[0];return DD(t,e.length-1),t}function PD(e,t){return e.map(n=>n*t)}const KS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_D=1e-7,RD=12;function ND(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=KS(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>_D&&++a<RD);return o}function WS(e,t,n,r){if(e===t&&n===r)return rn;const i=s=>ND(s,0,1,e,n);return s=>s===0||s===1?s:KS(i(s),t,r)}const GS=e=>1-Math.sin(Math.acos(e)),em=Jp(GS),LD=Xp(em),qS=WS(.33,1.53,.69,.99),tm=Jp(qS),OD=Xp(tm),$D=e=>(e*=2)<1?.5*tm(e):.5*(2-Math.pow(2,-10*(e-1))),MD={linear:rn,easeIn:Zp,easeInOut:FS,easeOut:ED,circIn:GS,circInOut:LD,circOut:em,backIn:tm,backInOut:OD,backOut:qS,anticipate:$D},Uy=e=>{if(Array.isArray(e)){nu(e.length===4);const[t,n,r,i]=e;return WS(t,n,r,i)}else if(typeof e=="string")return MD[e];return e},VD=e=>Array.isArray(e)&&typeof e[0]!="number";function FD(e,t){return e.map(()=>t||FS).splice(0,e.length-1)}function ru({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=VD(r)?r.map(Uy):Uy(r),s={done:!1,value:t[0]},o=PD(n&&n.length===t.length?n:AD(t),e),a=HS(o,t,{ease:Array.isArray(i)?i:FD(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const jD=5;function QS(e,t,n){const r=Math.max(t-jD,0);return AS(n-e(r),t-r)}const mh=.001,BD=.01,zy=10,UD=.05,zD=1;function HD({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;mD(e<=wr(zy));let o=1-t;o=ui(UD,zD,o),e=ui(BD,zy,ls(e)),o<1?(i=u=>{const c=u*o,f=c*e,h=c-n,d=Jf(u,o),m=Math.exp(-f);return mh-h/d*m},s=u=>{const f=u*o*e,h=f*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-f),w=Jf(Math.pow(u,2),o);return(-i(u)+mh>0?-1:1)*((h-d)*m)/w}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-mh+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=WD(i,s,a);if(e=wr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const KD=12;function WD(e,t,n){let r=n;for(let i=1;i<KD;i++)r=r-e(r)/t(r);return r}function Jf(e,t){return e*Math.sqrt(1-t*t)}const GD=["duration","bounce"],qD=["stiffness","damping","mass"];function Hy(e,t){return t.some(n=>e[n]!==void 0)}function QD(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Hy(e,qD)&&Hy(e,GD)){const n=HD(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function YS({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:h}=QD(r),d=c?-ls(c):0,m=l/(2*Math.sqrt(a*u)),w=s-i,x=ls(Math.sqrt(a/u)),y=Math.abs(w)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let p;if(m<1){const g=Jf(x,m);p=E=>{const T=Math.exp(-m*x*E);return s-T*((d+m*x*w)/g*Math.sin(g*E)+w*Math.cos(g*E))}}else if(m===1)p=g=>s-Math.exp(-x*g)*(w+(d+x*w)*g);else{const g=x*Math.sqrt(m*m-1);p=E=>{const T=Math.exp(-m*x*E),I=Math.min(g*E,300);return s-T*((d+m*x*w)*Math.sinh(I)+g*w*Math.cosh(I))/g}}return{calculatedDuration:h&&f||null,next:g=>{const E=p(g);if(h)o.done=g>=f;else{let T=d;g!==0&&(m<1?T=QS(p,g,E):T=0);const I=Math.abs(T)<=n,b=Math.abs(s-E)<=t;o.done=I&&b}return o.value=o.done?s:E,o}}}function Ky({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],h={done:!1,value:f},d=C=>a!==void 0&&C<a||l!==void 0&&C>l,m=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*t;const x=f+w,y=o===void 0?x:o(x);y!==x&&(w=y-f);const p=C=>-w*Math.exp(-C/r),g=C=>y+p(C),E=C=>{const M=p(C),F=g(C);h.done=Math.abs(M)<=u,h.value=h.done?y:F};let T,I;const b=C=>{d(h.value)&&(T=C,I=YS({keyframes:[h.value,m(h.value)],velocity:QS(g,C,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return b(0),{calculatedDuration:null,next:C=>{let M=!1;return!I&&T===void 0&&(M=!0,E(C),b(C)),T!==void 0&&C>T?I.next(C-T):(!M&&E(C),h)}}}const YD=e=>{const t=({timestamp:n})=>e(n);return{start:()=>be.update(t,!0),stop:()=>kr.update(t),now:()=>performance.now()}},XD={decay:Ky,inertia:Ky,tween:ru,keyframes:ru,spring:YS},JD=2e4;function ZD(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<JD;)t+=n,r=e.next(t);return t}function iu({autoplay:e=!0,delay:t=0,driver:n=YD,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...h}){let d;const m=XD[i]||ru;let w;m!==ru&&typeof r[0]!="number"&&(w=HS([0,100],r,{clamp:!1}),r=[0,100]);const x=m({...h,keyframes:r});let y;a==="mirror"&&(y=m({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let p="idle",g=null,E=null;x.calculatedDuration===null&&s&&(x.calculatedDuration=ZD(x));const{calculatedDuration:T}=x;let I=1/0,b=1/0;T&&(I=T+o,b=I*(s+1)-o);let C=0;const M=U=>{if(E===null)return;g!==null?C=g:C=U-E,C=Math.max(C-t,0),p==="finished"&&g===null&&(C=b);let B=C,oe=x;if(s){const z=C/I;let Q=Math.floor(z),Z=z%1;!Z&&z>=1&&(Z=1),Z===1&&Q--;const Ee=Q%2;Ee&&(a==="reverse"?(Z=1-Z,o&&(Z-=o/I)):a==="mirror"&&(oe=y)),B=(C>=b?a==="reverse"&&Ee?0:1:ui(0,1,Z))*I}const re=oe.next(B);let{value:ae,done:ge}=re;return f&&f(w?w(ae):ae),T!==null&&(ge=C>=b),g===null&&(p==="finished"||p==="running"&&ge)&&(p="finished",c&&c(),d&&d.stop()),re};return e&&(()=>{d=n(M);const U=d.now();l&&l(),p="running",g!==null?E=U-g:E||(E=U),g=null,d.start()})(),{get currentTime(){return ls(C)},set currentTime(U){g!==null||!d?g=0:E=d.now()-wr(U)},stop:()=>{u&&u(),d&&d.stop()},sample:U=>(E=0,M(U))}}const eA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ya=10,tA=2e4,nA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!yD(t.ease);function rA(e,t,{onUpdate:n,onComplete:r,...i}){if(!(VS.waapi()&&eA.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let{keyframes:o,duration:a=300,ease:l}=i;if(nA(t,i)){const c=iu({...i,repeat:0,delay:0});let f={done:!1,value:o[0]};const h=[];let d=0;for(;!f.done&&d<tA;)f=c.sample(d),h.push(f.value),d+=Ya;o=h,a=d-Ya,l="linear"}const u=wD(e.owner.current,t,o,{...i,duration:a,ease:l});return u.onfinish=()=>{e.set(SD(o,i)),be.update(()=>u.cancel()),r&&r()},{get currentTime(){return ls(u.currentTime||0)},set currentTime(c){u.currentTime=wr(c)},stop:()=>{const{currentTime:c}=u;if(c){const f=iu({...i,autoplay:!1});e.setWithVelocity(f.sample(c-Ya).value,f.sample(c).value,Ya)}be.update(()=>u.cancel())}}}function iA({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{stop:()=>{},currentTime:0});return t?iu({keyframes:[0,1],duration:t,onComplete:i}):i()}const sA={type:"spring",stiffness:500,damping:25,restSpeed:10},oA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aA={type:"keyframes",duration:.8},lA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uA=(e,{keyframes:t})=>t.length>2?aA:gi.has(e)?e.startsWith("scale")?oA(t[1]):sA:lA,Zf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&br.test(t)&&!t.startsWith("url("));function cA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Wy(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function Gy(e){return typeof e=="number"?0:Yp("",e)}function XS(e,t){return e[t]||e.default||e}function hA(e,t,n,r){const i=Zf(t,n);let s=r.from!==void 0?r.from:e.get();return s==="none"&&i&&typeof n=="string"?s=Yp(t,n):Wy(s)&&typeof n=="string"?s=Gy(n):!Array.isArray(n)&&Wy(n)&&typeof s=="string"&&(n=Gy(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const nm=(e,t,n,r={})=>i=>{const s=XS(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-wr(o);const l=hA(t,e,n,s),u=l[0],c=l[l.length-1],f=Zf(e,u),h=Zf(e,c);let d={keyframes:l,velocity:t.getVelocity(),...s,delay:-a,onUpdate:m=>{t.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!f||!h||gD.current||s.type===!1)return iA(d);if(cA(s)||(d={...d,...uA(e,d)}),d.duration&&(d.duration=wr(d.duration)),d.repeatDelay&&(d.repeatDelay=wr(d.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=rA(t,e,d);if(m)return m}return iu(d)};function fA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>ed(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=ed(e,t,n);else{const i=typeof t=="function"?rc(e,t,n.custom):t;r=JS(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}function ed(e,t,n={}){const r=rc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>JS(e,r,n):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return dA(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(n.delay)])}function JS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const h=e.getValue(f),d=a[f];if(!h||d===void 0||c&&mA(c,f))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const x=e.getProps()[pD];x&&(m.elapsed=window.HandoffAppearAnimations(x,f,h,be))}let w=h.start(nm(f,h,d,e.shouldReduceMotion&&gi.has(f)?{type:!1}:m));tu(l)&&(l.add(f),w=w.then(()=>l.remove(f))),u.push(w)}return Promise.all(u).then(()=>{o&&uD(e,o)})}function dA(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(pA).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(ed(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function pA(e,t){return e.sortNodePosition(t)}function mA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}const gA=[...Np].reverse(),yA=Np.length;function vA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fA(e,n,r)))}function wA(e){let t=vA(e);const n=EA();let r=!0;const i=(l,u)=>{const c=rc(e,u);if(c){const{transition:f,transitionEnd:h,...d}=c;l={...l,...d,...h}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},h=[],d=new Set;let m={},w=1/0;for(let y=0;y<yA;y++){const p=gA[y],g=n[p],E=c[p]!==void 0?c[p]:f[p],T=Mo(E),I=p===u?g.isActive:null;I===!1&&(w=y);let b=E===f[p]&&E!==c[p]&&T;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...m},!g.isActive&&I===null||!E&&!g.prevProp||Ju(E)||typeof E=="boolean")continue;const C=SA(g.prevProp,E);let M=C||p===u&&g.isActive&&!b&&T||y>w&&T;const F=Array.isArray(E)?E:[E];let $=F.reduce(i,{});I===!1&&($={});const{prevResolvedValues:U={}}=g,B={...U,...$},oe=re=>{M=!0,d.delete(re),g.needsAnimating[re]=!0};for(const re in B){const ae=$[re],ge=U[re];m.hasOwnProperty(re)||(ae!==ge?Zl(ae)&&Zl(ge)?!DS(ae,ge)||C?oe(re):g.protectedKeys[re]=!0:ae!==void 0?oe(re):d.add(re):ae!==void 0&&d.has(re)?oe(re):g.protectedKeys[re]=!0)}g.prevProp=E,g.prevResolvedValues=$,g.isActive&&(m={...m,...$}),r&&e.blockInitialAnimation&&(M=!1),M&&!b&&h.push(...F.map(re=>({animation:re,options:{type:p,...l}})))}if(d.size){const y={};d.forEach(p=>{const g=e.getBaseTarget(p);g!==void 0&&(y[p]=g)}),h.push({animation:y})}let x=Boolean(h.length);return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function SA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DS(t,e):!1}function Mr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EA(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}class xA extends Lr{constructor(t){super(t),t.animationState||(t.animationState=wA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ju(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let TA=0;class CA extends Lr{constructor(){super(...arguments),this.id=TA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const kA={animation:{Feature:xA},exit:{Feature:CA}},qy=(e,t)=>Math.abs(e-t);function bA(e,t){const n=qy(e.x,t.x),r=qy(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZS{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=yh(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=bA(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:h}=u,{timestamp:d}=vr;this.history.push({...h,timestamp:d});const{onStart:m,onMove:w}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=gh(c,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,d=yh(u.type==="pointercancel"?this.lastMoveEventInfo:gh(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,d),h&&h(u,d)},!xS(t))return;this.handlers=n,this.transformPagePoint=r;const i=tc(t),s=gh(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=vr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,yh(s,this.history)),this.removeListeners=yr(Fn(window,"pointermove",this.handlePointerMove),Fn(window,"pointerup",this.handlePointerUp),Fn(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kr.update(this.updatePoint)}}function gh(e,t){return t?{point:t(e.point)}:e}function Qy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yh({point:e},t){return{point:e,delta:Qy(e,eE(t)),offset:Qy(e,IA(t)),velocity:DA(t,.1)}}function IA(e){return e[0]}function eE(e){return e[e.length-1]}function DA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=eE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wr(t)));)n--;if(!r)return{x:0,y:0};const s=ls(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Kt(e){return e.max-e.min}function td(e,t=0,n=.01){return Math.abs(e-t)<=n}function Yy(e,t,n,r=.5){e.origin=r,e.originPoint=Pe(t.min,t.max,e.origin),e.scale=Kt(n)/Kt(t),(td(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Pe(n.min,n.max,e.origin)-e.originPoint,(td(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){Yy(e.x,t.x,n.x,r?r.originX:void 0),Yy(e.y,t.y,n.y,r?r.originY:void 0)}function Xy(e,t,n){e.min=n.min+t.min,e.max=e.min+Kt(t)}function AA(e,t,n){Xy(e.x,t.x,n.x),Xy(e.y,t.y,n.y)}function Jy(e,t,n){e.min=t.min-n.min,e.max=e.min+Kt(t)}function co(e,t,n){Jy(e.x,t.x,n.x),Jy(e.y,t.y,n.y)}function PA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Pe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Pe(n,e,r.max):Math.min(e,n)),e}function Zy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _A(e,{top:t,left:n,bottom:r,right:i}){return{x:Zy(e.x,n,i),y:Zy(e.y,t,r)}}function ev(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function RA(e,t){return{x:ev(e.x,t.x),y:ev(e.y,t.y)}}function NA(e,t){let n=.5;const r=Kt(e),i=Kt(t);return i>r?n=Bo(t.min,t.max-r,e.min):r>i&&(n=Bo(e.min,e.max-i,t.min)),ui(0,1,n)}function LA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const nd=.35;function OA(e=nd){return e===!1?e=0:e===!0&&(e=nd),{x:tv(e,"left","right"),y:tv(e,"top","bottom")}}function tv(e,t,n){return{min:nv(e,t),max:nv(e,n)}}function nv(e,t){return typeof e=="number"?e:e[t]||0}const rv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:rv(),y:rv()}),iv=()=>({min:0,max:0}),ze=()=>({x:iv(),y:iv()});function wn(e){return[e("x"),e("y")]}function tE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function $A({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vh(e){return e===void 0||e===1}function rd({scale:e,scaleX:t,scaleY:n}){return!vh(e)||!vh(t)||!vh(n)}function Br(e){return rd(e)||nE(e)||e.z||e.rotate||e.rotateX||e.rotateY}function nE(e){return sv(e.x)||sv(e.y)}function sv(e){return e&&e!=="0%"}function su(e,t,n){const r=e-n,i=t*r;return n+i}function ov(e,t,n,r,i){return i!==void 0&&(e=su(e,i,r)),su(e,n,r)+t}function id(e,t=0,n=1,r,i){e.min=ov(e.min,t,n,r,i),e.max=ov(e.max,t,n,r,i)}function rE(e,{x:t,y:n}){id(e.x,t.translate,t.scale,t.originPoint),id(e.y,n.translate,n.scale,n.originPoint)}function VA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ji(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rE(e,o)),r&&Br(s.latestValues)&&ji(e,s.latestValues))}t.x=av(t.x),t.y=av(t.y)}function av(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function rr(e,t){e.min=e.min+t,e.max=e.max+t}function lv(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=Pe(e.min,e.max,s);id(e,t[n],t[r],o,t.scale)}const FA=["x","scaleX","originX"],jA=["y","scaleY","originY"];function ji(e,t){lv(e.x,t,FA),lv(e.y,t,jA)}function iE(e,t){return tE(MA(e.getBoundingClientRect(),t))}function BA(e,t,n){const r=iE(e,n),{scroll:i}=t;return i&&(rr(r.x,i.offset.x),rr(r.y,i.offset.y)),r}const UA=new WeakMap;class zA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(tc(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:h}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CS(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(m=>{let w=this.getAxisMotionValue(m).get()||0;if(kn.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[m];y&&(w=Kt(y)*(parseFloat(w)/100))}}this.originPoint[m]=w}),h&&be.update(()=>h(l,u));const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:h,onDrag:d}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(f&&this.currentDirection===null){this.currentDirection=HA(m),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),d&&d(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new ZS(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&be.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Xa(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=PA(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Vi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_A(r.layoutBox,t):this.constraints=!1,this.elastic=OA(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=LA(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vi(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BA(r,i.root,this.visualElement.getTransformPagePoint());let o=RA(i.layout.layoutBox,s);if(n){const a=n($A(o));this.hasMutatedConstraints=!!a,a&&(o=tE(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(c=>{if(!Xa(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(nm(t,r,0,n))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wn(n=>{const{drag:r}=this.getProps();if(!Xa(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=NA({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!Xa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Pe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;UA.set(this.visualElement,this);const t=this.visualElement.current,n=Fn(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=On(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=nd,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Xa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class KA extends Lr{constructor(t){super(t),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new zA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const uv=e=>(t,n)=>{e&&be.update(()=>e(t,n))};class WA extends Lr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(t){this.session=new ZS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:uv(t),onStart:uv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&be.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GA(){const e=v.useContext(Yu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function cv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=cv(e,t.target.x),r=cv(e,t.target.y);return`${n}% ${r}%`}},sE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function qA(e){const t=sE.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function sd(e,t,n=1){const[r,i]=qA(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():Kf(i)?sd(i,t,n+1):i}function QA(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Kf(s))return;const o=sd(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Kf(s))continue;const o=sd(s,r);o&&(t[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const hv="_$css",YA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),s=[];i&&(e=e.replace(sE,d=>(s.push(d),hv)));const o=br.parse(e);if(o.length>5)return r;const a=br.createTransformer(e),l=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=c;const f=Pe(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=f),typeof o[3+l]=="number"&&(o[3+l]/=f);let h=a(o);if(i){let d=0;h=h.replace(hv,()=>{const m=s[d];return d++,m})}return h}};class XA extends me.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;eI(JA),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oE(e){const[t,n]=GA(),r=v.useContext($p);return me.createElement(XA,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(uS),isPresent:t,safeToRemove:n})}const JA={borderRadius:{...Fs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fs,borderTopRightRadius:Fs,borderBottomLeftRadius:Fs,borderBottomRightRadius:Fs,boxShadow:YA};class ZA{constructor(t){this.animations=t.filter(Boolean)}get currentTime(){return this.animations[0].currentTime}set currentTime(t){for(let n=0;n<this.animations.length;n++)this.animations[n].currentTime=t}stop(){this.animations.forEach(t=>t.stop())}}function eP(e,t,n={}){const r=Ft(e)?e:as(e);return r.start(nm("",r,t,n)),r.animation||new ZA([])}const aE=["TopLeft","TopRight","BottomLeft","BottomRight"],tP=aE.length,fv=e=>typeof e=="string"?parseFloat(e):e,dv=e=>typeof e=="number"||ne.test(e);function nP(e,t,n,r,i,s){i?(e.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,rP(r)),e.opacityExit=Pe(t.opacity!==void 0?t.opacity:1,0,iP(r))):s&&(e.opacity=Pe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<tP;o++){const a=`border${aE[o]}Radius`;let l=pv(t,a),u=pv(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||dv(l)===dv(u)?(e[a]=Math.max(Pe(fv(l),fv(u),r),0),(kn.test(u)||kn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Pe(t.rotate||0,n.rotate||0,r))}function pv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rP=lE(0,.5,em),iP=lE(.5,.95,rn);function lE(e,t,n){return r=>r<e?0:r>t?1:n(Bo(e,t,r))}function mv(e,t){e.min=t.min,e.max=t.max}function Qt(e,t){mv(e.x,t.x),mv(e.y,t.y)}function gv(e,t,n,r,i){return e-=t,e=su(e,1/n,r),i!==void 0&&(e=su(e,1/i,r)),e}function sP(e,t=0,n=1,r=.5,i,s=e,o=e){if(kn.test(t)&&(t=parseFloat(t),t=Pe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Pe(s.min,s.max,r);e===s&&(a-=t),e.min=gv(e.min,t,n,a,i),e.max=gv(e.max,t,n,a,i)}function yv(e,t,[n,r,i],s,o){sP(e,t[n],t[r],t[i],t.scale,s,o)}const oP=["x","scaleX","originX"],aP=["y","scaleY","originY"];function vv(e,t,n,r){yv(e.x,t,oP,n?n.x:void 0,r?r.x:void 0),yv(e.y,t,aP,n?n.y:void 0,r?r.y:void 0)}function wv(e){return e.translate===0&&e.scale===1}function uE(e){return wv(e.x)&&wv(e.y)}function od(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Sv(e){return Kt(e.x)/Kt(e.y)}class lP{constructor(){this.members=[]}add(t){Kp(this.members,t),t.scheduleRender()}remove(t){if(Wp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ev(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const uP=(e,t)=>e.depth-t.depth;class cP{constructor(){this.children=[],this.isDirty=!1}add(t){Kp(this.children,t),this.isDirty=!0}remove(t){Wp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uP),this.isDirty=!1,this.children.forEach(t)}}function hP(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(kr.read(r),e(s-t))};return be.read(r,!0),()=>kr.read(r)}function fP(e){window.MotionDebug&&window.MotionDebug.record(e)}const xv=["","X","Y","Z"],Tv=1e3;let dP=0;const Ur={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=t==null?void 0:t()){this.id=dP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ur.totalNodes=Ur.resolvedTargetDeltas=Ur.recalculatedProjection=0,this.nodes.forEach(gP),this.nodes.forEach(SP),this.nodes.forEach(EP),this.nodes.forEach(yP),fP(Ur)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new cP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gp),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=hP(h,250),oo.hasAnimatedSinceResize&&(oo.hasAnimatedSinceResize=!1,this.nodes.forEach(kv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||bP,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),p=!this.targetLayout||!od(this.targetLayout,m)||d,g=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const E={...XS(w,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else!h&&this.animationProgress===0&&kv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cv);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(IP),this.potentialNodes.clear()),this.nodes.forEach(wP),this.nodes.forEach(pP),this.nodes.forEach(mP),this.clearAllSnapshots(),lh.update(),lh.preRender(),lh.render())}clearAllSnapshots(){this.nodes.forEach(vP),this.sharedNodes.forEach(TP)}scheduleUpdateProjection(){be.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!uE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Br(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(rr(a.x,l.offset.x),rr(a.y,l.offset.y)),a}removeElementScroll(o){const a=ze();Qt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Qt(a,o);const{scroll:h}=this.root;h&&(rr(a.x,-h.offset.x),rr(a.y,-h.offset.y))}rr(a.x,c.offset.x),rr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ze();Qt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ji(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Br(c.latestValues)&&ji(l,c.latestValues)}return Br(this.latestValues)&&ji(l,this.latestValues),l}removeTransform(o){const a=ze();Qt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Br(u.latestValues))continue;rd(u.latestValues)&&u.updateSnapshot();const c=ze(),f=u.measurePageBox();Qt(c,f),vv(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Br(this.latestValues)&&vv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout?(this.relativeParent=h,this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),co(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?AA(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),rE(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&Boolean(h.resumingFrom)===Boolean(this.resumingFrom)&&!h.options.layoutScroll&&h.target?(this.relativeParent=h,this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),co(this.relativeTargetOrigin,this.target,h.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ur.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rd(this.parent.latestValues)||nE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Qt(this.layoutCorrected,this.layout.layoutBox),VA(this.layoutCorrected,this.treeScale,this.path,l);const{target:h}=a;if(!h)return;this.projectionDelta||(this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho());const d=this.treeScale.x,m=this.treeScale.y,w=this.projectionTransform;uo(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=Ev(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Ur.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ze(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,w=d!==m,x=this.getStack(),y=!x||x.members.length<=1,p=Boolean(w&&!y&&this.options.crossfade===!0&&!this.path.some(kP));this.animationProgress=0;let g;this.mixTargetDelta=E=>{const T=E/1e3;bv(f.x,o.x,T),bv(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CP(this.relativeTarget,this.relativeTargetOrigin,h,T),g&&od(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ze()),Qt(g,this.relativeTarget)),w&&(this.animationValues=c,nP(c,u,this.latestValues,T,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{oo.hasAnimatedSinceResize=!0,this.currentAnimation=eP(0,Tv,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ze();const f=Kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Qt(a,l),ji(a,c),uo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lP),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<xv.length;c++){const f="rotate"+xv[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=El(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=El(o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Ev(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:d,y:m}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Xl){if(h[w]===void 0)continue;const{correct:x,applyTo:y}=Xl[w],p=u.transform==="none"?h[w]:x(h[w],f);if(y){const g=y.length;for(let E=0;E<g;E++)u[y[E]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=f===this?El(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Cv),this.root.sharedNodes.clear()}}}function pP(e){e.updateLayout()}function mP(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?wn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=Kt(h);h.min=r[f].min,h.max=h.min+d}):hE(s,n.layoutBox,r)&&wn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=Kt(r[f]);h.max=h.min+d});const a=ho();uo(a,r,n.layoutBox);const l=ho();o?uo(l,e.applyTransform(i,!0),n.measuredBox):uo(l,r,n.layoutBox);const u=!uE(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=ze();co(m,n.layoutBox,h.layoutBox);const w=ze();co(w,r,d.layoutBox),od(m,w)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function gP(e){Ur.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vP(e){e.clearSnapshot()}function Cv(e){e.clearMeasurements()}function wP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function SP(e){e.resolveTargetDelta()}function EP(e){e.calcProjection()}function xP(e){e.resetRotation()}function TP(e){e.removeLeadSnapshot()}function bv(e,t,n){e.translate=Pe(t.translate,0,n),e.scale=Pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Iv(e,t,n,r){e.min=Pe(t.min,n.min,r),e.max=Pe(t.max,n.max,r)}function CP(e,t,n,r){Iv(e.x,t.x,n.x,r),Iv(e.y,t.y,n.y,r)}function kP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bP={duration:.45,ease:[.4,0,.1,1]};function IP(e,t){let n=e.root;for(let s=e.path.length-1;s>=0;s--)if(Boolean(e.path[s].instance)){n=e.path[s];break}const i=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function Dv(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function DP(e){Dv(e.x),Dv(e.y)}function hE(e,t,n){return e==="position"||e==="preserve-aspect"&&!td(Sv(t),Sv(n),.2)}const AP=cE({attachResizeListener:(e,t)=>On(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wh={current:void 0},fE=cE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wh.current){const e=new AP(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),wh.current=e}return wh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),PP={pan:{Feature:WA},drag:{Feature:KA,ProjectionNode:fE,MeasureLayout:oE}},_P=new Set(["width","height","top","left","right","bottom","x","y"]),dE=e=>_P.has(e),RP=e=>Object.keys(e).some(dE),Av=e=>e===yi||e===ne,Pv=(e,t)=>parseFloat(e.split(", ")[t]),_v=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Pv(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?Pv(s[1],e):0}},NP=new Set(["x","y","z"]),LP=ec.filter(e=>!NP.has(e));function OP(e){const t=[];return LP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Rv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_v(4,13),y:_v(5,14)},$P=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Rv[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Rv[u](l,s)}),e},MP=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(dE);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=Vs(c);const h=t[l];let d;if(Zl(h)){const m=h.length,w=h[0]===null?1:0;c=h[w],f=Vs(c);for(let x=w;x<m;x++)d?nu(Vs(h[x])===d):d=Vs(h[x])}else d=Vs(h);if(f!==d)if(Av(f)&&Av(d)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&d===ne&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(d!=null&&d.transform)&&(c===0||h===0)?c===0?u.set(d.transform(c)):t[l]=f.transform(h):(o||(s=OP(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=$P(t,e,a);return s.length&&s.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),Xu&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function VP(e,t,n,r){return RP(t)?MP(e,t,n,r):{target:t,transitionEnd:r}}const FP=(e,t,n,r)=>{const i=QA(e,t,r);return t=i.target,r=i.transitionEnd,VP(e,t,n,r)},ad={current:null},pE={current:!1};function jP(){if(pE.current=!0,!!Xu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ad.current=e.matches;e.addListener(t),t()}else ad.current=!1}function BP(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Ft(s))e.addValue(i,s),tu(r)&&r.add(i);else if(Ft(o))e.addValue(i,as(s,{owner:e})),tu(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,as(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const mE=Object.keys(Vo),UP=mE.length,Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zP=Lp.length;class HP{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Zu(n),this.isVariantNode=lS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const h=c[f];a[f]!==void 0&&Ft(h)&&(h.set(a[f],!1),tu(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pE.current||jP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ad.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kr.update(this.notifyUpdate),kr.render(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=gi.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s,o){let a,l;for(let u=0;u<UP;u++){const c=mE[u],{isEnabled:f,Feature:h,ProjectionNode:d,MeasureLayout:m}=Vo[c];d&&(a=d),f(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(l=m))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:f,dragConstraints:h,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:Boolean(f)||h&&Vi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Nv.length;r++){const i=Nv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=BP(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zP;r++){const i=Lp[r],s=this.props[i];(Mo(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=as(n,{owner:this}),this.addValue(t,r)),r}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Hp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ft(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gE extends HP{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=fD(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){cD(this,r,o);const a=FP(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function KP(e){return window.getComputedStyle(e)}class WP extends gE{readValueFromInstance(t,n){if(gi.has(n)){const r=Qp(n);return r&&r.default||0}else{const r=KP(t),i=(fS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iE(t,n)}build(t,n,r,i){Vp(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){yS(t,n,r,i)}}class GP extends gE{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gi.has(n)){const r=Qp(n);return r&&r.default||0}return n=vS.has(n)?n:Up(n),t.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(t,n){return SS(t,n)}build(t,n,r,i){jp(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){wS(t,n,r,i)}mount(t){this.isSVGTag=Bp(t.tagName),super.mount(t)}}const qP=(e,t)=>Mp(e)?new GP(t,{enableHardwareAcceleration:!1}):new WP(t,{enableHardwareAcceleration:!0}),QP={layout:{ProjectionNode:fE,MeasureLayout:oE}},YP={...kA,...zI,...PP,...QP},XP=Jb((e,t)=>bI(e,t,YP,qP));function yE(){const e=v.useRef(!1);return Yl(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function JP(){const e=yE(),[t,n]=v.useState(0),r=v.useCallback(()=>{e.current&&n(t+1)},[t]);return[v.useCallback(()=>be.postRender(r),[r]),t]}class ZP extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function e_({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(ZP,{isPresent:t,childRef:r,sizeRef:i},v.cloneElement(e,{ref:r}))}const Sh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Op(t_),l=v.useId(),u=v.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return v.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=v.createElement(e_,{isPresent:n},e)),v.createElement(Yu.Provider,{value:u},e)};function t_(){return new Map}function n_(e){return v.useEffect(()=>()=>e(),[])}const Ti=e=>e.key||"";function r_(e,t){e.forEach(n=>{const r=Ti(n);t.set(r,n)})}function i_(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const s_=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=JP();const l=v.useContext($p).forceRender;l&&(a=l);const u=yE(),c=i_(e);let f=c;const h=new Set,d=v.useRef(f),m=v.useRef(new Map).current,w=v.useRef(!0);if(Yl(()=>{w.current=!1,r_(c,m),d.current=f}),n_(()=>{w.current=!0,m.clear(),h.clear()}),w.current)return v.createElement(v.Fragment,null,f.map(g=>v.createElement(Sh,{key:Ti(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},g)));f=[...f];const x=d.current.map(Ti),y=c.map(Ti),p=x.length;for(let g=0;g<p;g++){const E=x[g];y.indexOf(E)===-1&&h.add(E)}return o==="wait"&&h.size&&(f=[]),h.forEach(g=>{if(y.indexOf(g)!==-1)return;const E=m.get(g);if(!E)return;const T=x.indexOf(g),I=()=>{m.delete(g),h.delete(g);const b=d.current.findIndex(C=>C.key===g);if(d.current.splice(b,1),!h.size){if(d.current=c,u.current===!1)return;a(),r&&r()}};f.splice(T,0,v.createElement(Sh,{key:Ti(E),isPresent:!1,onExitComplete:I,custom:t,presenceAffectsLayout:s,mode:o},E))}),f=f.map(g=>{const E=g.key;return h.has(E)?g:v.createElement(Sh,{key:Ti(g),isPresent:!0,presenceAffectsLayout:s,mode:o},g)}),v.createElement(v.Fragment,null,h.size?f:f.map(g=>v.cloneElement(g)))},o_={enter:e=>({zIndex:0,x:e==="<"?"100%":"-100%"}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e===">"?"100%":"-100%"})},a_=({pages:e})=>{const[t,n]=v.useState(e[0].startPage),[r,i]=v.useState("<"),s=e.map(({startPage:o})=>{const[a,l]=v.useState(o),u=v.useRef(null);return{currentPage:a,setSubpage:l,ref:u}});return A.jsxs("div",{className:"dark:text-white",children:[A.jsx("div",{className:"",children:e.map(({startPage:o,subpages:a},l)=>{var f,h;const u=(f=a[s[l].currentPage])==null?void 0:f.Content,c=(h=a[s[l].currentPage])==null?void 0:h.Header;return A.jsxs("div",{className:`${o===t?"grow":"hidden"}`,children:[A.jsx("div",{className:"fixed w-full bg-neutral-300 dark:bg-neutral-800 h-16",children:A.jsx(v.Suspense,{fallback:A.jsx("div",{}),children:A.jsx(c,{changeSubpage:(d,m)=>{i(m),s[l].setSubpage(d)}})})}),A.jsx("div",{className:"fixed top-16 bottom-16 w-full bg-white dark:bg-black overflow-y-auto",children:A.jsx(s_,{initial:!1,mode:"popLayout",custom:r,children:A.jsx(XP.div,{className:"h-full overflow-hidden",custom:r,variants:o_,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"tween",duration:.3},opacity:{duration:.3}},children:A.jsx(v.Suspense,{fallback:A.jsx("div",{}),children:A.jsx(u,{changeSubpage:(d,m)=>{i(m),s[l].setSubpage(d)}})})},s[l].currentPage)})})]},l)})}),A.jsx("div",{className:"fixed bottom-0 w-full flex h-16 bg-neutral-300 dark:bg-neutral-800",children:e.map(({startPage:o,Icon:a},l)=>{const u=o===t?"stroke-blue-700 dark:stroke-blue-400 text-blue-700 dark:text-blue-400":"stroke-black dark:stroke-white";return A.jsx("div",{onClick:()=>n(o),className:"grow flex justify-center ",children:A.jsxs("div",{className:"flex flex-col justify-center text-center",children:[A.jsx("div",{className:`${u}  fill-none stroke-[2] text-[1.4rem] mx-auto mb-1`,children:A.jsx(a,{})}),A.jsx("div",{className:`${u} text-xs`,children:o})]})},l)})})]})},l_=(e,t,{shouldPreventDefault:n=!0,delay:r=300}={})=>{const[i,s]=v.useState(!1),o=v.useRef(),a=v.useRef(),l=v.useCallback(c=>{n&&c.target&&(c.target.addEventListener("touchend",Lv,{passive:!1}),a.current=c.target),o.current=setTimeout(()=>{e(c),s(!0)},r)},[e,r,n]),u=v.useCallback((c,f=!0)=>{o.current&&clearTimeout(o.current),f&&!i&&t(),s(!1),n&&a.current&&a.current.removeEventListener("touchend",Lv)},[n,t,i]);return{onMouseDown:c=>l(c),onTouchStart:c=>l(c),onMouseUp:c=>u(c),onMouseLeave:c=>u(c,!1),onTouchEnd:c=>u(c)}},u_=e=>"touches"in e,Lv=e=>{u_(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},c_={slate:"bg-slate-500 hover:bg-slate-400 dark:bg-slate-400 dark:hover:bg-slate-400 ",gray:"bg-gray-500 hover:bg-gray-400 dark:bg-gray-300 dark:hover:bg-gray-400 ",zinc:"bg-zinc-500 hover:bg-zinc-400 dark:bg-zinc-300 dark:hover:bg-zinc-400 ",neutral:"bg-neutral-500 hover:bg-neutral-400 dark:bg-neutral-300 dark:hover:bg-neutral-400 ",stone:"bg-stone-500 hover:bg-stone-400 dark:bg-stone-300 dark:hover:bg-stone-400 ",red:"bg-red-500 hover:bg-red-400 dark:bg-red-300 dark:hover:bg-red-400 ",orange:"bg-orange-500 hover:bg-orange-400 dark:bg-orange-300 dark:hover:bg-orange-400 ",amber:"bg-amber-500 hover:bg-amber-400 dark:bg-amber-300 dark:hover:bg-amber-400 ",yellow:"bg-yellow-500 hover:bg-yellow-400 dark:bg-yellow-300 dark:hover:bg-yellow-400 ",lime:"bg-lime-500 hover:bg-lime-400 dark:bg-lime-300 dark:hover:bg-lime-400 ",green:"bg-green-500 hover:bg-green-400 dark:bg-green-300 dark:hover:bg-green-400 ",emerald:"bg-emerald-500 hover:bg-emerald-400 dark:bg-emerald-300 dark:hover:bg-emerald-400 ",teal:"bg-teal-500 hover:bg-teal-400 dark:bg-teal-300 dark:hover:bg-teal-400 ",cyan:"bg-cyan-500 hover:bg-cyan-400 dark:bg-cyan-300 dark:hover:bg-cyan-400 ",sky:"bg-sky-500 hover:bg-sky-400 dark:bg-sky-300 dark:hover:bg-sky-400 ",blue:"bg-blue-500 hover:bg-blue-400 dark:bg-blue-300 dark:hover:bg-blue-400 ",darkblue:"bg-blue-700 hover:bg-blue-600 dark:bg-blue-400 dark:hover:bg-blue-500 ",indigo:"bg-indigo-500 hover:bg-indigo-400 dark:bg-indigo-300 dark:hover:bg-indigo-400 ",violet:"bg-violet-500 hover:bg-violet-400 dark:bg-violet-300 dark:hover:bg-violet-400 ",purple:"bg-purple-500 hover:bg-purple-400 dark:bg-purple-300 dark:hover:bg-purple-400 ",fuchsia:"bg-fuchsia-500 hover:bg-fuchsia-400 dark:bg-fuchsia-300 dark:hover:bg-fuchsia-400 ",pink:"bg-pink-500 hover:bg-pink-400 dark:bg-pink-300 dark:hover:bg-pink-400 ",rose:"bg-rose-500 hover:bg-rose-400 dark:bg-rose-300 dark:hover:bg-rose-400 "},Ss={auto:"w-auto",full:"w-full",xxs:"w-16",xs:"w-24",sm:"w-32",md:"w-48",lg:"w-64",xl:"w-96"},Es={auto:"h-auto",full:"h-full",xs:"h-[1.5rem]",sm:"h-[2rem]",md:"h-[2.5rem]",lg:"h-[3rem]",xl:"h-[3.5rem]","2xl":"h-[4rem]"},ld=({clickAction:e,longPressAction:t,children:n,color:r,width:i,delay:s,submit:o,height:a="md"})=>{const l=v.useRef(document.createElement("button")),h=l_(()=>{t&&t(),o&&l.current.click()},()=>{e&&e(),o&&l.current.click()},{shouldPreventDefault:!0,delay:s});return A.jsx(A.Fragment,{children:A.jsx("button",{...h,type:`${o?"submit":"button"}`,className:`${c_[r]} ${Ss[i]} ${Es[a]} w- rounded text-white font-medium text-sm px-5 py-2.5 focus:outline-none dark:text-black`,ref:l,children:n})})},h_=({changeSubpage:e})=>A.jsxs("div",{className:"h-1/4 grid place-items-center",children:[A.jsx(ld,{color:"blue",width:"md",clickAction:()=>e("Record","<"),children:"Record"}),A.jsx(ld,{color:"blue",width:"md",clickAction:()=>e("Return","<"),children:"Return"})]}),vE=({left:e,center:t,right:n})=>A.jsxs("div",{className:"h-full flex place-items-center",children:[A.jsx("div",{className:"h-full flex place-items-center p-2 w-32",children:e}),A.jsx("div",{className:"h-full flex place-items-center m-auto",children:t}),A.jsx("div",{className:"h-full flex place-items-center p-2 w-32",children:n})]}),f_=({changeSubpage:e})=>A.jsx(vE,{left:null,center:A.jsx("div",{className:"",children:"Home"}),right:null});var ca=e=>e.type==="checkbox",Bi=e=>e instanceof Date,kt=e=>e==null;const wE=e=>typeof e=="object";var Je=e=>!kt(e)&&!Array.isArray(e)&&wE(e)&&!Bi(e),d_=e=>Je(e)&&e.target?ca(e.target)?e.target.checked:e.target.value:e,p_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,m_=(e,t)=>e.has(p_(t)),g_=e=>{const t=e.constructor&&e.constructor.prototype;return Je(t)&&t.hasOwnProperty("isPrototypeOf")},rm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(rm&&(e instanceof Blob||e instanceof FileList))&&(n||Je(e)))if(t=n?[]:{},!Array.isArray(e)&&!g_(e))t=e;else for(const r in e)t[r]=zr(e[r]);else return e;return t}var ha=e=>Array.isArray(e)?e.filter(Boolean):[],He=e=>e===void 0,H=(e,t,n)=>{if(!t||!Je(e))return n;const r=ha(t.split(/[,[\].]+?/)).reduce((i,s)=>kt(i)?i:i[s],e);return He(r)||r===e?He(e[t])?n:e[t]:r};const Ov={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},dn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};me.createContext(null);var y_=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==dn.all&&(t._proxyFormState[o]=!r||dn.all),n&&(n[o]=!0),e[o]}});return i},Yt=e=>Je(e)&&!Object.keys(e).length,v_=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Yt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||dn.all))},Eh=e=>Array.isArray(e)?e:[e];function w_(e){const t=me.useRef(e);t.current=e,me.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var xn=e=>typeof e=="string",S_=(e,t,n,r,i)=>xn(e)?(r&&t.watch.add(e),H(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),H(n,s))):(r&&(t.watchAll=!0),n),im=e=>/^\w*$/.test(e),SE=e=>ha(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Ce(e,t,n){let r=-1;const i=im(t)?[t]:SE(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=Je(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var EE=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const ud=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=H(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Je(o)&&ud(o,t)}}};var $v=e=>({isOnSubmit:!e||e===dn.onSubmit,isOnBlur:e===dn.onBlur,isOnChange:e===dn.onChange,isOnAll:e===dn.all,isOnTouch:e===dn.onTouched}),Mv=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),E_=(e,t,n)=>{const r=ha(H(e,n));return Ce(r,"root",t[n]),Ce(e,n,r),e},Yi=e=>typeof e=="boolean",sm=e=>e.type==="file",lr=e=>typeof e=="function",ou=e=>{if(!rm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xl=e=>xn(e),om=e=>e.type==="radio",au=e=>e instanceof RegExp;const Vv={value:!1,isValid:!1},Fv={value:!0,isValid:!0};var xE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!He(e[0].attributes.value)?He(e[0].value)||e[0].value===""?Fv:{value:e[0].value,isValid:!0}:Fv:Vv}return Vv};const jv={isValid:!1,value:null};var TE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,jv):jv;function Bv(e,t,n="validate"){if(xl(e)||Array.isArray(e)&&e.every(xl)||Yi(e)&&!e)return{type:n,message:xl(e)?e:"",ref:t}}var xi=e=>Je(e)&&!au(e)?e:{value:e,message:""},Uv=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:d,name:m,valueAsNumber:w,mount:x,disabled:y}=e._f,p=H(t,m);if(!x||y)return{};const g=o?o[0]:s,E=U=>{r&&g.reportValidity&&(g.setCustomValidity(Yi(U)?"":U||""),g.reportValidity())},T={},I=om(s),b=ca(s),C=I||b,M=(w||sm(s))&&He(s.value)&&He(p)||ou(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,F=EE.bind(null,m,n,T),$=(U,B,oe,re=Pn.maxLength,ae=Pn.minLength)=>{const ge=U?B:oe;T[m]={type:U?re:ae,message:ge,ref:s,...F(U?re:ae,ge)}};if(i?!Array.isArray(p)||!p.length:a&&(!C&&(M||kt(p))||Yi(p)&&!p||b&&!xE(o).isValid||I&&!TE(o).isValid)){const{value:U,message:B}=xl(a)?{value:!!a,message:a}:xi(a);if(U&&(T[m]={type:Pn.required,message:B,ref:g,...F(Pn.required,B)},!n))return E(B),T}if(!M&&(!kt(c)||!kt(f))){let U,B;const oe=xi(f),re=xi(c);if(!kt(p)&&!isNaN(p)){const ae=s.valueAsNumber||p&&+p;kt(oe.value)||(U=ae>oe.value),kt(re.value)||(B=ae<re.value)}else{const ae=s.valueAsDate||new Date(p),ge=Q=>new Date(new Date().toDateString()+" "+Q),N=s.type=="time",z=s.type=="week";xn(oe.value)&&p&&(U=N?ge(p)>ge(oe.value):z?p>oe.value:ae>new Date(oe.value)),xn(re.value)&&p&&(B=N?ge(p)<ge(re.value):z?p<re.value:ae<new Date(re.value))}if((U||B)&&($(!!U,oe.message,re.message,Pn.max,Pn.min),!n))return E(T[m].message),T}if((l||u)&&!M&&(xn(p)||i&&Array.isArray(p))){const U=xi(l),B=xi(u),oe=!kt(U.value)&&p.length>+U.value,re=!kt(B.value)&&p.length<+B.value;if((oe||re)&&($(oe,U.message,B.message),!n))return E(T[m].message),T}if(h&&!M&&xn(p)){const{value:U,message:B}=xi(h);if(au(U)&&!p.match(U)&&(T[m]={type:Pn.pattern,message:B,ref:s,...F(Pn.pattern,B)},!n))return E(B),T}if(d){if(lr(d)){const U=await d(p,t),B=Bv(U,g);if(B&&(T[m]={...B,...F(Pn.validate,B.message)},!n))return E(B.message),T}else if(Je(d)){let U={};for(const B in d){if(!Yt(U)&&!n)break;const oe=Bv(await d[B](p,t),g,B);oe&&(U={...oe,...F(B,oe.message)},E(oe.message),n&&(T[m]=U))}if(!Yt(U)&&(T[m]={ref:g,...U},!n))return T}}return E(!0),T};function x_(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=He(e)?r++:e[t[r++]];return e}function T_(e){for(const t in e)if(!He(e[t]))return!1;return!0}function st(e,t){const n=Array.isArray(t)?t:im(t)?[t]:SE(t),r=n.length===1?e:x_(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Je(r)&&Yt(r)||Array.isArray(r)&&T_(r))&&st(e,n.slice(0,-1)),e}function xh(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var lu=e=>kt(e)||!wE(e);function Qr(e,t){if(lu(e)||lu(t))return e===t;if(Bi(e)&&Bi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Bi(s)&&Bi(o)||Je(s)&&Je(o)||Array.isArray(s)&&Array.isArray(o)?!Qr(s,o):s!==o)return!1}}return!0}var CE=e=>e.type==="select-multiple",C_=e=>om(e)||ca(e),Th=e=>ou(e)&&e.isConnected,kE=e=>{for(const t in e)if(lr(e[t]))return!0;return!1};function uu(e,t={}){const n=Array.isArray(e);if(Je(e)||n)for(const r in e)Array.isArray(e[r])||Je(e[r])&&!kE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},uu(e[r],t[r])):kt(e[r])||(t[r]=!0);return t}function bE(e,t,n){const r=Array.isArray(e);if(Je(e)||r)for(const i in e)Array.isArray(e[i])||Je(e[i])&&!kE(e[i])?He(t)||lu(n[i])?n[i]=Array.isArray(e[i])?uu(e[i],[]):{...uu(e[i])}:bE(e[i],kt(t)?{}:t[i],n[i]):n[i]=!Qr(e[i],t[i]);return n}var Ch=(e,t)=>bE(e,t,uu(t)),IE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>He(e)?e:t?e===""?NaN:e&&+e:n&&xn(e)?new Date(e):r?r(e):e;function kh(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return sm(t)?t.files:om(t)?TE(e.refs).value:CE(t)?[...t.selectedOptions].map(({value:n})=>n):ca(t)?xE(e.refs).value:IE(He(t.value)?e.ref.value:t.value,e)}var k_=(e,t,n,r)=>{const i={};for(const s of e){const o=H(t,s);o&&Ce(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},js=e=>He(e)?e:au(e)?e.source:Je(e)?au(e.value)?e.value.source:e.value:e,b_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function zv(e,t,n){const r=H(e,n);if(r||im(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=H(t,s),a=H(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var I_=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,D_=(e,t)=>!ha(H(e,t)).length&&st(e,t);const A_={mode:dn.onSubmit,reValidateMode:dn.onChange,shouldFocusError:!0};function P_(e={},t){let n={...A_,...e},r={submitCount:0,isDirty:!1,isLoading:lr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Je(n.defaultValues)||Je(n.values)?zr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:zr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:xh(),array:xh(),state:xh()},d=e.resetOptions&&e.resetOptions.keepDirtyValues,m=$v(n.mode),w=$v(n.reValidateMode),x=n.criteriaMode===dn.all,y=S=>k=>{clearTimeout(c),c=setTimeout(S,k)},p=async S=>{if(f.isValid||S){const k=n.resolver?Yt((await M()).errors):await $(i,!0);k!==r.isValid&&h.state.next({isValid:k})}},g=S=>f.isValidating&&h.state.next({isValidating:S}),E=(S,k=[],D,G,V=!0,L=!0)=>{if(G&&D){if(a.action=!0,L&&Array.isArray(H(i,S))){const J=D(H(i,S),G.argA,G.argB);V&&Ce(i,S,J)}if(L&&Array.isArray(H(r.errors,S))){const J=D(H(r.errors,S),G.argA,G.argB);V&&Ce(r.errors,S,J),D_(r.errors,S)}if(f.touchedFields&&L&&Array.isArray(H(r.touchedFields,S))){const J=D(H(r.touchedFields,S),G.argA,G.argB);V&&Ce(r.touchedFields,S,J)}f.dirtyFields&&(r.dirtyFields=Ch(s,o)),h.state.next({name:S,isDirty:B(S,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ce(o,S,k)},T=(S,k)=>{Ce(r.errors,S,k),h.state.next({errors:r.errors})},I=(S,k,D,G)=>{const V=H(i,S);if(V){const L=H(o,S,He(D)?H(s,S):D);He(L)||G&&G.defaultChecked||k?Ce(o,S,k?L:kh(V._f)):ae(S,L),a.mount&&p()}},b=(S,k,D,G,V)=>{let L=!1,J=!1;const Oe={name:S};if(!D||G){f.isDirty&&(J=r.isDirty,r.isDirty=Oe.isDirty=B(),L=J!==Oe.isDirty);const je=Qr(H(s,S),k);J=H(r.dirtyFields,S),je?st(r.dirtyFields,S):Ce(r.dirtyFields,S,!0),Oe.dirtyFields=r.dirtyFields,L=L||f.dirtyFields&&J!==!je}if(D){const je=H(r.touchedFields,S);je||(Ce(r.touchedFields,S,D),Oe.touchedFields=r.touchedFields,L=L||f.touchedFields&&je!==D)}return L&&V&&h.state.next(Oe),L?Oe:{}},C=(S,k,D,G)=>{const V=H(r.errors,S),L=f.isValid&&Yi(k)&&r.isValid!==k;if(e.delayError&&D?(u=y(()=>T(S,D)),u(e.delayError)):(clearTimeout(c),u=null,D?Ce(r.errors,S,D):st(r.errors,S)),(D?!Qr(V,D):V)||!Yt(G)||L){const J={...G,...L&&Yi(k)?{isValid:k}:{},errors:r.errors,name:S};r={...r,...J},h.state.next(J)}g(!1)},M=async S=>n.resolver(o,n.context,k_(S||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),F=async S=>{const{errors:k}=await M();if(S)for(const D of S){const G=H(k,D);G?Ce(r.errors,D,G):st(r.errors,D)}else r.errors=k;return k},$=async(S,k,D={valid:!0})=>{for(const G in S){const V=S[G];if(V){const{_f:L,...J}=V;if(L){const Oe=l.array.has(L.name),je=await Uv(V,o,x,n.shouldUseNativeValidation&&!k,Oe);if(je[L.name]&&(D.valid=!1,k))break;!k&&(H(je,L.name)?Oe?E_(r.errors,je,L.name):Ce(r.errors,L.name,je[L.name]):st(r.errors,L.name))}J&&await $(J,k,D)}}return D.valid},U=()=>{for(const S of l.unMount){const k=H(i,S);k&&(k._f.refs?k._f.refs.every(D=>!Th(D)):!Th(k._f.ref))&&Fe(S)}l.unMount=new Set},B=(S,k)=>(S&&k&&Ce(o,S,k),!Qr(Z(),s)),oe=(S,k,D)=>S_(S,l,{...a.mount?o:He(k)?s:xn(S)?{[S]:k}:k},D,k),re=S=>ha(H(a.mount?o:s,S,e.shouldUnregister?H(s,S,[]):[])),ae=(S,k,D={})=>{const G=H(i,S);let V=k;if(G){const L=G._f;L&&(!L.disabled&&Ce(o,S,IE(k,L)),V=ou(L.ref)&&kt(k)?"":k,CE(L.ref)?[...L.ref.options].forEach(J=>J.selected=V.includes(J.value)):L.refs?ca(L.ref)?L.refs.length>1?L.refs.forEach(J=>(!J.defaultChecked||!J.disabled)&&(J.checked=Array.isArray(V)?!!V.find(Oe=>Oe===J.value):V===J.value)):L.refs[0]&&(L.refs[0].checked=!!V):L.refs.forEach(J=>J.checked=J.value===V):sm(L.ref)?L.ref.value="":(L.ref.value=V,L.ref.type||h.values.next({name:S,values:{...o}})))}(D.shouldDirty||D.shouldTouch)&&b(S,V,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&Q(S)},ge=(S,k,D)=>{for(const G in k){const V=k[G],L=`${S}.${G}`,J=H(i,L);(l.array.has(S)||!lu(V)||J&&!J._f)&&!Bi(V)?ge(L,V,D):ae(L,V,D)}},N=(S,k,D={})=>{const G=H(i,S),V=l.array.has(S),L=zr(k);Ce(o,S,L),V?(h.array.next({name:S,values:{...o}}),(f.isDirty||f.dirtyFields)&&D.shouldDirty&&h.state.next({name:S,dirtyFields:Ch(s,o),isDirty:B(S,L)})):G&&!G._f&&!kt(L)?ge(S,L,D):ae(S,L,D),Mv(S,l)&&h.state.next({...r}),h.values.next({name:S,values:{...o}}),!a.mount&&t()},z=async S=>{const k=S.target;let D=k.name,G=!0;const V=H(i,D),L=()=>k.type?kh(V._f):d_(S);if(V){let J,Oe;const je=L(),Si=S.type===Ov.BLUR||S.type===Ov.FOCUS_OUT,lC=!b_(V._f)&&!n.resolver&&!H(r.errors,D)&&!V._f.deps||I_(Si,H(r.touchedFields,D),r.isSubmitted,w,m),Lc=Mv(D,l,Si);Ce(o,D,je),Si?(V._f.onBlur&&V._f.onBlur(S),u&&u(0)):V._f.onChange&&V._f.onChange(S);const Oc=b(D,je,Si,!1),uC=!Yt(Oc)||Lc;if(!Si&&h.values.next({name:D,type:S.type,values:{...o}}),lC)return f.isValid&&p(),uC&&h.state.next({name:D,...Lc?{}:Oc});if(!Si&&Lc&&h.state.next({...r}),g(!0),n.resolver){const{errors:wg}=await M([D]),cC=zv(r.errors,i,D),Sg=zv(wg,i,cC.name||D);J=Sg.error,D=Sg.name,Oe=Yt(wg)}else J=(await Uv(V,o,x,n.shouldUseNativeValidation))[D],G=isNaN(je)||je===H(o,D,je),G&&(J?Oe=!1:f.isValid&&(Oe=await $(i,!0)));G&&(V._f.deps&&Q(V._f.deps),C(D,Oe,J,Oc))}},Q=async(S,k={})=>{let D,G;const V=Eh(S);if(g(!0),n.resolver){const L=await F(He(S)?S:V);D=Yt(L),G=S?!V.some(J=>H(L,J)):D}else S?(G=(await Promise.all(V.map(async L=>{const J=H(i,L);return await $(J&&J._f?{[L]:J}:J)}))).every(Boolean),!(!G&&!r.isValid)&&p()):G=D=await $(i);return h.state.next({...!xn(S)||f.isValid&&D!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:D}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!G&&ud(i,L=>L&&H(r.errors,L),S?V:l.mount),G},Z=S=>{const k={...s,...a.mount?o:{}};return He(S)?k:xn(S)?H(k,S):S.map(D=>H(k,D))},Ee=(S,k)=>({invalid:!!H((k||r).errors,S),isDirty:!!H((k||r).dirtyFields,S),isTouched:!!H((k||r).touchedFields,S),error:H((k||r).errors,S)}),O=S=>{S&&Eh(S).forEach(k=>st(r.errors,k)),h.state.next({errors:S?r.errors:{}})},W=(S,k,D)=>{const G=(H(i,S,{_f:{}})._f||{}).ref;Ce(r.errors,S,{...k,ref:G}),h.state.next({name:S,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&G&&G.focus&&G.focus()},le=(S,k)=>lr(S)?h.values.subscribe({next:D=>S(oe(void 0,k),D)}):oe(S,k,!0),Fe=(S,k={})=>{for(const D of S?Eh(S):l.mount)l.mount.delete(D),l.array.delete(D),k.keepValue||(st(i,D),st(o,D)),!k.keepError&&st(r.errors,D),!k.keepDirty&&st(r.dirtyFields,D),!k.keepTouched&&st(r.touchedFields,D),!n.shouldUnregister&&!k.keepDefaultValue&&st(s,D);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:B()}:{}}),!k.keepIsValid&&p()},Rt=(S,k={})=>{let D=H(i,S);const G=Yi(k.disabled);return Ce(i,S,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:S}},name:S,mount:!0,...k}}),l.mount.add(S),D?G&&Ce(o,S,k.disabled?void 0:H(o,S,kh(D._f))):I(S,!0,k.value),{...G?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:js(k.min),max:js(k.max),minLength:js(k.minLength),maxLength:js(k.maxLength),pattern:js(k.pattern)}:{},name:S,onChange:z,onBlur:z,ref:V=>{if(V){Rt(S,k),D=H(i,S);const L=He(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,J=C_(L),Oe=D._f.refs||[];if(J?Oe.find(je=>je===L):L===D._f.ref)return;Ce(i,S,{_f:{...D._f,...J?{refs:[...Oe.filter(Th),L,...Array.isArray(H(s,S))?[{}]:[]],ref:{type:L.type,name:S}}:{ref:L}}}),I(S,!1,void 0,L)}else D=H(i,S,{}),D._f&&(D._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(m_(l.array,S)&&a.action)&&l.unMount.add(S)}}},gg=()=>n.shouldFocusError&&ud(i,S=>S&&H(r.errors,S),l.mount),oC=(S,k)=>async D=>{D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let G=zr(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:V,values:L}=await M();r.errors=V,G=L}else await $(i);st(r.errors,"root"),Yt(r.errors)?(h.state.next({errors:{}}),await S(G,D)):(k&&await k({...r.errors},D),gg(),setTimeout(gg)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},aC=(S,k={})=>{H(i,S)&&(He(k.defaultValue)?N(S,H(s,S)):(N(S,k.defaultValue),Ce(s,S,k.defaultValue)),k.keepTouched||st(r.touchedFields,S),k.keepDirty||(st(r.dirtyFields,S),r.isDirty=k.defaultValue?B(S,H(s,S)):B()),k.keepError||(st(r.errors,S),f.isValid&&p()),h.state.next({...r}))},yg=(S,k={})=>{const D=S||s,G=zr(D),V=S&&!Yt(S)?G:s;if(k.keepDefaultValues||(s=D),!k.keepValues){if(k.keepDirtyValues||d)for(const L of l.mount)H(r.dirtyFields,L)?Ce(V,L,H(o,L)):N(L,H(V,L));else{if(rm&&He(S))for(const L of l.mount){const J=H(i,L);if(J&&J._f){const Oe=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(ou(Oe)){const je=Oe.closest("form");if(je){je.reset();break}}}}i={}}o=e.shouldUnregister?k.keepDefaultValues?zr(s):{}:G,h.array.next({values:{...V}}),h.values.next({values:{...V}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!f.isValid||!!k.keepIsValid,a.watch=!!e.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Qr(S,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&S?Ch(s,S):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},vg=(S,k)=>yg(lr(S)?S(o):S,k);return{control:{register:Rt,unregister:Fe,getFieldState:Ee,_executeSchema:M,_getWatch:oe,_getDirty:B,_updateValid:p,_removeUnmounted:U,_updateFieldArray:E,_getFieldArray:re,_reset:yg,_resetDefaultValues:()=>lr(n.defaultValues)&&n.defaultValues().then(S=>{vg(S,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:Q,register:Rt,handleSubmit:oC,watch:le,setValue:N,getValues:Z,reset:vg,resetField:aC,clearErrors:O,unregister:Fe,setError:W,setFocus:(S,k={})=>{const D=H(i,S),G=D&&D._f;if(G){const V=G.refs?G.refs[0]:G.ref;V.focus&&(V.focus(),k.shouldSelect&&V.select())}},getFieldState:Ee}}function __(e={}){const t=me.useRef(),[n,r]=me.useState({isDirty:!1,isValidating:!1,isLoading:lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:lr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...P_(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,w_({subject:i._subjects.state,next:s=>{v_(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),me.useEffect(()=>{e.values&&!Qr(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),me.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=y_(n,i),t.current}var Hv=function(e,t,n){if(e&&"reportValidity"in e){var r=H(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},DE=function(e,t){var n=function(i){var s=t.fields[i];s&&s.ref&&"reportValidity"in s.ref?Hv(s.ref,i,e):s.refs&&s.refs.forEach(function(o){return Hv(o,i,e)})};for(var r in t.fields)n(r)},R_=function(e,t){t.shouldUseNativeValidation&&DE(e,t);var n={};for(var r in e){var i=H(t.fields,r);Ce(n,r,Object.assign(e[r]||{},{ref:i&&i.ref}))}return n},N_=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(f){return e.push(f)})}),t){var l=n[o].types,u=l&&l[r.code];n[o]=EE(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},L_=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&DE({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:R_(N_(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},O_=Object.defineProperty,$_=(e,t,n)=>t in e?O_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bh=(e,t,n)=>($_(e,typeof t!="symbol"?t+"":t,n),n);let M_=class{constructor(){bh(this,"current",this.detect()),bh(this,"handoffState","pending"),bh(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Sr=new M_,Ge=(e,t)=>{Sr.isServer?v.useEffect(e,t):v.useLayoutEffect(e,t)};function bn(e){let t=v.useRef(e);return Ge(()=>{t.current=e},[e]),t}function fa(e,t){let[n,r]=v.useState(e),i=bn(e);return Ge(()=>r(i.current),[i,r,...t]),n}function V_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function In(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return V_(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=In();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Kn(){let[e]=v.useState(In);return v.useEffect(()=>()=>e.dispose(),[e]),e}let Y=function(e){let t=bn(e);return me.useCallback((...n)=>t.current(...n),[t])};function am(){let[e,t]=v.useState(Sr.isHandoffComplete);return e&&Sr.isHandoffComplete===!1&&t(!1),v.useEffect(()=>{e!==!0&&t(!0)},[e]),v.useEffect(()=>Sr.handoff(),[]),e}var Kv;let Jn=(Kv=me.useId)!=null?Kv:function(){let e=am(),[t,n]=me.useState(e?()=>Sr.nextId():null);return Ge(()=>{t===null&&n(Sr.nextId())},[t]),t!=null?""+t:void 0};function _e(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,_e),r}function lm(e){return Sr.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let cd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var F_=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(F_||{}),j_=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(j_||{}),B_=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(B_||{});function U_(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(cd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var um=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(um||{});function AE(e,t=0){var n;return e===((n=lm(e))==null?void 0:n.body)?!1:_e(t,{[0](){return e.matches(cd)},[1](){let r=e;for(;r!==null;){if(r.matches(cd))return!0;r=r.parentElement}return!1}})}function uV(e){e==null||e.focus({preventScroll:!0})}let z_=["textarea","input"].join(",");function H_(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,z_))!=null?n:!1}function cm(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function cV(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?cm(e):e:U_(e);i.length>0&&o.length>1&&(o=o.filter(d=>!i.includes(d))),r=r??s.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,f=o.length,h;do{if(c>=f||c+f<=0)return 0;let d=l+c;if(t&16)d=(d+f)%f;else{if(d<0)return 3;if(d>=f)return 1}h=o[d],h==null||h.focus(u),c+=a}while(h!==s.activeElement);return t&6&&H_(h)&&h.select(),h.hasAttribute("tabindex")||h.setAttribute("tabindex","0"),2}function Ih(e,t,n){let r=bn(t);v.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function PE(e,t,n=!0){let r=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=function c(f){return typeof f=="function"?c(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e),u=a(o);if(u!==null&&u.getRootNode().contains(u)){for(let c of l){if(c===null)continue;let f=c instanceof HTMLElement?c:c.current;if(f!=null&&f.contains(u)||o.composed&&o.composedPath().includes(f))return}return!AE(u,um.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}}let s=v.useRef(null);Ih("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Ih("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),Ih("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Wv(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function _E(e,t){let[n,r]=v.useState(()=>Wv(e));return Ge(()=>{r(Wv(e))},[e.type,e.as]),Ge(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let RE=Symbol();function hV(e,t=!0){return Object.assign(e,{[RE]:t})}function ln(...e){let t=v.useRef(e);v.useEffect(()=>{t.current=e},[e]);let n=Y(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[RE]))?void 0:n}function K_({container:e,accept:t,walk:n,enabled:r=!0}){let i=v.useRef(t),s=v.useRef(n);v.useEffect(()=>{i.current=t,s.current=n},[t,n]),Ge(()=>{if(!e||!r)return;let o=lm(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(f=>a(f),{acceptNode:a}),c=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[e,r,i,s])}function W_(e){throw new Error("Unexpected object: "+e)}var ve=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ve||{});function NE(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,s=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:W_(e)}})();return s===-1?r:s}function LE(...e){return e.filter(Boolean).join(" ")}var us=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(us||{}),$n=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))($n||{});function jt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=OE(t,e);if(s)return Ja(a,n,r,o);let l=i??0;if(l&2){let{static:u=!1,...c}=a;if(u)return Ja(c,n,r,o)}if(l&1){let{unmount:u=!0,...c}=a;return _e(u?0:1,{[0](){return null},[1](){return Ja({...c,hidden:!0,style:{display:"none"}},n,r,o)}})}return Ja(a,n,r,o)}function Ja(e,t={},n,r){var i;let{as:s=n,children:o,refName:a="ref",...l}=Dh(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let f={};if(t){let h=!1,d=[];for(let[m,w]of Object.entries(t))typeof w=="boolean"&&(h=!0),w===!0&&d.push(m);h&&(f["data-headlessui-state"]=d.join(" "))}if(s===v.Fragment&&Object.keys(cu(l)).length>0){if(!v.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=LE((i=c.props)==null?void 0:i.className,l.className),d=h?{className:h}:{};return v.cloneElement(c,Object.assign({},OE(c.props,cu(Dh(l,["ref"]))),f,u,G_(c.ref,u.ref),d))}return v.createElement(s,Object.assign({},Dh(l,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&f),c)}function G_(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function OE(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function _t(e){var t;return Object.assign(v.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function cu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Dh(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function $E(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&q_(n)?!1:r}function q_(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function hm(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))VE(n,ME(t,r),i);return n}function ME(e,t){return e?e+"["+t+"]":t}function VE(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())VE(e,ME(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):hm(n,t,e)}let Q_="div";var fm=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(fm||{});function Y_(e,t){let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return jt({ourProps:i,theirProps:r,slot:{},defaultTag:Q_,name:"Hidden"})}let FE=_t(Y_),dm=v.createContext(null);dm.displayName="OpenClosedContext";var lt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(lt||{});function ic(){return v.useContext(dm)}function pm({value:e,children:t}){return me.createElement(dm.Provider,{value:e},t)}var pe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(pe||{});function jE(e,t,n){let[r,i]=v.useState(n),s=e!==void 0,o=v.useRef(s),a=v.useRef(!1),l=v.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,Y(u=>(s||i(u),t==null?void 0:t(u)))]}function Gv(e,t){let n=v.useRef([]),r=Y(e);v.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}function qv(e){return[e.screenX,e.screenY]}function BE(){let e=v.useRef([-1,-1]);return{wasMoved(t){let n=qv(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=qv(t)}}}function X_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function J_(){return/Android/gi.test(window.navigator.userAgent)}function Z_(){return X_()||J_()}var eR=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(eR||{}),tR=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(tR||{}),nR=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nR||{}),rR=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(rR||{});function Ah(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=cm(t(e.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let iR={[1](e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:r}=e.dataRef.current,i=e.options.findIndex(s=>r(s.dataRef.current.value));i!==-1&&(n=i)}return{...e,comboboxState:0,activeOptionIndex:n}},[2](e,t){var n,r,i,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let o=Ah(e);if(o.activeOptionIndex===null){let l=o.options.findIndex(u=>!u.dataRef.current.disabled);l!==-1&&(o.activeOptionIndex=l)}let a=NE(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...o,activeOptionIndex:a,activationTrigger:(s=t.trigger)!=null?s:1}},[3]:(e,t)=>{var n,r;let i={id:t.id,dataRef:t.dataRef},s=Ah(e,a=>[...a,i]);e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(t.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i));let o={...e,...s,activationTrigger:1};return(r=e.dataRef.current)!=null&&r.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,t)=>{let n=Ah(e,r=>{let i=r.findIndex(s=>s.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},mm=v.createContext(null);mm.displayName="ComboboxActionsContext";function da(e){let t=v.useContext(mm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,da),n}return t}let gm=v.createContext(null);gm.displayName="ComboboxDataContext";function xs(e){let t=v.useContext(gm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xs),n}return t}function sR(e,t){return _e(t.type,iR,e,t)}let oR=v.Fragment;function aR(e,t){let{value:n,defaultValue:r,onChange:i,name:s,by:o=(O,W)=>O===W,disabled:a=!1,__demoMode:l=!1,nullable:u=!1,multiple:c=!1,...f}=e,[h=c?[]:void 0,d]=jE(n,i,r),[m,w]=v.useReducer(sR,{dataRef:v.createRef(),comboboxState:l?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),x=v.useRef(!1),y=v.useRef({static:!1,hold:!1}),p=v.useRef(null),g=v.useRef(null),E=v.useRef(null),T=v.useRef(null),I=Y(typeof o=="string"?(O,W)=>{let le=o;return(O==null?void 0:O[le])===(W==null?void 0:W[le])}:o),b=v.useCallback(O=>_e(C.mode,{[1]:()=>h.some(W=>I(W,O)),[0]:()=>I(h,O)}),[h]),C=v.useMemo(()=>({...m,optionsPropsRef:y,labelRef:p,inputRef:g,buttonRef:E,optionsRef:T,value:h,defaultValue:r,disabled:a,mode:c?1:0,get activeOptionIndex(){if(x.current&&m.activeOptionIndex===null&&m.options.length>0){let O=m.options.findIndex(W=>!W.dataRef.current.disabled);if(O!==-1)return O}return m.activeOptionIndex},compare:I,isSelected:b,nullable:u,__demoMode:l}),[h,r,a,c,u,l,m]),M=v.useRef(C.activeOptionIndex!==null?C.options[C.activeOptionIndex]:null);v.useEffect(()=>{let O=C.activeOptionIndex!==null?C.options[C.activeOptionIndex]:null;M.current!==O&&(M.current=O)}),Ge(()=>{m.dataRef.current=C},[C]),PE([C.buttonRef,C.inputRef,C.optionsRef],()=>z.closeCombobox(),C.comboboxState===0);let F=v.useMemo(()=>({open:C.comboboxState===0,disabled:a,activeIndex:C.activeOptionIndex,activeOption:C.activeOptionIndex===null?null:C.options[C.activeOptionIndex].dataRef.current.value,value:h}),[C,a,h]),$=Y(O=>{let W=C.options.find(le=>le.id===O);W&&N(W.dataRef.current.value)}),U=Y(()=>{if(C.activeOptionIndex!==null){let{dataRef:O,id:W}=C.options[C.activeOptionIndex];N(O.current.value),z.goToOption(ve.Specific,W)}}),B=Y(()=>{w({type:0}),x.current=!0}),oe=Y(()=>{w({type:1}),x.current=!1}),re=Y((O,W,le)=>(x.current=!1,O===ve.Specific?w({type:2,focus:ve.Specific,id:W,trigger:le}):w({type:2,focus:O,trigger:le}))),ae=Y((O,W)=>(w({type:3,id:O,dataRef:W}),()=>{var le;((le=M.current)==null?void 0:le.id)===O&&(x.current=!0),w({type:4,id:O})})),ge=Y(O=>(w({type:5,id:O}),()=>w({type:5,id:null}))),N=Y(O=>_e(C.mode,{[0](){return d==null?void 0:d(O)},[1](){let W=C.value.slice(),le=W.findIndex(Fe=>I(Fe,O));return le===-1?W.push(O):W.splice(le,1),d==null?void 0:d(W)}})),z=v.useMemo(()=>({onChange:N,registerOption:ae,registerLabel:ge,goToOption:re,closeCombobox:oe,openCombobox:B,selectActiveOption:U,selectOption:$}),[]),Q=t===null?{}:{ref:t},Z=v.useRef(null),Ee=Kn();return v.useEffect(()=>{Z.current&&r!==void 0&&Ee.addEventListener(Z.current,"reset",()=>{N(r)})},[Z,N]),me.createElement(mm.Provider,{value:z},me.createElement(gm.Provider,{value:C},me.createElement(pm,{value:_e(C.comboboxState,{[0]:lt.Open,[1]:lt.Closed})},s!=null&&h!=null&&hm({[s]:h}).map(([O,W],le)=>me.createElement(FE,{features:fm.Hidden,ref:le===0?Fe=>{var Rt;Z.current=(Rt=Fe==null?void 0:Fe.closest("form"))!=null?Rt:null}:void 0,...cu({key:O,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:O,value:W})})),jt({ourProps:Q,theirProps:f,slot:F,defaultTag:oR,name:"Combobox"}))))}let lR="input";function uR(e,t){var n,r,i,s;let o=Jn(),{id:a=`headlessui-combobox-input-${o}`,onChange:l,displayValue:u,type:c="text",...f}=e,h=xs("Combobox.Input"),d=da("Combobox.Input"),m=ln(h.inputRef,t),w=v.useRef(!1),x=Kn(),y=function(){var $;return typeof u=="function"&&h.value!==void 0?($=u(h.value))!=null?$:"":typeof h.value=="string"?h.value:""}();Gv(([$,U],[B,oe])=>{w.current||h.inputRef.current&&(oe===0&&U===1||$!==B)&&(h.inputRef.current.value=$)},[y,h.comboboxState]),Gv(([$],[U])=>{if($===0&&U===1){let B=h.inputRef.current;if(!B)return;let oe=B.value,{selectionStart:re,selectionEnd:ae,selectionDirection:ge}=B;B.value="",B.value=oe,ge!==null?B.setSelectionRange(re,ae,ge):B.setSelectionRange(re,ae)}},[h.comboboxState]);let p=v.useRef(!1),g=Y(()=>{p.current=!0}),E=Y(()=>{setTimeout(()=>{p.current=!1})}),T=Y($=>{switch(w.current=!0,$.key){case pe.Backspace:case pe.Delete:if(h.mode!==0||!h.nullable)return;let U=$.currentTarget;x.requestAnimationFrame(()=>{U.value===""&&(d.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),d.goToOption(ve.Nothing))});break;case pe.Enter:if(w.current=!1,h.comboboxState!==0||p.current)return;if($.preventDefault(),$.stopPropagation(),h.activeOptionIndex===null){d.closeCombobox();return}d.selectActiveOption(),h.mode===0&&d.closeCombobox();break;case pe.ArrowDown:return w.current=!1,$.preventDefault(),$.stopPropagation(),_e(h.comboboxState,{[0]:()=>{d.goToOption(ve.Next)},[1]:()=>{d.openCombobox()}});case pe.ArrowUp:return w.current=!1,$.preventDefault(),$.stopPropagation(),_e(h.comboboxState,{[0]:()=>{d.goToOption(ve.Previous)},[1]:()=>{d.openCombobox(),x.nextFrame(()=>{h.value||d.goToOption(ve.Last)})}});case pe.Home:if($.shiftKey)break;return w.current=!1,$.preventDefault(),$.stopPropagation(),d.goToOption(ve.First);case pe.PageUp:return w.current=!1,$.preventDefault(),$.stopPropagation(),d.goToOption(ve.First);case pe.End:if($.shiftKey)break;return w.current=!1,$.preventDefault(),$.stopPropagation(),d.goToOption(ve.Last);case pe.PageDown:return w.current=!1,$.preventDefault(),$.stopPropagation(),d.goToOption(ve.Last);case pe.Escape:return w.current=!1,h.comboboxState!==0?void 0:($.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&$.stopPropagation(),d.closeCombobox());case pe.Tab:if(w.current=!1,h.comboboxState!==0)return;h.mode===0&&d.selectActiveOption(),d.closeCombobox();break}}),I=Y($=>{d.openCombobox(),l==null||l($)}),b=Y(()=>{w.current=!1}),C=fa(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),M=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),F={ref:m,id:a,role:"combobox",type:c,"aria-controls":(n=h.optionsRef.current)==null?void 0:n.id,"aria-expanded":h.disabled?void 0:h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null||(r=h.options[h.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":C,"aria-autocomplete":"list",defaultValue:(s=(i=e.defaultValue)!=null?i:h.defaultValue!==void 0?u==null?void 0:u(h.defaultValue):null)!=null?s:h.defaultValue,disabled:h.disabled,onCompositionStart:g,onCompositionEnd:E,onKeyDown:T,onChange:I,onBlur:b};return jt({ourProps:F,theirProps:f,slot:M,defaultTag:lR,name:"Combobox.Input"})}let cR="button";function hR(e,t){var n;let r=xs("Combobox.Button"),i=da("Combobox.Button"),s=ln(r.buttonRef,t),o=Jn(),{id:a=`headlessui-combobox-button-${o}`,...l}=e,u=Kn(),c=Y(w=>{switch(w.key){case pe.ArrowDown:return w.preventDefault(),w.stopPropagation(),r.comboboxState===1&&i.openCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case pe.ArrowUp:return w.preventDefault(),w.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),u.nextFrame(()=>{r.value||i.goToOption(ve.Last)})),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case pe.Escape:return r.comboboxState!==0?void 0:(w.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&w.stopPropagation(),i.closeCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),f=Y(w=>{if($E(w.currentTarget))return w.preventDefault();r.comboboxState===0?i.closeCombobox():(w.preventDefault(),i.openCombobox()),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),h=fa(()=>{if(r.labelId)return[r.labelId,a].join(" ")},[r.labelId,a]),d=v.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),m={ref:s,id:a,type:_E(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.comboboxState===0,"aria-labelledby":h,disabled:r.disabled,onClick:f,onKeyDown:c};return jt({ourProps:m,theirProps:l,slot:d,defaultTag:cR,name:"Combobox.Button"})}let fR="label";function dR(e,t){let n=Jn(),{id:r=`headlessui-combobox-label-${n}`,...i}=e,s=xs("Combobox.Label"),o=da("Combobox.Label"),a=ln(s.labelRef,t);Ge(()=>o.registerLabel(r),[r]);let l=Y(()=>{var c;return(c=s.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return jt({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:fR,name:"Combobox.Label"})}let pR="ul",mR=us.RenderStrategy|us.Static;function gR(e,t){let n=Jn(),{id:r=`headlessui-combobox-options-${n}`,hold:i=!1,...s}=e,o=xs("Combobox.Options"),a=ln(o.optionsRef,t),l=ic(),u=(()=>l!==null?(l&lt.Open)===lt.Open:o.comboboxState===0)();Ge(()=>{var d;o.optionsPropsRef.current.static=(d=e.static)!=null?d:!1},[o.optionsPropsRef,e.static]),Ge(()=>{o.optionsPropsRef.current.hold=i},[o.optionsPropsRef,i]),K_({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});let c=fa(()=>{var d,m;return(m=o.labelId)!=null?m:(d=o.buttonRef.current)==null?void 0:d.id},[o.labelId,o.buttonRef.current]),f=v.useMemo(()=>({open:o.comboboxState===0}),[o]),h={"aria-labelledby":c,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:r,ref:a};return jt({ourProps:h,theirProps:s,slot:f,defaultTag:pR,features:mR,visible:u,name:"Combobox.Options"})}let yR="li";function vR(e,t){var n,r;let i=Jn(),{id:s=`headlessui-combobox-option-${i}`,disabled:o=!1,value:a,...l}=e,u=xs("Combobox.Option"),c=da("Combobox.Option"),f=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===s:!1,h=u.isSelected(a),d=v.useRef(null),m=bn({disabled:o,value:a,domRef:d,textValue:(r=(n=d.current)==null?void 0:n.textContent)==null?void 0:r.toLowerCase()}),w=ln(t,d),x=Y(()=>c.selectOption(s));Ge(()=>c.registerOption(s,m),[m,s]);let y=v.useRef(!u.__demoMode);Ge(()=>{if(!u.__demoMode)return;let M=In();return M.requestAnimationFrame(()=>{y.current=!0}),M.dispose},[]),Ge(()=>{if(u.comboboxState!==0||!f||!y.current||u.activationTrigger===0)return;let M=In();return M.requestAnimationFrame(()=>{var F,$;($=(F=d.current)==null?void 0:F.scrollIntoView)==null||$.call(F,{block:"nearest"})}),M.dispose},[d,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let p=Y(M=>{if(o)return M.preventDefault();x(),u.mode===0&&c.closeCombobox(),Z_()||requestAnimationFrame(()=>{var F;return(F=u.inputRef.current)==null?void 0:F.focus()})}),g=Y(()=>{if(o)return c.goToOption(ve.Nothing);c.goToOption(ve.Specific,s)}),E=BE(),T=Y(M=>E.update(M)),I=Y(M=>{E.wasMoved(M)&&(o||f||c.goToOption(ve.Specific,s,0))}),b=Y(M=>{E.wasMoved(M)&&(o||f&&(u.optionsPropsRef.current.hold||c.goToOption(ve.Nothing)))}),C=v.useMemo(()=>({active:f,selected:h,disabled:o}),[f,h,o]);return jt({ourProps:{id:s,ref:w,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:p,onFocus:g,onPointerEnter:T,onMouseEnter:T,onPointerMove:I,onMouseMove:I,onPointerLeave:b,onMouseLeave:b},theirProps:l,slot:C,defaultTag:yR,name:"Combobox.Option"})}let wR=_t(aR),SR=_t(hR),ER=_t(uR),xR=_t(dR),TR=_t(gR),CR=_t(vR),Za=Object.assign(wR,{Input:ER,Button:SR,Label:xR,Options:TR,Option:CR});function UE(){let e=v.useRef(!1);return Ge(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var kR=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kR||{}),bR=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bR||{}),IR=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(IR||{}),DR=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(DR||{});function Ph(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=cm(t(e.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let AR={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Ph(e),i=NE(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?e.options.indexOf(i):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Ph(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},[6]:(e,t)=>{let n=Ph(e,r=>{let i=r.findIndex(s=>s.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},ym=v.createContext(null);ym.displayName="ListboxActionsContext";function pa(e){let t=v.useContext(ym);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pa),n}return t}let vm=v.createContext(null);vm.displayName="ListboxDataContext";function ma(e){let t=v.useContext(vm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ma),n}return t}function PR(e,t){return _e(t.type,AR,e,t)}let _R=v.Fragment;function RR(e,t){let{value:n,defaultValue:r,name:i,onChange:s,by:o=(O,W)=>O===W,disabled:a=!1,horizontal:l=!1,multiple:u=!1,...c}=e;const f=l?"horizontal":"vertical";let h=ln(t),[d=u?[]:void 0,m]=jE(n,s,r),[w,x]=v.useReducer(PR,{dataRef:v.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),y=v.useRef({static:!1,hold:!1}),p=v.useRef(null),g=v.useRef(null),E=v.useRef(null),T=Y(typeof o=="string"?(O,W)=>{let le=o;return(O==null?void 0:O[le])===(W==null?void 0:W[le])}:o),I=v.useCallback(O=>_e(b.mode,{[1]:()=>d.some(W=>T(W,O)),[0]:()=>T(d,O)}),[d]),b=v.useMemo(()=>({...w,value:d,disabled:a,mode:u?1:0,orientation:f,compare:T,isSelected:I,optionsPropsRef:y,labelRef:p,buttonRef:g,optionsRef:E}),[d,a,u,w]);Ge(()=>{w.dataRef.current=b},[b]),PE([b.buttonRef,b.optionsRef],(O,W)=>{var le;x({type:1}),AE(W,um.Loose)||(O.preventDefault(),(le=b.buttonRef.current)==null||le.focus())},b.listboxState===0);let C=v.useMemo(()=>({open:b.listboxState===0,disabled:a,value:d}),[b,a,d]),M=Y(O=>{let W=b.options.find(le=>le.id===O);W&&ae(W.dataRef.current.value)}),F=Y(()=>{if(b.activeOptionIndex!==null){let{dataRef:O,id:W}=b.options[b.activeOptionIndex];ae(O.current.value),x({type:2,focus:ve.Specific,id:W})}}),$=Y(()=>x({type:0})),U=Y(()=>x({type:1})),B=Y((O,W,le)=>O===ve.Specific?x({type:2,focus:ve.Specific,id:W,trigger:le}):x({type:2,focus:O,trigger:le})),oe=Y((O,W)=>(x({type:5,id:O,dataRef:W}),()=>x({type:6,id:O}))),re=Y(O=>(x({type:7,id:O}),()=>x({type:7,id:null}))),ae=Y(O=>_e(b.mode,{[0](){return m==null?void 0:m(O)},[1](){let W=b.value.slice(),le=W.findIndex(Fe=>T(Fe,O));return le===-1?W.push(O):W.splice(le,1),m==null?void 0:m(W)}})),ge=Y(O=>x({type:3,value:O})),N=Y(()=>x({type:4})),z=v.useMemo(()=>({onChange:ae,registerOption:oe,registerLabel:re,goToOption:B,closeListbox:U,openListbox:$,selectActiveOption:F,selectOption:M,search:ge,clearSearch:N}),[]),Q={ref:h},Z=v.useRef(null),Ee=Kn();return v.useEffect(()=>{Z.current&&r!==void 0&&Ee.addEventListener(Z.current,"reset",()=>{ae(r)})},[Z,ae]),me.createElement(ym.Provider,{value:z},me.createElement(vm.Provider,{value:b},me.createElement(pm,{value:_e(b.listboxState,{[0]:lt.Open,[1]:lt.Closed})},i!=null&&d!=null&&hm({[i]:d}).map(([O,W],le)=>me.createElement(FE,{features:fm.Hidden,ref:le===0?Fe=>{var Rt;Z.current=(Rt=Fe==null?void 0:Fe.closest("form"))!=null?Rt:null}:void 0,...cu({key:O,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:O,value:W})})),jt({ourProps:Q,theirProps:c,slot:C,defaultTag:_R,name:"Listbox"}))))}let NR="button";function LR(e,t){var n;let r=Jn(),{id:i=`headlessui-listbox-button-${r}`,...s}=e,o=ma("Listbox.Button"),a=pa("Listbox.Button"),l=ln(o.buttonRef,t),u=Kn(),c=Y(x=>{switch(x.key){case pe.Space:case pe.Enter:case pe.ArrowDown:x.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(ve.First)});break;case pe.ArrowUp:x.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(ve.Last)});break}}),f=Y(x=>{switch(x.key){case pe.Space:x.preventDefault();break}}),h=Y(x=>{if($E(x.currentTarget))return x.preventDefault();o.listboxState===0?(a.closeListbox(),u.nextFrame(()=>{var y;return(y=o.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(x.preventDefault(),a.openListbox())}),d=fa(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),m=v.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),w={ref:l,id:i,type:_E(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.disabled?void 0:o.listboxState===0,"aria-labelledby":d,disabled:o.disabled,onKeyDown:c,onKeyUp:f,onClick:h};return jt({ourProps:w,theirProps:s,slot:m,defaultTag:NR,name:"Listbox.Button"})}let OR="label";function $R(e,t){let n=Jn(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,s=ma("Listbox.Label"),o=pa("Listbox.Label"),a=ln(s.labelRef,t);Ge(()=>o.registerLabel(r),[r]);let l=Y(()=>{var c;return(c=s.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return jt({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:OR,name:"Listbox.Label"})}let MR="ul",VR=us.RenderStrategy|us.Static;function FR(e,t){var n;let r=Jn(),{id:i=`headlessui-listbox-options-${r}`,...s}=e,o=ma("Listbox.Options"),a=pa("Listbox.Options"),l=ln(o.optionsRef,t),u=Kn(),c=Kn(),f=ic(),h=(()=>f!==null?(f&lt.Open)===lt.Open:o.listboxState===0)();v.useEffect(()=>{var y;let p=o.optionsRef.current;p&&o.listboxState===0&&p!==((y=lm(p))==null?void 0:y.activeElement)&&p.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let d=Y(y=>{switch(c.dispose(),y.key){case pe.Space:if(o.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),a.search(y.key);case pe.Enter:if(y.preventDefault(),y.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:p}=o.options[o.activeOptionIndex];a.onChange(p.current.value)}o.mode===0&&(a.closeListbox(),In().nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case _e(o.orientation,{vertical:pe.ArrowDown,horizontal:pe.ArrowRight}):return y.preventDefault(),y.stopPropagation(),a.goToOption(ve.Next);case _e(o.orientation,{vertical:pe.ArrowUp,horizontal:pe.ArrowLeft}):return y.preventDefault(),y.stopPropagation(),a.goToOption(ve.Previous);case pe.Home:case pe.PageUp:return y.preventDefault(),y.stopPropagation(),a.goToOption(ve.First);case pe.End:case pe.PageDown:return y.preventDefault(),y.stopPropagation(),a.goToOption(ve.Last);case pe.Escape:return y.preventDefault(),y.stopPropagation(),a.closeListbox(),u.nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case pe.Tab:y.preventDefault(),y.stopPropagation();break;default:y.key.length===1&&(a.search(y.key),c.setTimeout(()=>a.clearSearch(),350));break}}),m=fa(()=>{var y,p,g;return(g=(y=o.labelRef.current)==null?void 0:y.id)!=null?g:(p=o.buttonRef.current)==null?void 0:p.id},[o.labelRef.current,o.buttonRef.current]),w=v.useMemo(()=>({open:o.listboxState===0}),[o]),x={"aria-activedescendant":o.activeOptionIndex===null||(n=o.options[o.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":o.orientation,id:i,onKeyDown:d,role:"listbox",tabIndex:0,ref:l};return jt({ourProps:x,theirProps:s,slot:w,defaultTag:MR,features:VR,visible:h,name:"Listbox.Options"})}let jR="li";function BR(e,t){let n=Jn(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=e,a=ma("Listbox.Option"),l=pa("Listbox.Option"),u=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===r:!1,c=a.isSelected(s),f=v.useRef(null),h=bn({disabled:i,value:s,domRef:f,get textValue(){var T,I;return(I=(T=f.current)==null?void 0:T.textContent)==null?void 0:I.toLowerCase()}}),d=ln(t,f);Ge(()=>{if(a.listboxState!==0||!u||a.activationTrigger===0)return;let T=In();return T.requestAnimationFrame(()=>{var I,b;(b=(I=f.current)==null?void 0:I.scrollIntoView)==null||b.call(I,{block:"nearest"})}),T.dispose},[f,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Ge(()=>l.registerOption(r,h),[h,r]);let m=Y(T=>{if(i)return T.preventDefault();l.onChange(s),a.mode===0&&(l.closeListbox(),In().nextFrame(()=>{var I;return(I=a.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})}))}),w=Y(()=>{if(i)return l.goToOption(ve.Nothing);l.goToOption(ve.Specific,r)}),x=BE(),y=Y(T=>x.update(T)),p=Y(T=>{x.wasMoved(T)&&(i||u||l.goToOption(ve.Specific,r,0))}),g=Y(T=>{x.wasMoved(T)&&(i||u&&l.goToOption(ve.Nothing))}),E=v.useMemo(()=>({active:u,selected:c,disabled:i}),[u,c,i]);return jt({ourProps:{id:r,ref:d,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:m,onFocus:w,onPointerEnter:y,onMouseEnter:y,onPointerMove:p,onMouseMove:p,onPointerLeave:g,onMouseLeave:g},theirProps:o,slot:E,defaultTag:jR,name:"Listbox.Option"})}let UR=_t(RR),zR=_t(LR),HR=_t($R),KR=_t(FR),WR=_t(BR),el=Object.assign(UR,{Button:zR,Label:HR,Options:KR,Option:WR});function GR(e=0){let[t,n]=v.useState(e),r=v.useCallback(a=>n(l=>l|a),[t]),i=v.useCallback(a=>Boolean(t&a),[t]),s=v.useCallback(a=>n(l=>l&~a),[n]),o=v.useCallback(a=>n(l=>l^a),[n]);return{flags:t,addFlag:r,hasFlag:i,removeFlag:s,toggleFlag:o}}function qR(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function _h(e,...t){e&&t.length>0&&e.classList.add(...t)}function Rh(e,...t){e&&t.length>0&&e.classList.remove(...t)}function QR(e,t){let n=In();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,f)=>f-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},a),u.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return n.add(()=>t()),n.dispose}function YR(e,t,n,r){let i=n?"enter":"leave",s=In(),o=r!==void 0?qR(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=_e(i,{enter:()=>t.enter,leave:()=>t.leave}),l=_e(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=_e(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Rh(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),_h(e,...a,...u),s.nextFrame(()=>{Rh(e,...u),_h(e,...l),QR(e,()=>(Rh(e,...a),_h(e,...t.entered),o()))}),s.dispose}function XR({container:e,direction:t,classes:n,onStart:r,onStop:i}){let s=UE(),o=Kn(),a=bn(t);Ge(()=>{let l=In();o.add(l.dispose);let u=e.current;if(u&&a.current!=="idle"&&s.current)return l.dispose(),r.current(a.current),l.add(YR(u,n.current,a.current==="enter",()=>{l.dispose(),i.current(a.current)})),l.dispose},[t])}function Vr(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let sc=v.createContext(null);sc.displayName="TransitionContext";var JR=(e=>(e.Visible="visible",e.Hidden="hidden",e))(JR||{});function ZR(){let e=v.useContext(sc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function eN(){let e=v.useContext(oc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let oc=v.createContext(null);oc.displayName="NestingContext";function ac(e){return"children"in e?ac(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function zE(e,t){let n=bn(e),r=v.useRef([]),i=UE(),s=Kn(),o=Y((d,m=$n.Hidden)=>{let w=r.current.findIndex(({el:x})=>x===d);w!==-1&&(_e(m,{[$n.Unmount](){r.current.splice(w,1)},[$n.Hidden](){r.current[w].state="hidden"}}),s.microTask(()=>{var x;!ac(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=Y(d=>{let m=r.current.find(({el:w})=>w===d);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:d,state:"visible"}),()=>o(d,$n.Unmount)}),l=v.useRef([]),u=v.useRef(Promise.resolve()),c=v.useRef({enter:[],leave:[],idle:[]}),f=Y((d,m,w)=>{l.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([x])=>x!==d)),t==null||t.chains.current[m].push([d,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[m].push([d,new Promise(x=>{Promise.all(c.current[m].map(([y,p])=>p)).then(()=>x())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(m)):w(m)}),h=Y((d,m,w)=>{Promise.all(c.current[m].splice(0).map(([x,y])=>y)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>w(m))});return v.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:h,wait:u,chains:c}),[a,o,r,f,h,c,u])}function tN(){}let nN=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Qv(e){var t;let n={};for(let r of nN)n[r]=(t=e[r])!=null?t:tN;return n}function rN(e){let t=v.useRef(Qv(e));return v.useEffect(()=>{t.current=Qv(e)},[e]),t}let iN="div",HE=us.RenderStrategy;function sN(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s,enter:o,enterFrom:a,enterTo:l,entered:u,leave:c,leaveFrom:f,leaveTo:h,...d}=e,m=v.useRef(null),w=ln(m,t),x=d.unmount?$n.Unmount:$n.Hidden,{show:y,appear:p,initial:g}=ZR(),[E,T]=v.useState(y?"visible":"hidden"),I=eN(),{register:b,unregister:C}=I,M=v.useRef(null);v.useEffect(()=>b(m),[b,m]),v.useEffect(()=>{if(x===$n.Hidden&&m.current){if(y&&E!=="visible"){T("visible");return}return _e(E,{hidden:()=>C(m),visible:()=>b(m)})}},[E,m,b,C,y,x]);let F=bn({enter:Vr(o),enterFrom:Vr(a),enterTo:Vr(l),entered:Vr(u),leave:Vr(c),leaveFrom:Vr(f),leaveTo:Vr(h)}),$=rN({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s}),U=am();v.useEffect(()=>{if(U&&E==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,E,U]);let B=g&&!p,oe=(()=>!U||B||M.current===y?"idle":y?"enter":"leave")(),re=GR(0),ae=Y(Z=>_e(Z,{enter:()=>{re.addFlag(lt.Opening),$.current.beforeEnter()},leave:()=>{re.addFlag(lt.Closing),$.current.beforeLeave()},idle:()=>{}})),ge=Y(Z=>_e(Z,{enter:()=>{re.removeFlag(lt.Opening),$.current.afterEnter()},leave:()=>{re.removeFlag(lt.Closing),$.current.afterLeave()},idle:()=>{}})),N=zE(()=>{T("hidden"),C(m)},I);XR({container:m,classes:F,direction:oe,onStart:bn(Z=>{N.onStart(m,Z,ae)}),onStop:bn(Z=>{N.onStop(m,Z,ge),Z==="leave"&&!ac(N)&&(T("hidden"),C(m))})}),v.useEffect(()=>{B&&(x===$n.Hidden?M.current=null:M.current=y)},[y,B,E]);let z=d,Q={ref:w};return p&&y&&Sr.isServer&&(z={...z,className:LE(d.className,...F.current.enter,...F.current.enterFrom)}),me.createElement(oc.Provider,{value:N},me.createElement(pm,{value:_e(E,{visible:lt.Open,hidden:lt.Closed})|re.flags},jt({ourProps:Q,theirProps:z,defaultTag:iN,features:HE,visible:E==="visible",name:"Transition.Child"})))}function oN(e,t){let{show:n,appear:r=!1,unmount:i,...s}=e,o=v.useRef(null),a=ln(o,t);am();let l=ic();if(n===void 0&&l!==null&&(n=(l&lt.Open)===lt.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=v.useState(n?"visible":"hidden"),f=zE(()=>{c("hidden")}),[h,d]=v.useState(!0),m=v.useRef([n]);Ge(()=>{h!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),d(!1))},[m,n]);let w=v.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);v.useEffect(()=>{if(n)c("visible");else if(!ac(f))c("hidden");else{let y=o.current;if(!y)return;let p=y.getBoundingClientRect();p.x===0&&p.y===0&&p.width===0&&p.height===0&&c("hidden")}},[n,f]);let x={unmount:i};return me.createElement(oc.Provider,{value:f},me.createElement(sc.Provider,{value:w},jt({ourProps:{...x,as:v.Fragment,children:me.createElement(KE,{ref:a,...x,...s})},theirProps:{},defaultTag:v.Fragment,features:HE,visible:u==="visible",name:"Transition"})))}function aN(e,t){let n=v.useContext(sc)!==null,r=ic()!==null;return me.createElement(me.Fragment,null,!n&&r?me.createElement(hd,{ref:t,...e}):me.createElement(KE,{ref:t,...e}))}let hd=_t(oN),KE=_t(sN),lN=_t(aN),WE=Object.assign(hd,{Child:lN,Root:hd});const uN=({value:e,options:t,onChange:n,onSelect:r,width:i,placeholder:s,height:o="md"})=>A.jsx(Za,{value:e,onChange:r,children:A.jsxs("div",{className:`relative ${Ss[i]}`,children:[A.jsx(Za.Input,{placeholder:s,onChange:n,className:`${Es[o]} bg-neutral-200 dark:bg-neutral-700 rounded p-2 w-full flex text-black dark:text-white`}),A.jsx(WE,{as:v.Fragment,enter:"transition-all duration-300 overflow-hidden",leave:"transition-all duration-300 overflow-hidden",enterFrom:"transform scale-y-0  scale-x-90  origin-top",enterTo:"transform scale-100  origin-top",leaveFrom:"transform scale-100  origin-top",leaveTo:"transform scale-y-0  scale-x-90  origin-top",children:A.jsx(Za.Options,{className:"absolute bg-neutral-200 dark:bg-neutral-700 mt-1 rounded w-full z-50 text-black dark:text-white",children:t.map((a,l)=>A.jsx(Za.Option,{value:a,className:({active:u})=>`p-2 border-b-[0.7px] border-neutral-100 dark:border-neutral-600 last:border-none flex items-center ${u?"bg-neutral-300 dark:bg-neutral-800":""}`,children:({selected:u,active:c})=>A.jsxs(A.Fragment,{children:[A.jsx("span",{className:`text-xl ${u?"font-bold":""}`,children:a}),u?A.jsx("span",{className:"",children:A.jsx("div",{className:"","aria-hidden":"true"})}):null]})},l))})})]})}),cN=e=>v.createElement("svg",{enableBackground:"new 0 0 32 32",viewBox:"0 0 32 32",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1em",height:"1em",...e},v.createElement("g",null,v.createElement("g",{id:"Grid"}),v.createElement("g",{id:"Chevron_Up"}),v.createElement("g",{id:"Chevron_Left"},v.createElement("g",{transform:"rotate(90,19.582908,13.084021)"},v.createElement("polyline",{fill:"none",points:"21.2,25.7 10.8,16 21.2,6.3     ",strokeMiterlimit:10,id:"polyline157",style:{strokeOpacity:1}})),v.createElement("g",{transform:"rotate(-90,19.877484,19.189444)"},v.createElement("polyline",{fill:"none",points:"21.2,25.7 10.8,16 21.2,6.3     ",strokeMiterlimit:10,id:"polyline157",style:{strokeOpacity:1}}))),v.createElement("g",{id:"Chevron_Down"}),v.createElement("g",{id:"Chevron_Right"}),v.createElement("g",{id:"Keyboard_Up"}),v.createElement("g",{id:"Keyboard_Left"}),v.createElement("g",{id:"Keyboard_Right"}),v.createElement("g",{id:"Keyboard_Up_1_"}),v.createElement("g",{id:"Check"}),v.createElement("g",{id:"Delete"}))),hN=({value:e,onChange:t,options:n,placeholder:r,width:i,height:s="md"})=>A.jsx(el,{value:e,onChange:t,children:A.jsxs("div",{className:`relative ${Ss[i]}`,children:[A.jsxs(el.Button,{className:`${Es[s]} bg-neutral-200 dark:bg-neutral-700 rounded p-2 w-full flex `,children:[e==="init"?A.jsx("div",{className:"grow my-auto text-neutral-400 text-left",children:r}):A.jsx("div",{className:"grow my-auto text-left",children:e}),A.jsx("div",{className:"my-auto stroke-blue-500 dark:stroke-blue-400 fill-none stroke-[2] text-[1.4rem]",children:A.jsx(cN,{})})]}),A.jsx(WE,{as:v.Fragment,enter:"transition-all duration-300 overflow-hidden",leave:"transition-all duration-300 overflow-hidden",enterFrom:"transform scale-y-0  scale-x-90  origin-top",enterTo:"transform scale-100  origin-top",leaveFrom:"transform scale-100  origin-top",leaveTo:"transform scale-y-0  scale-x-90  origin-top",children:A.jsxs(el.Options,{className:"absolute mt-1 w-full z-50",children:[n.map((o,a)=>A.jsx(el.Option,{className:({active:l})=>`px-2 h-16 border-b-[0.7px] bg-neutral-200 dark:bg-neutral-700 dark:border-neutral-600 border-neutral-100 last:border-none flex items-center ${l?"bg-neutral-300 dark:bg-neutral-800 dark:text-white":""}`,value:o,children:({selected:l})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:`text-xl ${l?"font-bold":""}`,children:o}),l?A.jsx("span",{className:"",children:A.jsx("div",{className:"","aria-hidden":"true"})}):null]})},a)),A.jsx("div",{className:"bg-neutral-200 dark:bg-neutral-700 h-2 rounded-b-full border-b-[1rem]-xx"}),A.jsx("div",{className:"h-20"})]})})]})}),fN=({label:e,register:t,error:n,value:r,onChange:i,placeholder:s,width:o,height:a="md"})=>A.jsxs(A.Fragment,{children:[A.jsxs("label",{children:[" ",e]}),A.jsx("input",{className:`${Ss[o]} ${Es[a]} dark:bg-neutral-700 bg-neutral-200 rounded p-2`,type:"text",value:r,onChange:i,...t,placeholder:s}),n&&A.jsxs("span",{className:"text-red-500",children:[" ",n.message]})]}),dN=({label:e,register:t,error:n,value:r,onChange:i,placeholder:s,width:o,height:a="md"})=>A.jsxs(A.Fragment,{children:[A.jsxs("label",{children:[" ",e]}),A.jsx("input",{className:`${Ss[o]} ${Es[a]} dark:bg-neutral-700 bg-neutral-200 rounded p-2`,type:"number",value:r,onChange:i,...t,placeholder:s}),n&&A.jsxs("span",{className:"Number-red-500",children:[" ",n.message]})]}),pN=({label:e,register:t,error:n,value:r,onChange:i,placeholder:s,width:o="md",height:a="md"})=>A.jsxs(A.Fragment,{children:[A.jsxs("label",{children:[" ",e]}),A.jsx("input",{className:`${Ss[o]} ${Es[a]} dark:bg-neutral-700 bg-neutral-200 rounded p-2`,type:"text",pattern:"^[a-zA-Z0-9]*$",value:r,onChange:l=>i(l.target.value.replace(/[^\w\s]/gi,"").replace(/[\s]/g,"")),...t,placeholder:s}),n&&A.jsxs("span",{className:"Number-red-500",children:[" ",n.message]})]}),Wn=({zodSchema:e,children:t})=>{const{register:n,handleSubmit:r,formState:{errors:i}}=__({mode:"onChange",resolver:L_(e)}),s=o=>{console.log("IT WORKED",o)};return A.jsx("form",{onSubmit:r(s),className:"flex flex-col",children:t})};Wn.Autocomplete=uN;Wn.Select=hN;Wn.Text=fN;Wn.Number=dN;Wn.Alphanumeric=pN;const mN=()=>{const[e,t]=v.useState(localStorage.getItem("username")),n=r=>{localStorage.setItem("username",r.target.value),t(localStorage.getItem("username"))};return A.jsx("div",{className:"",children:A.jsx(Wn,{children:A.jsx(Wn.Text,{label:"Username",value:e,width:"md",onChange:n})})})},gN=()=>{const e="1683935307"*1e3,t=new Intl.DateTimeFormat("en-AU",{dateStyle:"medium",timeStyle:"short"}).format(e),n=new Intl.RelativeTimeFormat("en-AU",{style:"short",numeric:"auto"}).format(Math.round(Date.now()-e/1e3/60/60/24)*-1,"days");return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"m-6",children:["Version: ",t," (",n,")"]})})},yN=({children:e,style:t})=>A.jsx("div",{className:`grid place-items-center ${t}`,children:e}),vN=()=>{const e=[{date:"May 13",changes:["* add return lists","* add ability to delete address"]},{date:"May 3",changes:["+ add ability to submit to letter list","+ restrict special characters in house or unit number fields","+ use street coordinates when address match is poor","# fix use of letters in house or unit number fields"]},{date:"April 26",changes:["+ add lazy loading (performance)","# fix Select component bottom margin"]}];return A.jsx("div",{className:"m-6",children:e.map((t,n)=>A.jsxs("div",{className:"mt-8 font-bold",children:[t.date,t.changes.map((r,i)=>A.jsx("div",{className:"mt-1 font-light",children:r},i))]},n))})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new SN;const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EN=function(e){const t=GE(e);return qE.encodeByteArray(t,!0)},hu=function(e){return EN(e).replace(/\./g,"")},xN=function(e){try{return qE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>TN().__FIREBASE_DEFAULTS__,kN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xN(e[1]);return t&&JSON.parse(t)},QE=()=>{try{return CN()||kN()||bN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},IN=e=>{var t,n;return(n=(t=QE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},DN=e=>{const t=IN(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},AN=()=>{var e;return(e=QE())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[hu(JSON.stringify(n)),hu(JSON.stringify(o)),a].join(".")}function RN(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class Ts extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LN,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,YE.prototype.create)}}class YE{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?ON(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,a,r)}}function ON(e,t){return e.replace($N,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const $N=/\{\$([^}]+)}/g;function fd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Yv(s)&&Yv(o)){if(!fd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e){return e&&e._delegate?e._delegate:e}class Uo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new PN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FN(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(e){return e===Hr?void 0:e}function FN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new MN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ye||(ye={}));const BN={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},UN=ye.INFO,zN={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},HN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=zN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class XE{constructor(t){this.name=t,this._logLevel=UN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const KN=(e,t)=>t.some(n=>e instanceof n);let Xv,Jv;function WN(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GN(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,dd=new WeakMap,ZE=new WeakMap,Nh=new WeakMap,wm=new WeakMap;function qN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Er(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&JE.set(n,e)}).catch(()=>{}),wm.set(t,e),t}function QN(e){if(dd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});dd.set(e,t)}let pd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ZE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YN(e){pd=e(pd)}function XN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Lh(this),t,...n);return ZE.set(r,t.sort?t.sort():[t]),Er(r)}:GN().includes(e)?function(...t){return e.apply(Lh(this),t),Er(JE.get(this))}:function(...t){return Er(e.apply(Lh(this),t))}}function JN(e){return typeof e=="function"?XN(e):(e instanceof IDBTransaction&&QN(e),KN(e,WN())?new Proxy(e,pd):e)}function Er(e){if(e instanceof IDBRequest)return qN(e);if(Nh.has(e))return Nh.get(e);const t=JN(e);return t!==e&&(Nh.set(e,t),wm.set(t,e)),t}const Lh=e=>wm.get(e);function ZN(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Er(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Er(o.result),l.oldVersion,l.newVersion,Er(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const eL=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],Oh=new Map;function Zv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Oh.get(t))return Oh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=tL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Oh.set(t,s),s}YN(e=>({...e,get:(t,n,r)=>Zv(t,n)||e.get(t,n,r),has:(t,n)=>!!Zv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const md="@firebase/app",e0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new XE("@firebase/app"),iL="@firebase/app-compat",sL="@firebase/analytics-compat",oL="@firebase/analytics",aL="@firebase/app-check-compat",lL="@firebase/app-check",uL="@firebase/auth",cL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/database-compat",dL="@firebase/functions",pL="@firebase/functions-compat",mL="@firebase/installations",gL="@firebase/installations-compat",yL="@firebase/messaging",vL="@firebase/messaging-compat",wL="@firebase/performance",SL="@firebase/performance-compat",EL="@firebase/remote-config",xL="@firebase/remote-config-compat",TL="@firebase/storage",CL="@firebase/storage-compat",kL="@firebase/firestore",bL="@firebase/firestore-compat",IL="firebase",DL="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="[DEFAULT]",AL={[md]:"fire-core",[iL]:"fire-core-compat",[oL]:"fire-analytics",[sL]:"fire-analytics-compat",[lL]:"fire-app-check",[aL]:"fire-app-check-compat",[uL]:"fire-auth",[cL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-rtdb-compat",[dL]:"fire-fn",[pL]:"fire-fn-compat",[mL]:"fire-iid",[gL]:"fire-iid-compat",[yL]:"fire-fcm",[vL]:"fire-fcm-compat",[wL]:"fire-perf",[SL]:"fire-perf-compat",[EL]:"fire-rc",[xL]:"fire-rc-compat",[TL]:"fire-gcs",[CL]:"fire-gcs-compat",[kL]:"fire-fst",[bL]:"fire-fst-compat","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,yd=new Map;function PL(e,t){try{e.container.addComponent(t)}catch(n){ci.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function du(e){const t=e.name;if(yd.has(t))return ci.debug(`There were multiple attempts to register component ${t}.`),!1;yd.set(t,e);for(const n of fu.values())PL(n,e);return!0}function _L(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xr=new YE("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=DL;function ex(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:gd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw xr.create("bad-app-name",{appName:String(i)});if(n||(n=AN()),!n)throw xr.create("no-options");const s=fu.get(i);if(s){if(fd(n,s.options)&&fd(r,s.config))return s;throw xr.create("duplicate-app",{appName:i})}const o=new jN(i);for(const l of yd.values())o.addComponent(l);const a=new NL(n,r,o);return fu.set(i,a),a}function OL(e=gd){const t=fu.get(e);if(!t&&e===gd)return ex();if(!t)throw xr.create("no-app",{appName:e});return t}function Xi(e,t,n){var r;let i=(r=AL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ci.warn(a.join(" "));return}du(new Uo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firebase-heartbeat-database",ML=1,zo="firebase-heartbeat-store";let $h=null;function tx(){return $h||($h=ZN($L,ML,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zo)}}}).catch(e=>{throw xr.create("idb-open",{originalErrorMessage:e.message})})),$h}async function VL(e){try{return(await tx()).transaction(zo).objectStore(zo).get(nx(e))}catch(t){if(t instanceof Ts)ci.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ci.warn(n.message)}}}async function t0(e,t){try{const r=(await tx()).transaction(zo,"readwrite");return await r.objectStore(zo).put(t,nx(e)),r.done}catch(n){if(n instanceof Ts)ci.warn(n.message);else{const r=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function nx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,jL=30*24*60*60*1e3;class BL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=jL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:n,unsentEntries:r}=UL(this._heartbeatsCache.heartbeats),i=hu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function n0(){return new Date().toISOString().substring(0,10)}function UL(e,t=FL){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),r0(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),r0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RN()?NN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function r0(e){return hu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){du(new Uo("platform-logger",t=>new nL(t),"PRIVATE")),du(new Uo("heartbeat",t=>new BL(t),"PRIVATE")),Xi(md,e0,e),Xi(md,e0,"esm2017"),Xi("fire-js","")}HL("");var KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Sm=Sm||{},se=KL||self;function pu(){}function lc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ga(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function WL(e){return Object.prototype.hasOwnProperty.call(e,Mh)&&e[Mh]||(e[Mh]=++GL)}var Mh="closure_uid_"+(1e9*Math.random()>>>0),GL=0;function qL(e,t,n){return e.call.apply(e.bind,arguments)}function QL(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=qL:wt=QL,wt.apply(null,arguments)}function tl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function dt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Or(){this.s=this.s,this.o=this.o}var YL=0;Or.prototype.s=!1;Or.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YL!=0)&&WL(this)};Or.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Em(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function i0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function St(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var XL=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",pu,t),se.removeEventListener("test",pu,t)}catch{}return e}();function mu(e){return/^[\s\xa0]*$/.test(e)}var s0=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vh(e,t){return e<t?-1:e>t?1:0}function uc(){var e=se.navigator;return e&&(e=e.userAgent)?e:""}function En(e){return uc().indexOf(e)!=-1}function xm(e){return xm[" "](e),e}xm[" "]=pu;function JL(e){var t=tO;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ZL=En("Opera"),cs=En("Trident")||En("MSIE"),ix=En("Edge"),vd=ix||cs,sx=En("Gecko")&&!(uc().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),eO=uc().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function ox(){var e=se.document;return e?e.documentMode:void 0}var gu;e:{var Fh="",jh=function(){var e=uc();if(sx)return/rv:([^\);]+)(\)|;)/.exec(e);if(ix)return/Edge\/([\d\.]+)/.exec(e);if(cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(eO)return/WebKit\/(\S+)/.exec(e);if(ZL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(jh&&(Fh=jh?jh[1]:""),cs){var Bh=ox();if(Bh!=null&&Bh>parseFloat(Fh)){gu=String(Bh);break e}}gu=Fh}var tO={};function nO(){return JL(function(){let e=0;const t=s0(String(gu)).split("."),n=s0("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=Vh(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Vh(i[2].length==0,s[2].length==0)||Vh(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var wd;if(se.document&&cs){var o0=ox();wd=o0||parseInt(gu,10)||void 0}else wd=void 0;var rO=wd;function Ho(e,t){if(St.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sx){e:{try{xm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:iO[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ho.X.h.call(this)}}dt(Ho,St);var iO={2:"touch",3:"pen",4:"mouse"};Ho.prototype.h=function(){Ho.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),sO=0;function oO(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++sO,this.ba=this.ea=!1}function cc(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Tm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ax(e){const t={};for(const n in e)t[n]=e[n];return t}const a0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lx(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<a0.length;s++)n=a0[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hc(e){this.src=e,this.g={},this.h=0}hc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Ed(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new oO(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Sd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=rx(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ed(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Cm="closure_lm_"+(1e6*Math.random()|0),Uh={};function ux(e,t,n,r,i){if(r&&r.once)return hx(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ux(e,t[s],n,r,i);return null}return n=Im(n),e&&e[ya]?e.N(t,n,ga(r)?!!r.capture:!!r,i):cx(e,t,n,!1,r,i)}function cx(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ga(i)?!!i.capture:!!i,a=bm(e);if(a||(e[Cm]=a=new hc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=aO(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)XL||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dx(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aO(){function e(n){return t.call(e.src,e.listener,n)}const t=lO;return e}function hx(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)hx(e,t[s],n,r,i);return null}return n=Im(n),e&&e[ya]?e.O(t,n,ga(r)?!!r.capture:!!r,i):cx(e,t,n,!0,r,i)}function fx(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fx(e,t[s],n,r,i);else r=ga(r)?!!r.capture:!!r,n=Im(n),e&&e[ya]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ed(s,n,r,i),-1<n&&(cc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=bm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ed(t,n,r,i)),(n=-1<e?t[e]:null)&&km(n))}function km(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ya])Sd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bm(t))?(Sd(n,e),n.h==0&&(n.src=null,t[Cm]=null)):cc(e)}}}function dx(e){return e in Uh?Uh[e]:Uh[e]="on"+e}function lO(e,t){if(e.ba)e=!0;else{t=new Ho(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&km(e),e=n.call(r,t)}return e}function bm(e){return e=e[Cm],e instanceof hc?e:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(e){return typeof e=="function"?e:(e[zh]||(e[zh]=function(t){return e.handleEvent(t)}),e[zh])}function it(){Or.call(this),this.i=new hc(this),this.P=this,this.I=null}dt(it,Or);it.prototype[ya]=!0;it.prototype.removeEventListener=function(e,t,n,r){fx(this,e,t,n,r)};function ct(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new St(t,e);else if(t instanceof St)t.target=t.target||e;else{var i=t;t=new St(r,e),lx(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=nl(o,r,!0,t)&&i}if(o=t.g=e,i=nl(o,r,!0,t)&&i,i=nl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=nl(o,r,!1,t)&&i}it.prototype.M=function(){if(it.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)cc(n[r]);delete e.g[t],e.h--}}this.I=null};it.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};it.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function nl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Sd(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Dm=se.JSON.stringify;function uO(){var e=gx;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class cO{constructor(){this.h=this.g=null}add(t,n){const r=px.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var px=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hO,e=>e.reset());class hO{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fO(e){se.setTimeout(()=>{throw e},0)}function mx(e,t){xd||dO(),Td||(xd(),Td=!0),gx.add(e,t)}var xd;function dO(){var e=se.Promise.resolve(void 0);xd=function(){e.then(pO)}}var Td=!1,gx=new cO;function pO(){for(var e;e=uO();){try{e.h.call(e.g)}catch(n){fO(n)}var t=px;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Td=!1}function fc(e,t){it.call(this),this.h=e||1,this.g=t||se,this.j=wt(this.lb,this),this.l=Date.now()}dt(fc,it);K=fc.prototype;K.ca=!1;K.R=null;K.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ct(this,"tick"),this.ca&&(Am(this),this.start()))}};K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Am(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}K.M=function(){fc.X.M.call(this),Am(this),delete this.g};function Pm(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function yx(e){e.g=Pm(()=>{e.g=null,e.i&&(e.i=!1,yx(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class mO extends Or{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:yx(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(e){Or.call(this),this.h=e,this.g={}}dt(Ko,Or);var l0=[];function vx(e,t,n,r){Array.isArray(n)||(n&&(l0[0]=n.toString()),n=l0);for(var i=0;i<n.length;i++){var s=ux(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function wx(e){Tm(e.g,function(t,n){this.g.hasOwnProperty(n)&&km(t)},e),e.g={}}Ko.prototype.M=function(){Ko.X.M.call(this),wx(this)};Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dc(){this.g=!0}dc.prototype.Aa=function(){this.g=!1};function gO(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function yO(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ui(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+wO(e,n)+(r?" "+r:"")})}function vO(e,t){e.info(function(){return"TIMEOUT: "+t})}dc.prototype.info=function(){};function wO(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Dm(n)}catch{return t}}var vi={},u0=null;function pc(){return u0=u0||new it}vi.Pa="serverreachability";function Sx(e){St.call(this,vi.Pa,e)}dt(Sx,St);function Wo(e){const t=pc();ct(t,new Sx(t))}vi.STAT_EVENT="statevent";function Ex(e,t){St.call(this,vi.STAT_EVENT,e),this.stat=t}dt(Ex,St);function It(e){const t=pc();ct(t,new Ex(t,e))}vi.Qa="timingevent";function xx(e,t){St.call(this,vi.Qa,e),this.size=t}dt(xx,St);function va(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var mc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Tx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _m(){}_m.prototype.h=null;function c0(e){return e.h||(e.h=e.i())}function Cx(){}var wa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Rm(){St.call(this,"d")}dt(Rm,St);function Nm(){St.call(this,"c")}dt(Nm,St);var Cd;function gc(){}dt(gc,_m);gc.prototype.g=function(){return new XMLHttpRequest};gc.prototype.i=function(){return{}};Cd=new gc;function Sa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ko(this),this.O=SO,e=vd?125:void 0,this.T=new fc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}var SO=45e3,kd={},yu={};K=Sa.prototype;K.setTimeout=function(e){this.O=e};function bd(e,t,n){e.K=1,e.v=vc(qn(t)),e.s=n,e.P=!0,bx(e,null)}function bx(e,t){e.F=Date.now(),Ea(e),e.A=qn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Lx(n.i,"t",r),e.C=0,n=e.l.H,e.h=new kx,e.g=tT(e.l,n?t:null,!e.s),0<e.N&&(e.L=new mO(wt(e.La,e,e.g),e.N)),vx(e.S,e.g,"readystatechange",e.ib),t=e.H?ax(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Wo(),gO(e.j,e.u,e.A,e.m,e.U,e.s)}K.ib=function(e){e=e.target;const t=this.L;t&&Mn(e)==3?t.l():this.La(e)};K.La=function(e){try{if(e==this.g)e:{const c=Mn(this.g);var t=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||vd||this.g&&(this.h.h||this.g.fa()||p0(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?Wo(3):Wo(2)),yc(this);var n=this.g.aa();this.Y=n;t:if(Ix(this)){var r=p0(this.g);e="";var i=r.length,s=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),fo(this);var o="";break t}this.h.i=new se.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,yO(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mu(a)){var u=a;break t}}u=null}if(n=u)Ui(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Id(this,n);else{this.i=!1,this.o=3,It(12),Yr(this),fo(this);break e}}this.P?(Dx(this,c,o),vd&&this.i&&c==3&&(vx(this.S,this.T,"tick",this.hb),this.T.start())):(Ui(this.j,this.m,o,null),Id(this,o)),c==4&&Yr(this),this.i&&!this.I&&(c==4?Xx(this.l,this):(this.i=!1,Ea(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,It(12)):(this.o=0,It(13)),Yr(this),fo(this)}}}catch{}finally{}};function Ix(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function Dx(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=EO(e,n),i==yu){t==4&&(e.o=4,It(14),r=!1),Ui(e.j,e.m,null,"[Incomplete Response]");break}else if(i==kd){e.o=4,It(15),Ui(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ui(e.j,e.m,i,null),Id(e,i);Ix(e)&&i!=yu&&i!=kd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,It(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),jm(t),t.K=!0,It(11))):(Ui(e.j,e.m,n,"[Invalid Chunked Response]"),Yr(e),fo(e))}K.hb=function(){if(this.g){var e=Mn(this.g),t=this.g.fa();this.C<t.length&&(yc(this),Dx(this,e,t),this.i&&e!=4&&Ea(this))}};function EO(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?yu:(n=Number(t.substring(n,r)),isNaN(n)?kd:(r+=1,r+n>t.length?yu:(t=t.substr(r,n),e.C=r+n,t)))}K.cancel=function(){this.I=!0,Yr(this)};function Ea(e){e.V=Date.now()+e.O,Ax(e,e.O)}function Ax(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=va(wt(e.gb,e),t)}function yc(e){e.B&&(se.clearTimeout(e.B),e.B=null)}K.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(vO(this.j,this.A),this.K!=2&&(Wo(),It(17)),Yr(this),this.o=2,fo(this)):Ax(this,this.V-e)};function fo(e){e.l.G==0||e.I||Xx(e.l,e)}function Yr(e){yc(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Am(e.T),wx(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Id(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Dd(n.h,e))){if(!e.J&&Dd(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Su(n),Ec(n);else break e;Fm(n),It(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=va(wt(n.cb,n),6e3));if(1>=Mx(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Xr(n,11)}else if((e.J||n.g==e)&&Su(n),!mu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Lm(s,s.h),s.h=null))}if(r.D){const w=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,De(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=eT(r,r.H?r.ka:null,r.V),o.J){Vx(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(yc(a),Ea(a)),r.g=o}else Qx(r);0<n.i.length&&xc(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):Vm(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Wo(4)}catch{}}function xO(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(lc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function TO(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(lc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Px(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(lc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=TO(e),r=xO(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var _x=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CO(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ti(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ti){this.h=t!==void 0?t:e.h,vu(this,e.j),this.s=e.s,this.g=e.g,wu(this,e.m),this.l=e.l,t=e.i;var n=new Go;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),h0(this,n),this.o=e.o}else e&&(n=String(e).match(_x))?(this.h=!!t,vu(this,n[1]||"",!0),this.s=qs(n[2]||""),this.g=qs(n[3]||"",!0),wu(this,n[4]),this.l=qs(n[5]||"",!0),h0(this,n[6]||"",!0),this.o=qs(n[7]||"")):(this.h=!!t,this.i=new Go(null,this.h))}ti.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qs(t,f0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Qs(t,f0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Qs(n,n.charAt(0)=="/"?IO:bO,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qs(n,AO)),e.join("")};function qn(e){return new ti(e)}function vu(e,t,n){e.j=n?qs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function h0(e,t,n){t instanceof Go?(e.i=t,PO(e.i,e.h)):(n||(t=Qs(t,DO)),e.i=new Go(t,e.h))}function De(e,t,n){e.i.set(t,n)}function vc(e){return De(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,kO),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kO(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var f0=/[#\/\?@]/g,bO=/[#\?:]/g,IO=/[#\?]/g,DO=/[#\?@]/g,AO=/#/g;function Go(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $r(e){e.g||(e.g=new Map,e.h=0,e.i&&CO(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}K=Go.prototype;K.add=function(e,t){$r(this),this.i=null,e=Cs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Rx(e,t){$r(e),t=Cs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nx(e,t){return $r(e),t=Cs(e,t),e.g.has(t)}K.forEach=function(e,t){$r(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};K.oa=function(){$r(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};K.W=function(e){$r(this);let t=[];if(typeof e=="string")Nx(this,e)&&(t=t.concat(this.g.get(Cs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};K.set=function(e,t){return $r(this),this.i=null,e=Cs(this,e),Nx(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};K.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function Lx(e,t,n){Rx(e,t),0<n.length&&(e.i=null,e.g.set(Cs(e,t),Em(n)),e.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Cs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function PO(e,t){t&&!e.j&&($r(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Rx(this,r),Lx(this,i,n))},e)),e.j=t}var _O=class{constructor(t,n){this.h=t,this.g=n}};function Ox(e){this.l=e||RO,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var RO=10;function $x(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Mx(e){return e.h?1:e.g?e.g.size:0}function Dd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Lm(e,t){e.g?e.g.add(t):e.h=t}function Vx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ox.prototype.cancel=function(){if(this.i=Fx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Fx(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Em(e.i)}function Om(){}Om.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};Om.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function NO(){this.g=new Om}function LO(e,t,n){const r=n||"";try{Px(e,function(i,s){let o=i;ga(i)&&(o=Dm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function OO(e,t){const n=new dc;if(se.Image){const r=new Image;r.onload=tl(rl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=tl(rl,n,r,"TestLoadImage: error",!1,t),r.onabort=tl(rl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=tl(rl,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function rl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function xa(e){this.l=e.ac||null,this.j=e.jb||!1}dt(xa,_m);xa.prototype.g=function(){return new wc(this.l,this.j)};xa.prototype.i=function(e){return function(){return e}}({});function wc(e,t){it.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(wc,it);var $m=0;K=wc.prototype;K.open=function(e,t){if(this.readyState!=$m)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qo(this)};K.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||se).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=$m};K.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jx(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function jx(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}K.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ta(this):qo(this),this.readyState==3&&jx(this)}};K.Va=function(e){this.g&&(this.response=this.responseText=e,Ta(this))};K.Ua=function(e){this.g&&(this.response=e,Ta(this))};K.ga=function(){this.g&&Ta(this)};function Ta(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qo(e)}K.setRequestHeader=function(e,t){this.v.append(e,t)};K.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var $O=se.JSON.parse;function Ve(e){it.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bx,this.K=this.L=!1}dt(Ve,it);var Bx="",MO=/^https?$/i,VO=["POST","PUT"];K=Ve.prototype;K.Ka=function(e){this.L=e};K.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cd.g(),this.C=this.u?c0(this.u):c0(Cd),this.g.onreadystatechange=wt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){d0(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=se.FormData&&e instanceof se.FormData,!(0<=rx(VO,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hx(this),0<this.B&&((this.K=FO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.qa,this)):this.A=Pm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){d0(this,s)}};function FO(e){return cs&&nO()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}K.qa=function(){typeof Sm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ct(this,"timeout"),this.abort(8))};function d0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ux(e),Sc(e)}function Ux(e){e.D||(e.D=!0,ct(e,"complete"),ct(e,"error"))}K.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ct(this,"complete"),ct(this,"abort"),Sc(this))};K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sc(this,!0)),Ve.X.M.call(this)};K.Ha=function(){this.s||(this.F||this.v||this.l?zx(this):this.fb())};K.fb=function(){zx(this)};function zx(e){if(e.h&&typeof Sm<"u"&&(!e.C[1]||Mn(e)!=4||e.aa()!=2)){if(e.v&&Mn(e)==4)Pm(e.Ha,0,e);else if(ct(e,"readystatechange"),Mn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(_x)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!MO.test(i?i.toLowerCase():"")}n=r}if(n)ct(e,"complete"),ct(e,"success");else{e.m=6;try{var o=2<Mn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",Ux(e)}}finally{Sc(e)}}}}function Sc(e,t){if(e.g){Hx(e);const n=e.g,r=e.C[0]?pu:null;e.g=null,e.C=null,t||ct(e,"ready");try{n.onreadystatechange=r}catch{}}}function Hx(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(se.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}K.aa=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}};K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),$O(t)}};function p0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Bx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}K.Ea=function(){return this.m};K.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kx(e){let t="";return Tm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Mm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kx(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):De(e,t,n))}function Bs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wx(e){this.Ca=0,this.i=[],this.j=new dc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bs("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bs("baseRetryDelayMs",5e3,e),this.bb=Bs("retryDelaySeedMs",1e4,e),this.$a=Bs("forwardChannelMaxRetries",2,e),this.ta=Bs("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ox(e&&e.concurrentRequestLimit),this.Fa=new NO,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}K=Wx.prototype;K.ma=8;K.G=1;function Vm(e){if(Gx(e),e.G==3){var t=e.U++,n=qn(e.F);De(n,"SID",e.I),De(n,"RID",t),De(n,"TYPE","terminate"),Ca(e,n),t=new Sa(e,e.j,t,void 0),t.K=2,t.v=vc(qn(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.v.toString(),"")),!n&&se.Image&&(new Image().src=t.v,n=!0),n||(t.g=tT(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ea(t)}Zx(e)}function Ec(e){e.g&&(jm(e),e.g.cancel(),e.g=null)}function Gx(e){Ec(e),e.u&&(se.clearTimeout(e.u),e.u=null),Su(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&se.clearTimeout(e.m),e.m=null)}function xc(e){$x(e.h)||e.m||(e.m=!0,mx(e.Ja,e),e.C=0)}function jO(e,t){return Mx(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=va(wt(e.Ja,e,t),Jx(e,e.C)),e.C++,!0)}K.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Sa(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=ax(s),lx(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=qx(this,i,t),n=qn(this.F),De(n,"RID",e),De(n,"CVER",22),this.D&&De(n,"X-HTTP-Session-Id",this.D),Ca(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(Kx(s)))+"&"+t:this.o&&Mm(n,this.o,s)),Lm(this.h,i),this.Ya&&De(n,"TYPE","init"),this.O?(De(n,"$req",t),De(n,"SID","null"),i.Z=!0,bd(i,n,null)):bd(i,n,t),this.G=2}}else this.G==3&&(e?m0(this,e):this.i.length==0||$x(this.h)||m0(this))};function m0(e,t){var n;t?n=t.m:n=e.U++;const r=qn(e.F);De(r,"SID",e.I),De(r,"RID",n),De(r,"AID",e.T),Ca(e,r),e.o&&e.s&&Mm(r,e.o,e.s),n=new Sa(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=qx(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Lm(e.h,n),bd(n,r,t)}function Ca(e,t){e.ia&&Tm(e.ia,function(n,r){De(t,r,n)}),e.l&&Px({},function(n,r){De(t,r,n)})}function qx(e,t,n){n=Math.min(e.i.length,n);var r=e.l?wt(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{LO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Qx(e){e.g||e.u||(e.Z=1,mx(e.Ia,e),e.A=0)}function Fm(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=va(wt(e.Ia,e),Jx(e,e.A)),e.A++,!0)}K.Ia=function(){if(this.u=null,Yx(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=va(wt(this.eb,this),e)}};K.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,It(10),Ec(this),Yx(this))};function jm(e){e.B!=null&&(se.clearTimeout(e.B),e.B=null)}function Yx(e){e.g=new Sa(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=qn(e.sa);De(t,"RID","rpc"),De(t,"SID",e.I),De(t,"CI",e.L?"0":"1"),De(t,"AID",e.T),De(t,"TYPE","xmlhttp"),Ca(e,t),e.o&&e.s&&Mm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=vc(qn(t)),n.s=null,n.P=!0,bx(n,e)}K.cb=function(){this.v!=null&&(this.v=null,Ec(this),Fm(this),It(19))};function Su(e){e.v!=null&&(se.clearTimeout(e.v),e.v=null)}function Xx(e,t){var n=null;if(e.g==t){Su(e),jm(e),e.g=null;var r=2}else if(Dd(e.h,t))n=t.D,Vx(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=pc(),ct(r,new xx(r,n)),xc(e)}else Qx(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&jO(e,t)||r==2&&Fm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Xr(e,5);break;case 4:Xr(e,10);break;case 3:Xr(e,6);break;default:Xr(e,2)}}}function Jx(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Xr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=wt(e.kb,e);n||(n=new ti("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||vu(n,"https"),vc(n)),OO(n.toString(),r)}else It(2);e.G=0,e.l&&e.l.va(t),Zx(e),Gx(e)}K.kb=function(e){e?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Zx(e){if(e.G=0,e.la=[],e.l){const t=Fx(e.h);(t.length!=0||e.i.length!=0)&&(i0(e.la,t),i0(e.la,e.i),e.h.i.length=0,Em(e.i),e.i.length=0),e.l.ua()}}function eT(e,t,n){var r=n instanceof ti?qn(n):new ti(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),wu(r,r.m);else{var i=se.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ti(null,void 0);r&&vu(s,r),t&&(s.g=t),i&&wu(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&De(r,n,t),De(r,"VER",e.ma),Ca(e,r),r}function tT(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Ve(new xa({jb:!0})):new Ve(e.ra),t.Ka(e.H),t}function nT(){}K=nT.prototype;K.xa=function(){};K.wa=function(){};K.va=function(){};K.ua=function(){};K.Ra=function(){};function Eu(){if(cs&&!(10<=Number(rO)))throw Error("Environmental error: no available transport.")}Eu.prototype.g=function(e,t){return new Wt(e,t)};function Wt(e,t){it.call(this),this.g=new Wx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!mu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ks(this)}dt(Wt,it);Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;It(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=eT(e,null,e.V),xc(e)};Wt.prototype.close=function(){Vm(this.g)};Wt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Dm(e),e=n);t.i.push(new _O(t.ab++,e)),t.G==3&&xc(t)};Wt.prototype.M=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,Wt.X.M.call(this)};function rT(e){Rm.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}dt(rT,Rm);function iT(){Nm.call(this),this.status=1}dt(iT,Nm);function ks(e){this.g=e}dt(ks,nT);ks.prototype.xa=function(){ct(this.g,"a")};ks.prototype.wa=function(e){ct(this.g,new rT(e))};ks.prototype.va=function(e){ct(this.g,new iT)};ks.prototype.ua=function(){ct(this.g,"b")};Eu.prototype.createWebChannel=Eu.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;mc.NO_ERROR=0;mc.TIMEOUT=8;mc.HTTP_ERROR=6;Tx.COMPLETE="complete";Cx.EventType=wa;wa.OPEN="a";wa.CLOSE="b";wa.ERROR="c";wa.MESSAGE="d";it.prototype.listen=it.prototype.N;Ve.prototype.listenOnce=Ve.prototype.O;Ve.prototype.getLastError=Ve.prototype.Oa;Ve.prototype.getLastErrorCode=Ve.prototype.Ea;Ve.prototype.getStatus=Ve.prototype.aa;Ve.prototype.getResponseJson=Ve.prototype.Sa;Ve.prototype.getResponseText=Ve.prototype.fa;Ve.prototype.send=Ve.prototype.da;Ve.prototype.setWithCredentials=Ve.prototype.Ka;var BO=function(){return new Eu},UO=function(){return pc()},Hh=mc,zO=Tx,HO=vi,g0={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KO=xa,il=Cx,WO=Ve;const y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new XE("@firebase/firestore");function v0(){return hi.logLevel}function q(e,...t){if(hi.logLevel<=ye.DEBUG){const n=t.map(Bm);hi.debug(`Firestore (${bs}): ${e}`,...n)}}function Qn(e,...t){if(hi.logLevel<=ye.ERROR){const n=t.map(Bm);hi.error(`Firestore (${bs}): ${e}`,...n)}}function xu(e,...t){if(hi.logLevel<=ye.WARN){const n=t.map(Bm);hi.warn(`Firestore (${bs}): ${e}`,...n)}}function Bm(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e="Unexpected state"){const t=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+e;throw Qn(t),new Error(t)}function Ne(e,t){e||te()}function he(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ts{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class qO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QO{constructor(t){this.t=t,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new sT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string"),new yt(t)}}class YO{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XO{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new YO(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZO{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ne(typeof n.token=="string"),this.T=n.token,new JO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=e$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function we(e,t){return e<t?-1:e>t?1:0}function hs(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return rt.fromMillis(Date.now())}static fromDate(t){return rt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ie(t)}static min(){return new ie(new rt(0,0))}static max(){return new ie(new rt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n,r){n===void 0?n=0:n>t.length&&te(),r===void 0?r=t.length-n:r>t.length-n&&te(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Qo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Me extends Qo{construct(t,n,r){return new Me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new X(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const t$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Qo{construct(t,n,r){return new bt(t,n,r)}static isValidIdentifier(t){return t$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new X(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.path=t}static fromPath(t){return new ee(Me.fromString(t))}static fromName(t){return new ee(Me.fromString(t).popFirst(5))}static empty(){return new ee(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ee(new Me(t.slice()))}}function n$(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ir(i,ee.empty(),t)}function r$(e){return new Ir(e.readTime,e.key,-1)}class Ir{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(ie.min(),ee.empty(),-1)}static max(){return new Ir(ie.max(),ee.empty(),-1)}}function i$(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ee.comparator(e.documentKey,t.documentKey),n!==0?n:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==s$)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):R.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):R.reject(n)}static resolve(t){return new R((n,r)=>{n(t)})}static reject(t){return new R((n,r)=>{r(t)})}static waitFor(t){return new R((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=R.resolve(!1);for(const r of t)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new R((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new R((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function ka(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}zm.ct=-1;function ba(e){return e==null}function Tu(e){return e===0&&1/e==-1/0}function a$(e){return typeof e=="number"&&Number.isInteger(e)&&!Tu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Is(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,n){this.comparator=t,this.root=n||at.EMPTY}insert(t,n){return new ft(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(t){return new ft(this.comparator,this.root.remove(t,this.comparator).copy(null,null,at.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sl(this.root,t,this.comparator,!1)}getReverseIterator(){return new sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sl(this.root,t,this.comparator,!0)}}class sl{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class at{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new at(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const t=this.left.check();if(t!==this.right.check())throw te();return t+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,n,r,i){return this}insert(e,t,n){return new at(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.comparator=t,this.data=new ft(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Xe(this.comparator);return n.data=t,n}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.fields=t,t.sort(bt.comparator)}static empty(){return new tn([])}unionWith(t){let n=new Xe(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hs(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new l$("Invalid base64 string: "+i):i}}(t);return new xt(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new xt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const u$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(e){if(Ne(!!e),typeof e=="string"){let t=0;const n=u$.exec(e);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ke(e.seconds),nanos:Ke(e.nanos)}}function Ke(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fs(e){return typeof e=="string"?xt.fromBase64String(e):xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uT(e){const t=e.mapValue.fields.__previous_value__;return lT(t)?uT(t):t}function Yo(e){const t=Dr(e.mapValue.fields.__local_write_time__.timestampValue);return new rt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Xo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Xo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lT(e)?4:h$(e)?9007199254740991:10:te()}function Dn(e,t){if(e===t)return!0;const n=fi(e);if(n!==fi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yo(e).isEqual(Yo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Dr(r.timestampValue),o=Dr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return fs(r.bytesValue).isEqual(fs(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ke(r.doubleValue),o=Ke(i.doubleValue);return s===o?Tu(s)===Tu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return hs(e.arrayValue.values||[],t.arrayValue.values||[],Dn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(w0(s)!==w0(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Dn(s[a],o[a])))return!1;return!0}(e,t);default:return te()}}function Jo(e,t){return(e.values||[]).find(n=>Dn(n,t))!==void 0}function ds(e,t){if(e===t)return 0;const n=fi(e),r=fi(t);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Ke(i.integerValue||i.doubleValue),a=Ke(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return E0(e.timestampValue,t.timestampValue);case 4:return E0(Yo(e),Yo(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(i,s){const o=fs(i),a=fs(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=we(o[l],a[l]);if(u!==0)return u}return we(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=we(Ke(i.latitude),Ke(s.latitude));return o!==0?o:we(Ke(i.longitude),Ke(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ds(o[l],a[l]);if(u)return u}return we(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===ol.mapValue&&s===ol.mapValue)return 0;if(i===ol.mapValue)return 1;if(s===ol.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=we(a[c],u[c]);if(f!==0)return f;const h=ds(o[a[c]],l[u[c]]);if(h!==0)return h}return we(a.length,u.length)}(e.mapValue,t.mapValue);default:throw te()}}function E0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const n=Dr(e),r=Dr(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function ps(e){return Ad(e)}function Ad(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Dr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ee.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ad(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ad(r.fields[a])}`;return s+"}"}(e.mapValue):te();var t,n}function Pd(e){return!!e&&"integerValue"in e}function Hm(e){return!!e&&"arrayValue"in e}function x0(e){return!!e&&"nullValue"in e}function T0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kh(e){return!!e&&"mapValue"in e}function po(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Is(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=po(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=po(e.arrayValue.values[n]);return t}return Object.assign({},e)}function h$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.value=t}static empty(){return new Lt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=po(n)}setAll(t){let n=bt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=po(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Is(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Lt(po(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new tt(t,0,ie.min(),ie.min(),ie.min(),Lt.empty(),0)}static newFoundDocument(t,n,r,i){return new tt(t,1,n,ie.min(),r,i,0)}static newNoDocument(t,n){return new tt(t,2,n,ie.min(),ie.min(),Lt.empty(),0)}static newUnknownDocument(t,n){return new tt(t,3,n,ie.min(),ie.min(),Lt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.position=t,this.inclusive=n}}function C0(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n="asc"){this.field=t,this.dir=n}}function f$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class Qe extends cT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new p$(t,n,r):n==="array-contains"?new y$(t,r):n==="in"?new v$(t,r):n==="not-in"?new w$(t,r):n==="array-contains-any"?new S$(t,r):new Qe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new m$(t,r):new g$(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class An extends cT{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new An(t,n)}matches(t){return hT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function hT(e){return e.op==="and"}function fT(e){return d$(e)&&hT(e)}function d$(e){for(const t of e.filters)if(t instanceof An)return!1;return!0}function _d(e){if(e instanceof Qe)return e.field.canonicalString()+e.op.toString()+ps(e.value);if(fT(e))return e.filters.map(t=>_d(t)).join(",");{const t=e.filters.map(n=>_d(n)).join(",");return`${e.op}(${t})`}}function dT(e,t){return e instanceof Qe?function(n,r){return r instanceof Qe&&n.op===r.op&&n.field.isEqual(r.field)&&Dn(n.value,r.value)}(e,t):e instanceof An?function(n,r){return r instanceof An&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&dT(s,r.filters[o]),!0):!1}(e,t):void te()}function pT(e){return e instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${ps(t.value)}`}(e):e instanceof An?function(t){return t.op.toString()+" {"+t.getFilters().map(pT).join(" ,")+"}"}(e):"Filter"}class p$ extends Qe{constructor(t,n,r){super(t,n,r),this.key=ee.fromName(r.referenceValue)}matches(t){const n=ee.comparator(t.key,this.key);return this.matchesComparison(n)}}class m$ extends Qe{constructor(t,n){super(t,"in",n),this.keys=mT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class g$ extends Qe{constructor(t,n){super(t,"not-in",n),this.keys=mT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class y$ extends Qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hm(n)&&Jo(n.arrayValue,this.value)}}class v$ extends Qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jo(this.value.arrayValue,n)}}class w$ extends Qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Jo(this.value.arrayValue,n)}}class S$ extends Qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function b0(e,t=null,n=[],r=[],i=null,s=null,o=null){return new E$(e,t,n,r,i,s,o)}function Km(e){const t=he(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>_d(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ba(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ps(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ps(r)).join(",")),t.ft=n}return t.ft}function Wm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!f$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!dT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!k0(e.startAt,t.startAt)&&k0(e.endAt,t.endAt)}function Rd(e){return ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function x$(e,t,n,r,i,s,o,a){return new Tc(e,t,n,r,i,s,o,a)}function Gm(e){return new Tc(e)}function I0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function T$(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function C$(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function k$(e){return e.collectionGroup!==null}function Ji(e){const t=he(e);if(t.dt===null){t.dt=[];const n=C$(t),r=T$(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new mo(n)),t.dt.push(new mo(bt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new mo(bt.keyField(),s))}}}return t.dt}function Yn(e){const t=he(e);if(!t.wt)if(t.limitType==="F")t.wt=b0(t.path,t.collectionGroup,Ji(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Ji(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new mo(s.field,o))}const r=t.endAt?new Cu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cu(t.startAt.position,t.startAt.inclusive):null;t.wt=b0(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function Nd(e,t,n){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Wm(Yn(e),Yn(t))&&e.limitType===t.limitType}function gT(e){return`${Km(Yn(e))}|lt:${e.limitType}`}function Ld(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>pT(r)).join(", ")}]`),ba(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ps(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ps(r)).join(",")),`Target(${n})`}(Yn(e))}; limitType=${e.limitType})`}function kc(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Ji(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=C0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ji(n),r)||n.endAt&&!function(i,s,o){const a=C0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ji(n),r))}(e,t)}function b$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yT(e){return(t,n)=>{let r=!1;for(const i of Ji(e)){const s=I$(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I$(e,t,n){const r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ds(a,l):te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Is(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new ft(ee.comparator);function Ar(){return D$}const vT=new ft(ee.comparator);function Ys(...e){let t=vT;for(const n of e)t=t.insert(n.key,n);return t}function A$(e){let t=vT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jr(){return go()}function wT(){return go()}function go(){return new Ds(e=>e.toString(),(e,t)=>e.isEqual(t))}const P$=new Xe(ee.comparator);function fe(...e){let t=P$;for(const n of e)t=t.add(n);return t}const _$=new Xe(we);function ST(){return _$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(t)?"-0":t}}function xT(e){return{integerValue:""+e}}function R$(e,t){return a$(t)?xT(t):ET(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function N$(e,t,n){return e instanceof ku?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Zo?TT(e,t):e instanceof ea?CT(e,t):function(r,i){const s=O$(r,i),o=D0(s)+D0(r._t);return Pd(s)&&Pd(r._t)?xT(o):ET(r.serializer,o)}(e,t)}function L$(e,t,n){return e instanceof Zo?TT(e,t):e instanceof ea?CT(e,t):n}function O$(e,t){return e instanceof bu?Pd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ku extends bc{}class Zo extends bc{constructor(t){super(),this.elements=t}}function TT(e,t){const n=kT(t);for(const r of e.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ea extends bc{constructor(t){super(),this.elements=t}}function CT(e,t){let n=kT(t);for(const r of e.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class bu extends bc{constructor(t,n){super(),this.serializer=t,this._t=n}}function D0(e){return Ke(e.integerValue||e.doubleValue)}function kT(e){return Hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $$(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Zo&&r instanceof Zo||n instanceof ea&&r instanceof ea?hs(n.elements,r.elements,Dn):n instanceof bu&&r instanceof bu?Dn(n._t,r._t):n instanceof ku&&r instanceof ku}(e.transform,t.transform)}class Zt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zt}static exists(t){return new Zt(void 0,t)}static updateTime(t){return new Zt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ic{}function bT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new qm(e.key,Zt.none()):new Ia(e.key,e.data,Zt.none());{const n=e.data,r=Lt.empty();let i=new Xe(bt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wi(e.key,r,new tn(i.toArray()),Zt.none())}}function M$(e,t,n){e instanceof Ia?function(r,i,s){const o=r.value.clone(),a=P0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof wi?function(r,i,s){if(!Tl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=P0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(IT(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function yo(e,t,n,r){return e instanceof Ia?function(i,s,o,a){if(!Tl(i.precondition,s))return o;const l=i.value.clone(),u=_0(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof wi?function(i,s,o,a){if(!Tl(i.precondition,s))return o;const l=_0(i.fieldTransforms,a,s),u=s.data;return u.setAll(IT(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Tl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function A0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&hs(n,r,(i,s)=>$$(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ia extends Ic{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wi extends Ic{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function P0(e,t,n){const r=new Map;Ne(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,L$(o,a,n[i]))}return r}function _0(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,N$(s,o,t))}return r}class qm extends Ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DT extends Ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&M$(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=yo(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=yo(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=wT();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),fe())}isEqual(t){return this.batchId===t.batchId&&hs(this.mutations,t.mutations,(n,r)=>A0(n,r))&&hs(this.baseMutations,t.baseMutations,(n,r)=>A0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,ce;function B$(e){switch(e){default:return te();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function AT(e){if(e===void 0)return Qn("GRPC error has no .code"),P.UNKNOWN;switch(e){case Ue.OK:return P.OK;case Ue.CANCELLED:return P.CANCELLED;case Ue.UNKNOWN:return P.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return P.INTERNAL;case Ue.UNAVAILABLE:return P.UNAVAILABLE;case Ue.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ue.NOT_FOUND:return P.NOT_FOUND;case Ue.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ue.ABORTED:return P.ABORTED;case Ue.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ue.DATA_LOSS:return P.DATA_LOSS;default:return te()}}(ce=Ue||(Ue={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return al}static getOrCreateInstance(){return al===null&&(al=new Qm),al}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let al=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Da.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Dc(ie.min(),i,ST(),Ar(),fe())}}class Da{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Da(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class PT{constructor(t,n){this.targetId=t,this.Et=n}}class _T{constructor(t,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R0{constructor(){this.At=0,this.Rt=L0(),this.vt=xt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=fe(),n=fe(),r=fe();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Da(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=L0()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class U${constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Ar(),this.qt=N0(),this.Ut=new Xe(we)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:te()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Rd(o))if(i===0){const a=new ee(o.path);this.Qt(r,a,tt.newNoDocument(a,ie.min()))}else Ne(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Qm.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Rd(a.target)){const l=new ee(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,tt.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=fe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new Dc(t,n,this.Ut,this.Lt,r);return this.Lt=Ar(),this.qt=N0(),this.Ut=new Xe(we),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new R0,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Xe(we),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new R0),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function N0(){return new ft(ee.comparator)}function L0(){return new ft(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),H$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),K$=(()=>({and:"AND",or:"OR"}))();class W${constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Iu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function G$(e,t){return Iu(e,t.toTimestamp())}function jn(e){return Ne(!!e),ie.fromTimestamp(function(t){const n=Dr(t);return new rt(n.seconds,n.nanos)}(e))}function Ym(e,t){return function(n){return new Me(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function NT(e){const t=Me.fromString(e);return Ne(MT(t)),t}function Du(e,t){return Ym(e.databaseId,t.path)}function vo(e,t){const n=NT(t);if(n.get(1)!==e.databaseId.projectId)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(LT(n))}function Od(e,t){return Ym(e.databaseId,t)}function q$(e){const t=NT(e);return t.length===4?Me.emptyPath():LT(t)}function Au(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LT(e){return Ne(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function O0(e,t,n){return{name:Du(e,t),fields:n.value.mapValue.fields}}function Q$(e,t){return"found"in t?function(n,r){Ne(!!r.found),r.found.name,r.found.updateTime;const i=vo(n,r.found.name),s=jn(r.found.updateTime),o=r.found.createTime?jn(r.found.createTime):ie.min(),a=new Lt({mapValue:{fields:r.found.fields}});return tt.newFoundDocument(i,s,o,a)}(e,t):"missing"in t?function(n,r){Ne(!!r.missing),Ne(!!r.readTime);const i=vo(n,r.missing),s=jn(r.readTime);return tt.newNoDocument(i,s)}(e,t):te()}function Y$(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ne(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?P.UNKNOWN:AT(l.code);return new X(u,l.message||"")}(o);n=new _T(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vo(e,r.document.name),s=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):ie.min(),a=new Lt({mapValue:{fields:r.document.fields}}),l=tt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Cl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vo(e,r.document),s=r.readTime?jn(r.readTime):ie.min(),o=tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vo(e,r.document),s=r.removedTargetIds||[];n=new Cl([],s,i,null)}else{if(!("filter"in t))return te();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new j$(i),o=r.targetId;n=new PT(o,s)}}return n}function X$(e,t){let n;if(t instanceof Ia)n={update:O0(e,t.key,t.value)};else if(t instanceof qm)n={delete:Du(e,t.key)};else if(t instanceof wi)n={update:O0(e,t.key,t.data),updateMask:sM(t.fieldMask)};else{if(!(t instanceof DT))return te();n={verify:Du(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ku)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw te()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:G$(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(e,t.precondition)),n}function J$(e,t){return{documents:[Od(e,t.path)]}}function Z$(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Od(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Od(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $T(An.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ci(c.field),direction:nM(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||ba(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function eM(e){let t=q$(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=OT(c);return f instanceof An&&fT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new mo(ki(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,ba(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new Cu(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new Cu(h,f)}(n.endAt)),x$(t,i,o,s,a,"F",l,u)}function tM(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return te()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ki(t.unaryFilter.field);return Qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ki(t.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ki(t.unaryFilter.field);return Qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ki(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(e):e.fieldFilter!==void 0?function(t){return Qe.create(ki(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return An.create(t.compositeFilter.filters.map(n=>OT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(e):te()}function nM(e){return z$[e]}function rM(e){return H$[e]}function iM(e){return K$[e]}function Ci(e){return{fieldPath:e.canonicalString()}}function ki(e){return bt.fromServerFormat(e.fieldPath)}function $T(e){return e instanceof Qe?function(t){if(t.op==="=="){if(T0(t.value))return{unaryFilter:{field:Ci(t.field),op:"IS_NAN"}};if(x0(t.value))return{unaryFilter:{field:Ci(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(T0(t.value))return{unaryFilter:{field:Ci(t.field),op:"IS_NOT_NAN"}};if(x0(t.value))return{unaryFilter:{field:Ci(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(t.field),op:rM(t.op),value:t.value}}}(e):e instanceof An?function(t){const n=t.getFilters().map(r=>$T(r));return n.length===1?n[0]:{compositeFilter:{op:iM(t.op),filters:n}}}(e):te()}function sM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n,r,i,s=ie.min(),o=ie.min(),a=xt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ri(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.se=t}}function aM(e){const t=eM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.He=new uM}addToCollectionParentIndex(t,n){return this.He.add(n),R.resolve()}getCollectionParents(t,n){return R.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return R.resolve()}deleteFieldIndex(t,n){return R.resolve()}getDocumentsMatchingTarget(t,n){return R.resolve(null)}getIndexType(t,n){return R.resolve(0)}getFieldIndexes(t,n){return R.resolve([])}getNextCollectionGroupToUpdate(t){return R.resolve(null)}getMinOffset(t,n){return R.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,n){return R.resolve(Ir.min())}updateCollectionGroup(t,n,r){return R.resolve()}updateIndexEntries(t,n){return R.resolve()}}class uM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Xe(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Xe(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new ms(0)}static bn(){return new ms(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.changes=new Ds(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&yo(r.mutation,i,tn.empty(),rt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,fe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=fe()){const i=Jr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Ys();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Jr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,fe()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ar();const o=go(),a=go();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yo(c.mutation,u,c.mutation.getFieldMask(),rt.now())):o.set(u.key,tn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new hM(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=go();let i=new ft((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=wT();c.forEach(h=>{if(!s.has(h)){const d=bT(n.get(h),r.get(h));d!==null&&f.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):k$(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):R.resolve(Jr());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,fe())).next(c=>({batchId:a,changes:A$(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ee(n)).next(r=>{let i=Ys();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Ys();return this.indexManager.getCollectionParents(t,i).next(o=>R.forEach(o,a=>{const l=function(u,c){return new Tc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,tt.newInvalidDocument(u)))});let o=Ys();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&yo(u.mutation,l,tn.empty(),rt.now()),kc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return R.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:jn(r.createTime)}),R.resolve()}getNamedQuery(t,n){return R.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:aM(r.bundledQuery),readTime:jn(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new ft(ee.comparator),this.ts=new Map}getOverlay(t,n){return R.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jr();return R.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),R.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),R.resolve()}getOverlaysForCollection(t,n,r){const i=Jr(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ft((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Jr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Jr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F$(n,r));let s=this.ts.get(n);s===void 0&&(s=fe(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.es=new Xe(Ze.ns),this.ss=new Xe(Ze.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new Ze(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new Ze(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new ee(new Me([])),r=new Ze(n,t),i=new Ze(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new ee(new Me([])),r=new Ze(n,t),i=new Ze(n,t+1);let s=fe();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ze(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ze{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return ee.comparator(t.key,n.key)||we(t.ds,n.ds)}static rs(t,n){return we(t.ds,n.ds)||ee.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Xe(Ze.ns)}checkEmpty(t){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(t,n){return R.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Xe(we);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),R.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new ee(s),0);let a=new Xe(we);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),R.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ne(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return R.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new Ze(n,0),i=this._s.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,R.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.Ts=t,this.docs=new ft(ee.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(t,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ar();const o=n.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||i$(r$(c),r)<=0||(i.has(c.key)||kc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(t,n,r,i){te()}Es(t,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new yM(this)}getSize(t){return R.resolve(this.size)}}class yM extends cM{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),R.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.persistence=t,this.As=new Ds(n=>Km(n),Wm),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Xm,this.targetCount=0,this.bs=ms.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(t){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return R.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),R.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new ms(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,R.resolve()}updateTargetData(t,n){return this.Sn(n),R.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(t){return R.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return R.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),R.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),R.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return R.resolve(r)}containsKey(t,n){return R.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new zm(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new vM(this),this.indexManager=new lM,this.remoteDocumentCache=function(r){return new gM(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new oM(n),this.xs=new dM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new pM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new mM(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){q("MemoryPersistence","Starting transaction:",t);const i=new SM(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return R.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class SM extends o${constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.$s=new Xm,this.Ms=null}static Fs(t){return new Jm(t)}get Bs(){if(this.Ms)return this.Ms;throw te()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),R.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),R.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),R.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Bs,r=>{const i=ee.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return R.or([()=>R.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zm(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(I0(n))return R.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nd(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=fe(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,Nd(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return I0(n)||i.isEqual(ie.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(v0()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ld(n)),this.Fi(t,o,n,n$(i,-1)))})}$i(t,n){let r=new Xe(yT(t));return n.forEach((i,s)=>{kc(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return v0()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ld(n)),this.xi.getDocumentsMatchingQuery(t,n,Ir.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new ft(we),this.qi=new Ds(s=>Km(s),Wm),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fM(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function TM(e,t,n,r){return new xM(e,t,n,r)}async function VT(e,t){const n=he(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function FT(e){const t=he(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function CM(e,t){const n=he(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let d=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(f)?d=d.withResumeToken(xt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(f,d),function(m,w,x){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,d,c)&&a.push(n.Ds.updateTargetData(s,d))});let l=Ar(),u=fe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(kM(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(ie.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function kM(e,t,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ar();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function bM(e,t){const n=he(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,R.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ri(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function $d(e,t,n){const r=he(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ka(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function $0(e,t,n){const r=he(e);let i=ie.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=he(a),f=c.qi.get(u);return f!==void 0?R.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,Yn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:ie.min(),n?s:fe())).next(a=>(IM(r,b$(t),a),{documents:a,Wi:s})))}function IM(e,t,n){let r=e.Ui.get(t)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}class M0{constructor(){this.activeTargetIds=ST()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DM{constructor(){this.Br=new M0,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new M0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll=null;function Wh(){return ll===null?ll=268435456+Math.round(2147483648*Math.random()):ll++,"0x"+ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class RM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=Wh(),a=this.ao(t,n);q("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(q("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw xu("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+bs,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=PM[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=Wh();return new Promise((o,a)=>{const l=new WO;l.setWithCredentials(!0),l.listenOnce(zO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hh.NO_ERROR:const c=l.getResponseJson();q(gt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Hh.TIMEOUT:q(gt,`RPC '${t}' ${s} timed out`),a(new X(P.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const f=l.getStatus();if(q(gt,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const m=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(x)>=0?x:P.UNKNOWN}(d.status);a(new X(m,d.message))}else a(new X(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(P.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{q(gt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);q(gt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=Wh(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=BO(),a=UO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new KO({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");q(gt,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,h=!1;const d=new _M({Wr:w=>{h?q(gt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(f||(q(gt,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),q(gt,`RPC '${t}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),m=(w,x,y)=>{w.listen(x,p=>{try{y(p)}catch(g){setTimeout(()=>{throw g},0)}})};return m(c,il.EventType.OPEN,()=>{h||q(gt,`RPC '${t}' stream ${i} transport opened.`)}),m(c,il.EventType.CLOSE,()=>{h||(h=!0,q(gt,`RPC '${t}' stream ${i} transport closed`),d.so())}),m(c,il.EventType.ERROR,w=>{h||(h=!0,xu(gt,`RPC '${t}' stream ${i} transport errored:`,w),d.so(new X(P.UNAVAILABLE,"The operation could not be completed")))}),m(c,il.EventType.MESSAGE,w=>{var x;if(!h){const y=w.data[0];Ne(!!y);const p=y,g=p.error||((x=p[0])===null||x===void 0?void 0:x.error);if(g){q(gt,`RPC '${t}' stream ${i} received error:`,g);const E=g.status;let T=function(b){const C=Ue[b];if(C!==void 0)return AT(C)}(E),I=g.message;T===void 0&&(T=P.INTERNAL,I="Unknown error status: "+E+" with message "+g.message),h=!0,d.so(new X(T,I)),c.close()}else q(gt,`RPC '${t}' stream ${i} received:`,y),d.io(y)}}),m(a,HO.STAT_EVENT,w=>{w.stat===g0.PROXY?q(gt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===g0.NOPROXY&&q(gt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.no()},0),d}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(e){return new W$(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new eg(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new X(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends NM{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=Y$(this.serializer,t),r=function(i){if(!("targetChange"in i))return ie.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?jn(s.readTime):ie.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=Au(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Rd(a)?{documents:J$(i,a)}:{query:Z$(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=RT(i,s.resumeToken):s.snapshotVersion.compareTo(ie.min())>0&&(o.readTime=Iu(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=tM(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=Au(this.serializer),n.removeTarget=t,this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(P.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(P.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class $M{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Qn(n),this.ru=!1):q("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.du.add(4),await Aa(l),l.mu.set("Unknown"),l.du.delete(4),await Pc(l)}(this))})}),this.mu=new $M(r,i)}}async function Pc(e){if(Pa(e))for(const t of e.wu)await t(!0)}async function Aa(e){for(const t of e.wu)await t(!1)}function jT(e,t){const n=he(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),rg(n)?ng(n):As(n).No()&&tg(n,t))}function BT(e,t){const n=he(e),r=As(n);n.fu.delete(t),r.No()&&UT(n,t),n.fu.size===0&&(r.No()?r.$o():Pa(n)&&n.mu.set("Unknown"))}function tg(e,t){e.gu.Ot(t.targetId),As(e).jo(t)}function UT(e,t){e.gu.Ot(t),As(e).Wo(t)}function ng(e){e.gu=new U$({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),As(e).start(),e.mu.ou()}function rg(e){return Pa(e)&&!As(e).xo()&&e.fu.size>0}function Pa(e){return he(e).du.size===0}function zT(e){e.gu=void 0}async function VM(e){e.fu.forEach((t,n)=>{tg(e,t)})}async function FM(e,t){zT(e),rg(e)?(e.mu.au(t),ng(e)):e.mu.set("Unknown")}async function jM(e,t,n){if(e.mu.set("Online"),t instanceof _T&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await F0(e,r)}else if(t instanceof Cl?e.gu.Kt(t):t instanceof PT?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(ie.min()))try{const r=await FT(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),UT(i,a);const u=new ri(l.target,a,1,l.sequenceNumber);tg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await F0(e,r)}}async function F0(e,t,n){if(!ka(t))throw t;e.du.add(1),await Aa(e),e.mu.set("Offline"),n||(n=()=>FT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await Pc(e)})}async function j0(e,t){const n=he(e);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.du.add(3),await Aa(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await Pc(n)}async function BM(e,t){const n=he(e);t?(n.du.delete(2),await Pc(n)):t||(n.du.add(2),await Aa(n),n.mu.set("Unknown"))}function As(e){return e.yu||(e.yu=function(t,n,r){const i=he(t);return i.nu(),new LM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:VM.bind(null,e),Zr:FM.bind(null,e),zo:jM.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),rg(e)?ng(e):e.mu.set("Unknown")):(await e.yu.stop(),zT(e))})),e.yu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new ig(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HT(e,t){if(Qn("AsyncQueue",`${t}: ${e}`),ka(e))return new X(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ys(),this.sortedSet=new ft(this.comparator)}static emptySet(t){return new Zi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Zi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Zi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.Iu=new ft(ee.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):te():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class gs{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gs(t,n,Zi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.Eu=void 0,this.listeners=[]}}class zM{constructor(){this.queries=new Ds(t=>gT(t),Cc),this.onlineState="Unknown",this.Au=new Set}}async function HM(e,t){const n=he(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new UM),i)try{s.Eu=await n.onListen(r)}catch(o){const a=HT(o,`Initialization of query '${Ld(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&sg(n)}async function KM(e,t){const n=he(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WM(e,t){const n=he(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&sg(n)}function GM(e,t,n){const r=he(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function sg(e){e.Au.forEach(t=>{t.next()})}class qM{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new gs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class WT{constructor(t){this.key=t}}class QM{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=fe(),this.mutatedKeys=fe(),this.Ku=yT(t),this.Gu=new Zi(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new B0,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),d=kc(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),w=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let x=!1;h&&d?h.data.isEqual(d.data)?m!==w&&(r.track({type:3,doc:d}),x=!0):this.Wu(h,d)||(r.track({type:2,doc:d}),x=!0,(l&&this.Ku(d,l)>0||u&&this.Ku(d,u)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),x=!0):h&&!d&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(d?(o=o.add(d),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(f,h){const d=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return d(f)-d(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new gs(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new B0,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=fe(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new WT(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new KT(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=fe();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return gs.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class YM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class XM{constructor(t){this.key=t,this.ec=!1}}class JM{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ds(a=>gT(a),Cc),this.ic=new Map,this.rc=new Set,this.oc=new ft(ee.comparator),this.uc=new Map,this.cc=new Xm,this.ac={},this.hc=new Map,this.lc=ms.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function ZM(e,t){const n=o2(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await bM(n.localStore,Yn(t));n.isPrimaryClient&&jT(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await e2(n,t,r,a==="current",o.resumeToken)}return i}async function e2(e,t,n,r,i){e.dc=(f,h,d)=>async function(m,w,x,y){let p=w.view.zu(x);p.Mi&&(p=await $0(m.localStore,w.query,!1).then(({documents:T})=>w.view.zu(T,p)));const g=y&&y.targetChanges.get(w.targetId),E=w.view.applyChanges(p,m.isPrimaryClient,g);return z0(m,w.targetId,E.Yu),E.snapshot}(e,f,h,d);const s=await $0(e.localStore,t,!0),o=new QM(t,s.Wi),a=o.zu(s.documents),l=Da.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);z0(e,n,u.Yu);const c=new YM(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function t2(e,t){const n=he(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Cc(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $d(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),BT(n.remoteStore,r.targetId),Md(n,r.targetId)}).catch(Um)):(Md(n,r.targetId),await $d(n.localStore,r.targetId,!0))}async function GT(e,t){const n=he(e);try{const r=await CM(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Ne(o.ec):i.removedDocuments.size>0&&(Ne(o.ec),o.ec=!1))}),await QT(n,r,t)}catch(r){await Um(r)}}function U0(e,t,n){const r=he(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=he(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&sg(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function n2(e,t,n){const r=he(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new ft(ee.comparator);o=o.insert(s,tt.newNoDocument(s,ie.min()));const a=fe().add(s),l=new Dc(ie.min(),new Map,new Xe(we),o,a);await GT(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),og(r)}else await $d(r.localStore,t,!1).then(()=>Md(r,t,n)).catch(Um)}function Md(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||qT(e,r)})}function qT(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(BT(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),og(e))}function z0(e,t,n){for(const r of n)r instanceof KT?(e.cc.addReference(r.key,t),r2(e,r)):r instanceof WT?(q("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||qT(e,r.key)):te()}function r2(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(q("SyncEngine","New document in limbo: "+n),e.rc.add(r),og(e))}function og(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new ee(Me.fromString(t)),r=e.lc.next();e.uc.set(r,new XM(n)),e.oc=e.oc.insert(n,r),jT(e.remoteStore,new ri(Yn(Gm(n.path)),r,2,zm.ct))}}async function QT(e,t,n){const r=he(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Zm.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=he(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>R.forEach(l,f=>R.forEach(f.Vi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>R.forEach(f.Si,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!ka(c))throw c;q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Li.get(f),d=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(d);u.Li=u.Li.insert(f,m)}}}(r.localStore,s))}async function i2(e,t){const n=he(e);if(!n.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());const r=await VT(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new X(P.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await QT(n,r.Qi)}}function s2(e,t){const n=he(e),r=n.uc.get(t);if(r&&r.ec)return fe().add(r.key);{let i=fe();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function o2(e){const t=he(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n2.bind(null,t),t.nc.zo=WM.bind(null,t.eventManager),t.nc.wc=GM.bind(null,t.eventManager),t}class H0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return TM(this.persistence,new EM,t.initialUser,this.serializer)}createPersistence(t){return new wM(Jm.Fs,this.serializer)}createSharedClientState(t){return new DM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class a2{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await BM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new zM}createDatastore(t){const n=Ac(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new RM(i));var i;return function(s,o,a,l){return new OM(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>U0(this.syncEngine,a,0),o=V0.D()?new V0:new AM,new MM(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new JM(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=he(t);q("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Aa(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Qn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=he(r),o=Au(s.serializer)+"/documents",a={documents:i.map(f=>Du(s.serializer,f))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(f=>{const h=Q$(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return i.forEach(f=>{const h=u.get(f.toString());Ne(!!h),c.push(h)}),c}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new qm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=ee.fromPath(r);this.mutations.push(new DT(i,this.precondition(i)))}),await async function(n,r){const i=he(n),s=Au(i.serializer)+"/documents",o={writes:r.map(a=>X$(i.serializer,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw te();n=ie.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new X(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(ie.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ie.min()))throw new X(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Vc=r.maxAttempts,this.Co=new eg(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){this.Co.Ao(async()=>{const t=new u2(this.datastore),n=this.Dc(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Cc(i)}))}).catch(r=>{this.Cc(r)})})}Dc(t){try{const n=this.updateFunction(t);return!ba(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!B$(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=oT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=HT(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function qh(e,t){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function K0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await d2(e);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>j0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>j0(t.remoteStore,s)),e._onlineComponents=t}function f2(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function d2(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await qh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!f2(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await qh(e,new H0)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await qh(e,new H0);return e._offlineComponents}async function YT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await K0(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await K0(e,new a2))),e._onlineComponents}function p2(e){return YT(e).then(t=>t.datastore)}async function W0(e){const t=await YT(e),n=t.eventManager;return n.onListen=ZM.bind(null,t.syncEngine),n.onUnlisten=t2.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e,t,n){if(!n)throw new X(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function g2(e,t,n,r){if(t===!0&&r===!0)throw new X(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function q0(e){if(!ee.isDocumentKey(e))throw new X(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ag(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":te()}function wo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ag(e);throw new X(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,g2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new X(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new GO;switch(n.type){case"firstParty":return new XO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new X(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=G0.get(t);n&&(q("ComponentProvider","Removing Datastore"),G0.delete(t),n.terminate())}(this),Promise.resolve()}}function y2(e,t,n,r={}){var i;const s=(e=wo(e,lg))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=yt.MOCK_USER;else{o=_N(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new yt(l)}e._authCredentials=new qO(new sT(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}}class _c{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _c(this.firestore,t,this._query)}}class ta extends _c{constructor(t,n,r){super(t,n,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new ee(t))}withConverter(t){return new ta(this.firestore,t,this._path)}}function v2(e,t,...n){if(e=Gn(e),arguments.length===1&&(t=oT.A()),m2("doc","path",t),e instanceof lg){const r=Me.fromString(t,...n);return q0(r),new sn(e,null,new ee(r))}{if(!(e instanceof sn||e instanceof ta))throw new X(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return q0(r),new sn(e.firestore,e instanceof ta?e.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new eg(this,"async_queue_retry"),this.qc=()=>{const n=Gh();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=Gh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ni;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!ka(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=ig.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&te()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}function Y0(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Pu extends lg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new w2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JT(this),this._firestoreClient.terminate()}}function S2(e,t){const n=typeof e=="object"?e:OL(),r=typeof e=="string"?e:t||"(default)",i=_L(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DN("firestore");s&&y2(i,...s)}return i}function XT(e){return e._firestoreClient||JT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JT(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new c$(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new h2(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._byteString=t}static fromBase64String(t){try{return new di(xt.fromBase64String(t))}catch(n){throw new X(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new di(xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new X(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class x2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new wi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ia(t,this.data,n,this.fieldTransforms)}}class ZT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new wi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class hg{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new hg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return _u(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(eC(this.Yc)&&E2.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class T2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ac(t)}ua(t,n,r,i=!1){return new hg({Yc:t,methodName:n,oa:r,path:bt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C2(e){const t=e._freezeSettings(),n=Ac(e._databaseId);return new T2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function k2(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);fg("Data must be an object, but it was:",o,r);const a=tC(r,o);let l,u;if(s.merge)l=new tn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=Vd(t,f,n);if(!o.contains(h))throw new X(P.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);rC(c,h)||c.push(h)}l=new tn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new x2(new Lt(a),l,u)}class _a extends ug{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _a}}function b2(e,t,n,r){const i=e.ua(1,t,n);fg("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();Is(r,(l,u)=>{const c=dg(t,l,n);u=Gn(u);const f=i.na(c);if(u instanceof _a)s.push(c);else{const h=Nc(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new tn(s);return new ZT(o,a,i.fieldTransforms)}function I2(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[Vd(t,r,n)],l=[i];if(s.length%2!=0)throw new X(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Vd(t,s[h])),l.push(s[h+1]);const u=[],c=Lt.empty();for(let h=a.length-1;h>=0;--h)if(!rC(u,a[h])){const d=a[h];let m=l[h];m=Gn(m);const w=o.na(d);if(m instanceof _a)u.push(d);else{const x=Nc(m,w);x!=null&&(u.push(d),c.set(d,x))}}const f=new tn(u);return new ZT(c,f,o.fieldTransforms)}function Nc(e,t){if(nC(e=Gn(e)))return fg("Unsupported field value:",t,e),tC(e,t);if(e instanceof ug)return function(n,r){if(!eC(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Nc(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Gn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return R$(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=rt.fromDate(n);return{timestampValue:Iu(r.serializer,i)}}if(n instanceof rt){const i=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Iu(r.serializer,i)}}if(n instanceof cg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof di)return{bytesValue:RT(r.serializer,n._byteString)};if(n instanceof sn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ym(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${ag(n)}`)}(e,t)}function tC(e,t){const n={};return aT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Is(e,(r,i)=>{const s=Nc(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof rt||e instanceof cg||e instanceof di||e instanceof sn||e instanceof ug)}function fg(e,t,n){if(!nC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ag(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Vd(e,t,n){if((t=Gn(t))instanceof Rc)return t._internalPath;if(typeof t=="string")return dg(e,t);throw _u("Field path arguments must be of type string or ",e,!1,void 0,n)}const D2=new RegExp("[~\\*/\\[\\]]");function dg(e,t,n){if(t.search(D2)>=0)throw _u(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rc(...t.split("."))._internalPath}catch{throw _u(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _u(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(P.INVALID_ARGUMENT,a+e+l)}function rC(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A2 extends Ru{data(){return super.data()}}function iC(e,t){return typeof t=="string"?dg(e,t):t instanceof Rc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new X(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sC{convertValue(t,n="none"){switch(fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw te()}}convertObject(t,n){const r={};return Is(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new cg(Ke(t.latitude),Ke(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=uT(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yo(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new rt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Me.fromString(t);Ne(MT(r));const i=new Xo(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class R2 extends sC{constructor(t){super(),this.firestore=t}convertBytes(t){return new di(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pg extends Ru{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(iC("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kl extends pg{data(t={}){return super.data(t)}}class N2{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new kl(this._firestore,this._userDataWriter,r.key,r,new zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new kl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new kl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:L2(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class mg extends sC{constructor(t){super(),this.firestore=t}convertBytes(t){return new di(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function dV(e,...t){var n,r,i;e=Gn(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||Y0(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Y0(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(e instanceof sn)u=wo(e.firestore,Pu),c=Gm(e._key.path),l={next:f=>{t[o]&&t[o](O2(u,e,f))},error:t[o+1],complete:t[o+2]};else{const f=wo(e,_c);u=wo(f.firestore,Pu),c=f._query;const h=new mg(u);l={next:d=>{t[o]&&t[o](new N2(u,h,f,d))},error:t[o+1],complete:t[o+2]},P2(e._query)}return function(f,h,d,m){const w=new l2(m),x=new qM(h,w,d);return f.asyncQueue.enqueueAndForget(async()=>HM(await W0(f),x)),()=>{w.yc(),f.asyncQueue.enqueueAndForget(async()=>KM(await W0(f),x))}}(XT(u),c,a,l)}function O2(e,t,n){const r=n.docs.get(t._key),i=new mg(e);return new pg(e,i,t._key,r,new zi(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={maxAttempts:5};function Us(e,t){if((e=Gn(e)).firestore!==t)throw new X(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends class{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=C2(t)}get(t){const n=Us(t,this._firestore),r=new R2(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return te();const s=i[0];if(s.isFoundDocument())return new Ru(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ru(this._firestore,r,n._key,null,n.converter);throw te()})}set(t,n,r){const i=Us(t,this._firestore),s=_2(i.converter,n,r),o=k2(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=Us(t,this._firestore);let o;return o=typeof(n=Gn(n))=="string"||n instanceof Rc?I2(this._dataReader,"Transaction.update",s._key,n,r,i):b2(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=Us(t,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Us(t,this._firestore),r=new mg(this._firestore);return super.get(t).then(i=>new pg(this._firestore,r,n._key,i._document,new zi(!1,!1),n.converter))}}function V2(e,t,n){e=wo(e,Pu);const r=Object.assign(Object.assign({},$2),n);return function(i){if(i.maxAttempts<1)throw new X(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new ni;return i.asyncQueue.enqueueAndForget(async()=>{const l=await p2(i);new c2(i.asyncQueue,l,o,s,a).run()}),a.promise}(XT(e),i=>t(new M2(e,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return new _a("deleteField")}(function(e,t=!0){(function(n){bs=n})(LL),du(new Uo("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pu(new QO(n.getProvider("auth-internal")),new ZO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new X(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xi(y0,"3.10.0",e),Xi(y0,"3.10.0","esm2017")})();var F2="firebase",j2="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(F2,j2,"app");const B2={apiKey:"AIzaSyCwGMjrdMDxItBfYJkwuzIUuekqY1QAc_k",authDomain:"theocratic-software.firebaseapp.com",projectId:"theocratic-software",storageBucket:"theocratic-software.appspot.com",messagingSenderId:"441138730087",appId:"1:441138730087:web:9877f590cadb16467af0c2",measurementId:"G-KHGDKVZKNR"};ex(B2);const X0=S2(),U2=async({mapID:e,cong:t})=>{if(e.length<1)return;const n=v2(X0,t,"maps");try{const r=await V2(X0,async i=>{if(!(await i.get(n)).exists())return i.set(n,{mapDetails:[{id:e,suburbs:[]}]}),{};const a=[...await i.get(n).then(l=>{var u;return(u=l.data())==null?void 0:u.mapDetails}),{suburbs:[],id:e}].sort((l,u)=>l.id.toLowerCase().localeCompare(u.id.toLowerCase()));return i.update(n,{mapDetails:a}),a});return console.log(`<<< NEW MAP ADDED >>>
`,e,`
Latest mapDetails:`,r),r}catch(r){return console.error("<<< NEW MAP NOT ADDED >>>",r.message),r}},z2=()=>{const[e,t]=v.useState(""),n=async()=>{U2({mapID:e,cong:"australia_nsw_maitland"}),t("")};return A.jsx(Wn,{children:A.jsxs("div",{className:"grid gap-2",children:[A.jsx(Wn.Text,{label:"",value:e,onChange:r=>t(r.target.value),width:"md",placeholder:"Enter new Map ID"}),A.jsx(ld,{color:"darkblue",width:"md",clickAction:n,children:"Add"})]})})},H2=({changeSubpage:e})=>A.jsx("div",{className:"h-full overflow-y-auto",children:A.jsxs(yN,{children:[A.jsx(gN,{}),A.jsx(mN,{}),A.jsx(vN,{}),A.jsx(z2,{})]})}),K2=({changeSubpage:e})=>A.jsx(vE,{left:null,center:A.jsx("div",{className:"",children:"Settings"}),right:null}),W2=e=>v.createElement("svg",{enableBackground:"new 0 0 50 50",height:"1em",id:"Layer_1",viewBox:"0 0 50 50",width:"1em",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},v.createElement("polyline",{points:"44,21 44,49 6,49   6,21 ",strokeLinecap:"round",strokeMiterlimit:10}),v.createElement("polyline",{points:"19,49 19,28 31,28   31,49 ",strokeLinecap:"round",strokeMiterlimit:10}),v.createElement("polyline",{points:"  1.11,25.942 25,1.053 48.89,25.943 ",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})),G2=e=>v.createElement("svg",{height:"1em",viewBox:"0 0 50 50",width:"1em",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},v.createElement("path",{d:"m 42.941974,27.387759 c 0.0958,-0.766427 0.167656,-1.54483 0.167656,-2.335208 0,-0.790378 -0.07185,-1.568781 -0.167656,-2.335209 l 5.065606,-3.963866 c 0.455066,-0.359263 0.586796,-1.005936 0.28741,-1.532855 L 43.504819,8.92165 C 43.205433,8.4067066 42.582711,8.1911489 42.043817,8.4067066 L 36.080053,10.813767 C 34.846584,9.8677089 33.493361,9.0653552 32.032359,8.4546083 L 31.134202,2.1076314 C 31.026423,1.5447863 30.53543,1.1016954 29.936659,1.1016954 h -9.580343 c -0.598771,0 -1.089764,0.4430909 -1.185567,1.005936 L 18.272592,8.4546083 C 16.811589,9.0653552 15.458366,9.8557334 14.224897,10.813767 L 8.2611328,8.4067066 c -0.5388943,-0.2035823 -1.1616165,0 -1.4610022,0.5149434 l -4.7901713,8.298971 c -0.2993857,0.514943 -0.167656,1.161616 0.2874103,1.532855 l 5.0536307,3.963866 c -0.095803,0.766428 -0.167656,1.544831 -0.167656,2.335209 0,0.790378 0.071853,1.568781 0.167656,2.335208 l -5.0536307,3.963867 c -0.4550663,0.359263 -0.586796,1.005936 -0.2874103,1.532855 l 4.7901713,8.298972 c 0.2993857,0.514943 0.9221079,0.730501 1.4610022,0.514943 l 5.9637642,-2.407061 c 1.233469,0.946059 2.586692,1.748412 4.047695,2.359159 l 0.898157,6.346977 c 0.0958,0.562845 0.586796,1.005936 1.185567,1.005936 h 9.580343 c 0.598771,0 1.089764,-0.443091 1.185567,-1.005936 l 0.898157,-6.346977 c 1.461002,-0.610747 2.814226,-1.401125 4.047695,-2.359159 l 5.963763,2.407061 c 0.538894,0.203582 1.161617,0 1.461002,-0.514943 l 4.790172,-8.298972 c 0.299385,-0.514944 0.167656,-1.161617 -0.287411,-1.532855 z m -17.795487,6.047592 c -4.63449,0 -8.382799,-3.74831 -8.382799,-8.3828 0,-4.634491 3.748309,-8.3828 8.382799,-8.3828 4.634491,0 8.3828,3.748309 8.3828,8.3828 0,4.63449 -3.748309,8.3828 -8.3828,8.3828 z",id:"path25556",style:{strokeLinecap:"round"}})),q2=v.lazy(()=>Nr(()=>import("./Record-dd2aa9cc.js"),["assets/Record-dd2aa9cc.js","assets/deleteNotAtHome-0a97c136.js"])),Q2=v.lazy(()=>Nr(()=>import("./RecordHeader-460a86b2.js"),["assets/RecordHeader-460a86b2.js","assets/backArrow-abd4d434.js"])),Y2=v.lazy(()=>Nr(()=>import("./Return-6a510a2a.js"),["assets/Return-6a510a2a.js","assets/deleteNotAtHome-0a97c136.js"])),X2=v.lazy(()=>Nr(()=>import("./ReturnHeader-bfdd979c.js"),["assets/ReturnHeader-bfdd979c.js","assets/backArrow-abd4d434.js"])),J2=v.lazy(()=>Nr(()=>import("./Write-076fb3dd.js"),[])),Z2=v.lazy(()=>Nr(()=>import("./WriteHeader-7d94ba6b.js"),["assets/WriteHeader-7d94ba6b.js","assets/backArrow-abd4d434.js"])),eV=v.lazy(()=>Nr(()=>import("./Appearance-dfeb0cd1.js"),[])),tV=v.lazy(()=>Nr(()=>import("./AppearanceHeader-a709a578.js"),[]));function nV(){const e=[{startPage:"Home",Icon:W2,subpages:{Home:{Content:h_,Header:f_},Record:{Content:q2,Header:Q2},Return:{Content:Y2,Header:X2},Write:{Content:J2,Header:Z2}}},{startPage:"Settings",Icon:G2,subpages:{Settings:{Content:H2,Header:K2},Appearance:{Content:eV,Header:tV}}}];return A.jsx(a_,{pages:e})}localStorage.getItem("initID")||localStorage.setItem("initID",Date.now().toString());Qh.createRoot(document.getElementById("root")).render(A.jsx(me.StrictMode,{children:A.jsx(nV,{})}));export{V_ as A,ld as B,yN as C,jt as D,UE as E,Wn as F,Sr as G,vE as H,Jn as I,Ge as J,Yh as K,_t as L,oV as M,j_ as N,X_ as O,In as P,PE as Q,me as R,uV as S,hV as T,WE as U,pV as V,v as a,V2 as b,dV as c,us as d,pm as e,X0 as f,_e as g,lt as h,ic as i,A as j,lm as k,pe as l,$E as m,bn as n,Y as o,am as p,cV as q,v2 as r,_E as s,F_ as t,l_ as u,Kn as v,FE as w,fm as x,ln as y,Gv as z};
