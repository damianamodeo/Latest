import{s as Se,r as c,e as Ze,L as $,y as C,l as de,o as N,u as B,I as X,a as F,p as Xe,R as g,c as oe,b as le,D,m as pe,S as O,t as J,f as Ne,N as qe,T as Je,d as $e,g as Y,h as Ke,i as I,j as se,k as et,n as tt,q as ye,C as rt,v as Z,w as nt,x as at,z as ot,A as u,B as te,F as S,E as L,G as we}from"./index-7ec637ea.js";import{r as z,f as T,b as fe,c as ke}from"./config-7d7c6033.js";function lt(e,t,r){let n=Se(t);c.useEffect(()=>{function o(a){n.current(a)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[e,r])}var _=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_||{});function st(){let e=c.useRef(0);return lt("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function K(...e){return c.useMemo(()=>Ze(...e),[...e])}function Ce(e,t,r,n){let o=Se(r);c.useEffect(()=>{e=e??window;function a(l){o.current(l)}return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)},[e,t,n])}function De(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let ut="div";var Ae=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ae||{});function it(e,t){let r=c.useRef(null),n=C(r,t),{initialFocus:o,containers:a,features:l=30,...s}=e;de()||(l=1);let p=K(r);pt({ownerDocument:p},Boolean(l&16));let i=ft({ownerDocument:p,container:r,initialFocus:o},Boolean(l&2));mt({ownerDocument:p,container:r,containers:a,previousActiveElement:i},Boolean(l&8));let d=st(),b=N(m=>{let E=r.current;E&&(k=>k())(()=>{B(d.current,{[_.Forwards]:()=>{X(E,F.First,{skipElements:[m.relatedTarget]})},[_.Backwards]:()=>{X(E,F.Last,{skipElements:[m.relatedTarget]})}})})}),f=Xe(),y=c.useRef(!1),w={ref:n,onKeyDown(m){m.key=="Tab"&&(y.current=!0,f.requestAnimationFrame(()=>{y.current=!1}))},onBlur(m){let E=De(a);r.current instanceof HTMLElement&&E.add(r.current);let k=m.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(Le(E,k)||(y.current?X(r.current,B(d.current,{[_.Forwards]:()=>F.Next,[_.Backwards]:()=>F.Previous})|F.WrapAround,{relativeTo:m.target}):m.target instanceof HTMLElement&&O(m.target)))}};return g.createElement(g.Fragment,null,Boolean(l&4)&&g.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:le.Focusable}),D({ourProps:w,theirProps:s,defaultTag:ut,name:"FocusTrap"}),Boolean(l&4)&&g.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:le.Focusable}))}let ct=$(it),H=Object.assign(ct,{features:Ae}),A=[];if(typeof window<"u"&&typeof document<"u"){let e=function(t){t.target instanceof HTMLElement&&t.target!==document.body&&A[0]!==t.target&&(A.unshift(t.target),A=A.filter(r=>r!=null&&r.isConnected),A.splice(10))};window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}function dt(e=!0){let t=c.useRef(A.slice());return pe(([r],[n])=>{n===!0&&r===!1&&J(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=A.slice())},[e,A,t]),N(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function pt({ownerDocument:e},t){let r=dt(t);pe(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&O(r())},[t]);let n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,J(()=>{n.current&&O(r())})}),[])}function ft({ownerDocument:e,container:t,initialFocus:r},n){let o=c.useRef(null),a=Ne();return pe(()=>{if(!n)return;let l=t.current;l&&J(()=>{if(!a.current)return;let s=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===s){o.current=s;return}}else if(l.contains(s)){o.current=s;return}r!=null&&r.current?O(r.current):X(l,F.First)===qe.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[n]),o}function mt({ownerDocument:e,container:t,containers:r,previousActiveElement:n},o){let a=Ne();Ce(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!a.current)return;let s=De(r);t.current instanceof HTMLElement&&s.add(t.current);let p=n.current;if(!p)return;let i=l.target;i&&i instanceof HTMLElement?Le(s,i)?(n.current=i,O(i)):(l.preventDefault(),l.stopPropagation(),O(p)):O(n.current)},!0)}function Le(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let Te=c.createContext(!1);function bt(){return c.useContext(Te)}function ue(e){return g.createElement(Te.Provider,{value:e.force},e.children)}function ht(e){let t=bt(),r=c.useContext(Re),n=K(e),[o,a]=c.useState(()=>{if(!t&&r!==null||$e.isServer)return null;let l=n==null?void 0:n.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let s=n.createElement("div");return s.setAttribute("id","headlessui-portal-root"),n.body.appendChild(s)});return c.useEffect(()=>{o!==null&&(n!=null&&n.body.contains(o)||n==null||n.body.appendChild(o))},[o,n]),c.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),o}let gt=c.Fragment;function xt(e,t){let r=e,n=c.useRef(null),o=C(Je(d=>{n.current=d}),t),a=K(n),l=ht(n),[s]=c.useState(()=>{var d;return $e.isServer?null:(d=a==null?void 0:a.createElement("div"))!=null?d:null}),p=de(),i=c.useRef(!1);return Y(()=>{if(i.current=!1,!(!l||!s))return l.contains(s)||(s.setAttribute("data-headlessui-portal",""),l.appendChild(s)),()=>{i.current=!0,J(()=>{var d;i.current&&(!l||!s||(s instanceof Node&&l.contains(s)&&l.removeChild(s),l.childNodes.length<=0&&((d=l.parentElement)==null||d.removeChild(l))))})}},[l,s]),p?!l||!s?null:Ke.createPortal(D({ourProps:{ref:o},theirProps:r,defaultTag:gt,name:"Portal"}),s):null}let vt=c.Fragment,Re=c.createContext(null);function yt(e,t){let{target:r,...n}=e,o={ref:C(t)};return g.createElement(Re.Provider,{value:r},D({ourProps:o,theirProps:n,defaultTag:vt,name:"Popover.Group"}))}let wt=$(xt),kt=$(yt),ie=Object.assign(wt,{Group:kt}),Oe=c.createContext(null);function Me(){let e=c.useContext(Oe);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Me),t}return e}function jt(){let[e,t]=c.useState([]);return[e.length>0?e.join(" "):void 0,c.useMemo(()=>function(r){let n=N(a=>(t(l=>[...l,a]),()=>t(l=>{let s=l.slice(),p=s.indexOf(a);return p!==-1&&s.splice(p,1),s}))),o=c.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return g.createElement(Oe.Provider,{value:o},r.children)},[t])]}let Et="p";function St(e,t){let r=I(),{id:n=`headlessui-description-${r}`,...o}=e,a=Me(),l=C(t);Y(()=>a.register(n),[n,a.register]);let s={ref:l,...a.props,id:n};return D({ourProps:s,theirProps:o,slot:a.slot||{},defaultTag:Et,name:a.name||"Description"})}let Nt=$(St),$t=Object.assign(Nt,{}),me=c.createContext(()=>{});me.displayName="StackContext";var ce=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ce||{});function Ct(){return c.useContext(me)}function Dt({children:e,onUpdate:t,type:r,element:n,enabled:o}){let a=Ct(),l=N((...s)=>{t==null||t(...s),a(...s)});return Y(()=>{let s=o===void 0||o===!0;return s&&l(0,r,n),()=>{s&&l(1,r,n)}},[l,r,n,o]),g.createElement(me.Provider,{value:l},e)}function At(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Lt=typeof Object.is=="function"?Object.is:At,{useState:Tt,useEffect:Rt,useLayoutEffect:Ot,useDebugValue:Mt}=se;function Pt(e,t,r){const n=t(),[{inst:o},a]=Tt({inst:{value:n,getSnapshot:t}});return Ot(()=>{o.value=n,o.getSnapshot=t,re(o)&&a({inst:o})},[e,n,t]),Rt(()=>(re(o)&&a({inst:o}),e(()=>{re(o)&&a({inst:o})})),[e]),Mt(n),n}function re(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!Lt(r,n)}catch{return!0}}function Ft(e,t,r){return t()}const It=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ht=!It,Wt=Ht?Ft:Pt,_t="useSyncExternalStore"in se?(e=>e.useSyncExternalStore)(se):Wt;function Bt(e){return _t(e.subscribe,e.getSnapshot,e.getSnapshot)}function zt(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...a){let l=t[o].call(r,...a);l&&(r=l,n.forEach(s=>s()))}}}function Yt(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,o=n.clientWidth-n.offsetWidth,a=e-o;r.style(n,"paddingRight",`${a}px`)}}}function Gt(){if(!et())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:r,meta:n}){function o(l){return n.containers.flatMap(s=>s()).some(s=>s.contains(l))}r.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;r.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let s=l.target.closest("a");if(!s)return;let{hash:p}=new URL(s.href),i=t.querySelector(p);i&&!o(i)&&(a=i)}catch{}},!0),r.addEventListener(t,"touchmove",l=>{l.target instanceof HTMLElement&&!o(l.target)&&l.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function Ut(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Vt(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let R=zt(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:tt(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Vt(r)},o=[Gt(),Yt(),Ut()];o.forEach(({before:a})=>a==null?void 0:a(n)),o.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});R.subscribe(()=>{let e=R.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",o=r.count!==0;(o&&!n||!o&&n)&&R.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&R.dispatch("TEARDOWN",r)}});function Qt(e,t,r){let n=Bt(R),o=e?n.get(e):void 0,a=o?o.count>0:!1;return Y(()=>{if(!(!e||!t))return R.dispatch("PUSH",e,r),()=>R.dispatch("POP",e,r)},[t,e]),a}let ne=new Map,W=new Map;function je(e,t=!0){Y(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function o(){var l;if(!n)return;let s=(l=W.get(n))!=null?l:1;if(s===1?W.delete(n):W.set(n,s-1),s!==1)return;let p=ne.get(n);p&&(p["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",p["aria-hidden"]),n.inert=p.inert,ne.delete(n))}let a=(r=W.get(n))!=null?r:0;return W.set(n,a+1),a!==0||(ne.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),o},[e,t])}var Zt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Zt||{}),Xt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Xt||{});let qt={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},q=c.createContext(null);q.displayName="DialogContext";function G(e){let t=c.useContext(q);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,G),r}return t}function Jt(e,t,r=()=>[document.body]){Qt(e,t,n=>{var o;return{containers:[...(o=n.containers)!=null?o:[],r]}})}function Kt(e,t){return B(t.type,qt,e,t)}let er="div",tr=ye.RenderStrategy|ye.Static;function rr(e,t){let r=I(),{id:n=`headlessui-dialog-${r}`,open:o,onClose:a,initialFocus:l,__demoMode:s=!1,...p}=e,[i,d]=c.useState(0),b=rt();o===void 0&&b!==null&&(o=(b&Z.Open)===Z.Open);let f=c.useRef(null),y=C(f,t),w=c.useRef(null),m=K(f),E=e.hasOwnProperty("open")||b!==null,k=e.hasOwnProperty("onClose");if(!E&&!k)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!E)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!k)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let v=o?0:1,[M,Pe]=c.useReducer(Kt,{titleId:null,descriptionId:null,panelRef:c.createRef()}),P=N(()=>a(!1)),he=N(h=>Pe({type:0,id:h})),U=de()?s?!1:v===0:!1,V=i>1,ge=c.useContext(q)!==null,Fe=V?"parent":"leaf",xe=b!==null?(b&Z.Closing)===Z.Closing:!1,Ie=(()=>ge||xe?!1:U)(),He=c.useCallback(()=>{var h,j;return(j=Array.from((h=m==null?void 0:m.querySelectorAll("body > *"))!=null?h:[]).find(x=>x.id==="headlessui-portal-root"?!1:x.contains(w.current)&&x instanceof HTMLElement))!=null?j:null},[w]);je(He,Ie);let We=(()=>V?!0:U)(),_e=c.useCallback(()=>{var h,j;return(j=Array.from((h=m==null?void 0:m.querySelectorAll("[data-headlessui-portal]"))!=null?h:[]).find(x=>x.contains(w.current)&&x instanceof HTMLElement))!=null?j:null},[w]);je(_e,We);let ee=N(()=>{var h,j;return[...Array.from((h=m==null?void 0:m.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?h:[]).filter(x=>!(x===document.body||x===document.head||!(x instanceof HTMLElement)||x.contains(w.current)||M.panelRef.current&&x.contains(M.panelRef.current))),(j=M.panelRef.current)!=null?j:f.current]}),Be=(()=>!(!U||V))();nt(()=>ee(),P,Be);let ze=(()=>!(V||v!==0))();Ce(m==null?void 0:m.defaultView,"keydown",h=>{ze&&(h.defaultPrevented||h.key===at.Escape&&(h.preventDefault(),h.stopPropagation(),P()))});let Ye=(()=>!(xe||v!==0||ge))();Jt(m,Ye,ee),c.useEffect(()=>{if(v!==0||!f.current)return;let h=new ResizeObserver(j=>{for(let x of j){let Q=x.target.getBoundingClientRect();Q.x===0&&Q.y===0&&Q.width===0&&Q.height===0&&P()}});return h.observe(f.current),()=>h.disconnect()},[v,f,P]);let[Ge,Ue]=jt(),Ve=c.useMemo(()=>[{dialogState:v,close:P,setTitleId:he},M],[v,M,P,he]),ve=c.useMemo(()=>({open:v===0}),[v]),Qe={ref:y,id:n,role:"dialog","aria-modal":v===0?!0:void 0,"aria-labelledby":M.titleId,"aria-describedby":Ge};return g.createElement(Dt,{type:"Dialog",enabled:v===0,element:f,onUpdate:N((h,j)=>{j==="Dialog"&&B(h,{[ce.Add]:()=>d(x=>x+1),[ce.Remove]:()=>d(x=>x-1)})})},g.createElement(ue,{force:!0},g.createElement(ie,null,g.createElement(q.Provider,{value:Ve},g.createElement(ie.Group,{target:f},g.createElement(ue,{force:!1},g.createElement(Ue,{slot:ve,name:"Dialog.Description"},g.createElement(H,{initialFocus:l,containers:ee,features:U?B(Fe,{parent:H.features.RestoreFocus,leaf:H.features.All&~H.features.FocusLock}):H.features.None},D({ourProps:Qe,theirProps:p,slot:ve,defaultTag:er,features:tr,visible:v===0,name:"Dialog"})))))))),g.createElement(oe,{features:le.Hidden,ref:w}))}let nr="div";function ar(e,t){let r=I(),{id:n=`headlessui-dialog-overlay-${r}`,...o}=e,[{dialogState:a,close:l}]=G("Dialog.Overlay"),s=C(t),p=N(d=>{if(d.target===d.currentTarget){if(ot(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),l()}}),i=c.useMemo(()=>({open:a===0}),[a]);return D({ourProps:{ref:s,id:n,"aria-hidden":!0,onClick:p},theirProps:o,slot:i,defaultTag:nr,name:"Dialog.Overlay"})}let or="div";function lr(e,t){let r=I(),{id:n=`headlessui-dialog-backdrop-${r}`,...o}=e,[{dialogState:a},l]=G("Dialog.Backdrop"),s=C(t);c.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let p=c.useMemo(()=>({open:a===0}),[a]);return g.createElement(ue,{force:!0},g.createElement(ie,null,D({ourProps:{ref:s,id:n,"aria-hidden":!0},theirProps:o,slot:p,defaultTag:or,name:"Dialog.Backdrop"})))}let sr="div";function ur(e,t){let r=I(),{id:n=`headlessui-dialog-panel-${r}`,...o}=e,[{dialogState:a},l]=G("Dialog.Panel"),s=C(t,l.panelRef),p=c.useMemo(()=>({open:a===0}),[a]),i=N(d=>{d.stopPropagation()});return D({ourProps:{ref:s,id:n,onClick:i},theirProps:o,slot:p,defaultTag:sr,name:"Dialog.Panel"})}let ir="h2";function cr(e,t){let r=I(),{id:n=`headlessui-dialog-title-${r}`,...o}=e,[{dialogState:a,setTitleId:l}]=G("Dialog.Title"),s=C(t);c.useEffect(()=>(l(n),()=>l(null)),[n,l]);let p=c.useMemo(()=>({open:a===0}),[a]);return D({ourProps:{ref:s,id:n},theirProps:o,slot:p,defaultTag:ir,name:"Dialog.Title"})}let dr=$(rr),pr=$(lr),fr=$(ur),mr=$(ar),br=$(cr),ae=Object.assign(dr,{Backdrop:pr,Panel:fr,Overlay:mr,Title:br,Description:$t});const Ee={slate:{text:"text-slate-500 dark:text-slate-200",background:"bg-slate-500 dark:bg-slate-200"},gray:{text:"text-gray-500 dark:text-gray-200",background:"bg-gray-500 dark:bg-gray-200"},zinc:{text:"text-zinc-500 dark:text-zinc-200",background:"bg-zinc-500 dark:bg-zinc-200"},neutral:{text:"text-neutral-500 dark:text-neutral-200",background:"bg-neutral-500 dark:bg-neutral-200"},stone:{text:"text-stone-500 dark:text-stone-200",background:"bg-stone-500 dark:bg-stone-200"},red:{text:"text-red-500 dark:text-red-200",background:"bg-red-500 dark:bg-red-200"},orange:{text:"text-orange-500 dark:text-orange-200",background:"bg-orange-500 dark:bg-orange-200"},amber:{text:"text-amber-500 dark:text-amber-200",background:"bg-amber-500 dark:bg-amber-200"},yellow:{text:"text-yellow-500 dark:text-yellow-200",background:"bg-yellow-500 dark:bg-yellow-200"},lime:{text:"text-lime-500 dark:text-lime-200",background:"bg-lime-500 dark:bg-lime-200"},green:{text:"text-green-500 dark:text-green-200",background:"bg-green-500 dark:bg-green-200"},emerald:{text:"text-emerald-500 dark:text-emerald-200",background:"bg-emerald-500 dark:bg-emerald-200"},teal:{text:"text-teal-500 dark:text-teal-200",background:"bg-teal-500 dark:bg-teal-200"},cyan:{text:"text-cyan-500 dark:text-cyan-200",background:"bg-cyan-500 dark:bg-cyan-200"},sky:{text:"text-sky-500 dark:text-sky-200",background:"bg-sky-500 dark:bg-sky-200"},blue:{text:"text-blue-500 dark:text-blue-200",background:"bg-blue-500 dark:bg-blue-200"},darkblue:{text:"text-darkblue-500 dark:text-darkblue-200",background:"bg-darkblue-500 dark:bg-darkblue-200"},indigo:{text:"text-indigo-500 dark:text-indigo-200",background:"bg-indigo-500 dark:bg-indigo-200"},violet:{text:"text-violet-500 dark:text-violet-200",background:"bg-violet-500 dark:bg-violet-200"},purple:{text:"text-purple-500 dark:text-purple-200",background:"bg-purple-500 dark:bg-purple-200"},fuchsia:{text:"text-fuchsia-500 dark:text-fuchsia-200",background:"bg-fuchsia-500 dark:bg-fuchsia-200"},pink:{text:"text-pink-500 dark:text-pink-200",background:"bg-pink-500 dark:bg-pink-200"},rose:{text:"text-rose-500 dark:text-rose-200",background:"bg-rose-500 dark:bg-rose-200"}},hr=({tabItems:e,color:t="blue"})=>{const r=(p,i)=>{var d;(d=o[i].current)==null||d.scrollIntoView()},n=c.useRef(document.createElement("div")),o=e.map(()=>c.useRef(document.createElement("div"))),a=e.map(()=>c.useRef(document.createElement("div"))),[l,s]=c.useState(e.map(()=>!1));return c.useEffect(()=>{a.forEach((p,i)=>{new IntersectionObserver(b=>{var f;b[0].isIntersecting&&(s(l.map((y,w)=>w===i)),(f=a[i].current)==null||f.scrollIntoView(),a[i].current!=null&&(n.current.style.left=a[i].current.offsetLeft-5+"px",n.current.style.width=a[i].current.offsetWidth+10+"px"))},{threshold:.8}).observe(o[i].current)})},[]),c.useEffect(()=>{const p=d=>{d.preventDefault(),i.scrollLeft+=d.deltaY/5},i=document.querySelector(".tabbar");return i.addEventListener("wheel",p),()=>{i==null||i.removeEventListener("wheel",p)}}),u.jsxs("div",{className:"h-full border-4-xxx border-green-500-xxx flex flex-col",children:[u.jsxs("div",{className:`h-10 hideScollbar tabbar relative flex bg-white dark:bg-neutral-900 w-full touch-auto 
				overflow-x-auto overflow-y-hidden border border-x-0 border-t-0 border-b-[1.25px] border-y-neutral-500 dark:border-y-neutral-500`,children:[e.map((p,i)=>u.jsxs("div",{ref:a[i],onClick:d=>r(d,i),className:`uppercase mx-3 ${l[i]?`font-extrabold ${Ee[t].text}`:""}`,children:[u.jsx("div",{className:"my-2 w-max",children:p.title}),u.jsx("div",{className:"-z-1 h-0 font-extrabold invisible w-max",children:p.title})]},i)),u.jsx("div",{className:`absolute left-0 bottom-0 h-[2px] ${Ee[t].background} transition-all duration-300`,ref:n})]}),u.jsx("div",{className:"h-full relative overflow-y-auto overscroll-x-contain border-4-xxx border-red-500-xxx",children:u.jsx("div",{className:"hideScollbar h-full pb-2-xx grid grid-flow-col auto-cols-[100%] overflow-x-auto-xxx snap-x snap-mandatory snap-always overflow-y-auto ",children:e.map((p,i)=>u.jsx("div",{ref:o[i],className:"snap-start overflow-y-auto h-full overflow-x-hidden",children:p.content},i))})})]})},be=({isOpen:e,onClose:t,title:r,children:n,height:o})=>{const a={auto:"h-auto",full:"h-full",xs:"h-[5rem]",sm:"h-[10rem]",md:"h-[20rem]",lg:"h-[30rem]",xl:"h-[40rem]","2xl":"h-[50rem]"};return u.jsx(te,{appear:!0,show:e,as:c.Fragment,children:u.jsxs(ae,{as:"div",className:"relative z-10",onClose:t,children:[u.jsx(te.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),u.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:u.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:u.jsx(te.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:u.jsx(ae.Panel,{className:`${a[o]} w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-neutral-900 dark:border-neutral-700 border-neutral-300 border p-6 text-left align-middle shadow-xl transition-all`,children:u.jsxs("div",{className:"h-full flex flex-col",children:[r&&u.jsx(ae.Title,{as:"h3",className:"text-lg font-medium leading-6 dark:text-white text-center",children:r}),n]})})})})})]})})},gr=async({cong:e,mapID:t,suburb:r,street:n,coordinates:o})=>{const a=z(T,e,"maps");try{return await fe(T,async s=>{if(!(await s.get(a)).exists())return{};const i=await s.get(a).then(d=>{var b;return(b=d.data())==null?void 0:b.mapDetails});return i[t].suburbs[r].streets.includes(n)||(i[t].suburbs[r].streets=[...i[t].suburbs[r].streets,{name:n,lng:o.lng,lat:o.lat}].sort((d,b)=>d.name.toLowerCase().localeCompare(b.name.toLowerCase()))),s.update(a,{mapDetails:i}),console.log(`<<< NEW STREET ADDED >>>
`,n,`
Latest mapDetails:`,i),i})}catch(l){return console.error(l.message),l}},xr=async(e,t,r,n)=>{t==null||t.toString();const o=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?country=au&bbox=${t==null?void 0:t.join("%2C")}&proximity=151.209889%2C-33.874666&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(o).then(a=>a.json()).then(a=>a.features)},vr=({isOpen:e,closeModal:t,map:r,suburb:n,mapDetails:o})=>{const[a,l]=c.useState({street:"",lng:0,lat:0}),[s,p]=c.useState([]),i=async f=>{if(f.target.value.length<=2){p([]);return}l({street:f.target.value,lng:0,lat:0});const y=await xr(a.street,o[r].suburbs[n].bbox,o[r].suburbs[n].name);y&&p(y)},d=()=>{gr({cong:"australia_nsw_maitland",mapID:r,suburb:n,street:a.street,coordinates:{lng:a.lng,lat:a.lat}}),t({type:"street",payload:a.street}),l({street:"",lng:0,lat:0}),p([])},b=()=>{t({type:"street",payload:"init"}),l({street:"",lng:0,lat:0})};return u.jsx(be,{isOpen:e,onClose:()=>{},title:"Add Street",height:"lg",children:u.jsx("div",{className:"h-full relative",children:u.jsx(S,{children:u.jsxs("div",{className:"flex justify-evenly m-4",children:[u.jsx(S.Autocomplete,{value:a.street,onChange:f=>{i(f)},onSelect:f=>{console.log(f.props.children[0].props.id),l({street:f.props.children[0].props.children,lng:f.props.children[0].props.id[0],lat:f.props.children[0].props.id[1]})},options:s.map((f,y)=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"font-bold",id:f.center,children:f.text}),u.jsx("div",{className:"text-xs",children:f.place_name.split(", ")[1]})]})),width:"lg"}),u.jsxs("div",{className:"flex gap-2 m-auto absolute bottom-0 justify-evenly w-full",children:[u.jsx(L,{color:"blue",clickAction:b,width:"sm",children:"Cancel"}),s.map(f=>f.text).includes(a.street)&&u.jsx(L,{color:"blue",clickAction:d,width:"sm",children:"Add"})]})]})})})})},yr=async({cong:e,mapID:t,suburb:r,bbox:n})=>{const o=z(T,e,"maps");try{const a=await fe(T,async l=>{if(!(await l.get(o)).exists())return console.log("<<<NO SUCH DOCUMENT>>>"),{};const p=await l.get(o).then(i=>{var d;return(d=i.data())==null?void 0:d.mapDetails});return p[t].suburbs=[...p[t].suburbs,p[t].suburbs.map(({name:i})=>(console.log(i),i)).includes(r)?null:{streets:[],bbox:n,name:r}].sort((i,d)=>i.name.toLowerCase().localeCompare(d.name.toLowerCase())),l.update(o,{mapDetails:p}),p});return console.log(`<<< NEW SUBURB ADDED >>>
`,r,`
Latest mapDetails:`,a),a}catch(a){return console.error(a.message),a}},wr=async(e,t,r)=>await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?types=place&proximity=151.209889,-33.874666&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`).then(o=>o.json()).then(o=>o.features),kr=({isOpen:e,closeModal:t,map:r})=>{const[n,o]=c.useState(""),[a,l]=c.useState([]),[s,p]=c.useState([]),[i,d]=c.useState([]),b=async m=>{if(o(m.target.value),m.target.value.length<=2){p([]);return}const E=await wr(m.target.value);d(E.map((k,v)=>({display:u.jsxs("div",{className:`${v} font-semibold`,children:[k.text,u.jsx("div",{className:"text-sm font-light dark:text-neutral-200",children:k.place_name})]}),...k})))},f=m=>{l(i[m.props.className[0]].bbox),o(m.props.children[0])},y=()=>{yr({cong:"australia_nsw_maitland",mapID:r,suburb:n,bbox:a}),t({type:"suburb",payload:n}),o(""),p([])},w=()=>{t({type:"suburb",payload:"init"}),o("")};return c.useEffect(()=>(p(i.map(m=>m.display)),()=>{}),[i]),u.jsx(be,{isOpen:e,onClose:()=>{},title:"Add Suburb",height:"lg",children:u.jsx("div",{className:"h-full relative",children:u.jsx(S,{children:u.jsxs("div",{className:"flex justify-around  m-4",children:[u.jsx(S.Autocomplete,{value:n,onChange:m=>b(m),onSelect:f,options:s,width:"lg"}),u.jsxs("div",{className:"flex gap-2 m-auto-xx absolute bottom-0 justify-evenly w-fit",children:[u.jsx(L,{color:"blue",clickAction:w,width:"sm",children:"Cancel"}),s.map(m=>m.props.children[0]).includes(n)&&u.jsx(L,{color:"blue",clickAction:y,width:"sm",children:"Add"})]})]})})})})},jr=async({houseNumber:e,street:t,suburb:r,bbox:n,country:o})=>{const l=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}%20${t}%20${r}%20.json?country=au&bbox=${n[0]-.015}%2C${n[1]-.015}%2C${n[2]+.015}%2C${n[3]+.015}&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(l).then(s=>s.json()).then(s=>({lng:s.features[0].center[0],lat:s.features[0].center[1],relevance:s.features[0].relevance}))},Er=async({cong:e,mapID:t,lng:r,lat:n,relevance:o,streetCoordinates:a,...l})=>{const s={["id"+Date.now()]:{user:`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`,id:Date.now(),mapNumber:t,relevance:o,...l,...o>.7037?{lng:r,lat:n}:a}},p=z(T,"notAtHomes","MaitlandCongregation");try{const i=await fe(T,async d=>{const b="id"+Date.now();return(await d.get(p)).exists()?(d.update(p,s),s):(d.set(p,s),"First Not At Home created successfully")});return console.log(`<<< NEW NOT AT HOME ADDED >>>
Address Details:`,i),i}catch(i){return console.error(i.message),i}},Sr=({closeModal:e,address:t,streetCoordinates:r,bbox:n,dispatch:o})=>{const[a,l]=c.useState({lng:0,lat:0,relevance:0}),s=async()=>{const i=await jr({...t,bbox:n});l(i)},p=async i=>{await Er({...a,...t,calls:[Date.now()],cong:"australia_nsw_maitland",streetCoordinates:r,letter:i}),t.unitNumber===""&&o({type:"houseNumber",payload:""}),o({type:"unitNumber",payload:""}),e(!1)};return c.useEffect(()=>{s()},[]),u.jsx(be,{isOpen:!0,onClose:()=>{},title:"Confirm Address",height:"lg",children:u.jsx(we,{children:u.jsx("div",{className:"h-full relative text-white",children:u.jsxs(S,{children:[u.jsx("div",{className:"text-center m-4",children:a.relevance===1?u.jsx("span",{className:"text-green-500",children:"Exact match was found."}):u.jsx("span",{className:"text-orange-500",children:"WARNING! An exact match was not found. Please check details before submitting this address."})}),u.jsxs("div",{className:"text-center m-4",children:[t.unitNumber,t.unitNumber?"/":"",t.houseNumber," ",t.street,", ",t.suburb," "]}),u.jsxs(we,{style:"gap-5 mt-4",children:[u.jsx(L,{color:"blue",width:"md",clickAction:()=>e(!1),children:"cancel"}),u.jsx(L,{color:"blue",width:"md",clickAction:()=>p(!0),children:"Letter List"}),u.jsx(L,{color:"blue",width:"md",clickAction:()=>p(!1),children:"Return List"})]})]})})})})},Nr=(e,t)=>typeof t.payload=="object"?{...e,[t.type]:"adding "+t.type}:{mapID:{mapID:t.payload,suburb:"init",street:"init",houseNumber:"",unitNumber:""},suburb:{...e,suburb:t.payload,street:"init",houseNumber:"",unitNumber:""},street:{...e,street:t.payload,houseNumber:"",unitNumber:""},houseNumber:{...e,houseNumber:t.payload},unitNumber:{...e,unitNumber:t.payload}}[t.type],$r=({mapDetails:e})=>{const[t,r]=c.useReducer(Nr,{mapID:"init",suburb:"init",street:"init",houseNumber:"",unitNumber:"",mapData:{}}),[n,o]=c.useState(!1),a=()=>Math.max(0,e.findIndex(d=>d.id==t.mapID)),l=()=>t.mapID==="init"?0:Math.max(0,e[a()].suburbs.findIndex(d=>d.name===t.suburb)),s=()=>e[a()].suburbs[l()].streets.findIndex(d=>d.name===t.street),p=e.length===0?[]:e[a()].suburbs.map(d=>d.name),i=e.length===0?[]:e[a()].suburbs.length===0?[]:e[a()].suburbs[l()].streets.map(d=>d.name);return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex justify-center p-2",children:[u.jsxs(S,{children:[u.jsx(S.Select,{onChange:d=>{r({type:"mapID",payload:d})},options:e.map(d=>d.id),placeholder:"Map",value:t.mapID,width:"lg",height:"xl"}),u.jsx("div",{className:"h-2"}),t.mapID!=="init"&&u.jsx(S.Select,{onChange:d=>{r({type:"suburb",payload:d})},value:t.suburb,options:[...p,u.jsx("span",{className:"text-blue-400",children:"add new suburb"})],placeholder:"Suburb",width:"lg",height:"xl"}),u.jsx("div",{className:"h-2"}),t.suburb==="init"?null:u.jsx(S.Select,{onChange:d=>{r({type:"street",payload:d})},value:t.street,options:[...i,u.jsx("span",{className:"text-blue-400",children:"add new street"})],placeholder:"Street",width:"lg",height:"xl"}),u.jsx("div",{className:"h-2"}),u.jsxs("div",{className:"flex",children:[t.street==="init"?null:u.jsx(S.Alphanumeric,{value:t.houseNumber,label:"",placeholder:"House",onChange:d=>r({type:"houseNumber",payload:d}),width:"sm",height:"xl"}),u.jsx("div",{className:"grow"}),t.houseNumber===""?null:u.jsx(S.Alphanumeric,{value:t.unitNumber,label:"",placeholder:"Unit",onChange:d=>r({type:"unitNumber",payload:d}),width:"xs",height:"xl"})]}),u.jsx("div",{className:"h-8"}),u.jsx("div",{className:"grid gap-4",children:t.houseNumber===""?null:u.jsx(L,{clickAction:()=>o(!0),width:"full",color:"blue",children:"Add"})})]}),u.jsx(kr,{isOpen:t.suburb==="adding suburb",closeModal:r,map:a()}),u.jsx(vr,{isOpen:t.street==="adding street",closeModal:r,map:a(),suburb:l(),mapDetails:e}),n&&u.jsx(Sr,{closeModal:o,address:t,bbox:e[a()].suburbs[l()].bbox,streetCoordinates:{lng:e[a()].suburbs[l()].streets[s()].lng,lat:e[a()].suburbs[l()].streets[s()].lat},dispatch:r})]})})},Cr=({notAtHomesList:e})=>u.jsx("div",{className:"pb-16",children:e&&Object.entries(e).sort((t,r)=>r[1].key.localeCompare(t[1].key)).filter(t=>t[1].user===`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`).map((t,r)=>u.jsxs("div",{className:"grid grid-cols-12 h-12 border-b dark:border-darkGrey-700 text-sm text-center",children:[u.jsx("div",{className:"col-span-2 px-2 my-auto font-bold",children:t[1].mapNumber}),u.jsx("div",{className:"col-span-1 px-2 my-auto",children:`${t[1].unitNumber&&`${t[1].unitNumber}/`}${t[1].houseNumber}`}),u.jsx("div",{className:"col-span-4 my-auto",children:`${t[1].street}`}),u.jsx("div",{className:"col-span-4 my-auto",children:t[1].suburb}),u.jsx("div",{className:"col-span-1 px-2 text-right my-auto"})]},r))}),Lr=()=>{const[e,t]=c.useState([]),[r,n]=c.useState([{key:""}]);return c.useEffect(()=>ke(z(T,"notAtHomes","MaitlandCongregation"),a=>{const l=a.data(),s=Object.keys(l).map(p=>({key:p,...l[p]}));n(s)}),[]),c.useEffect(()=>{const o=ke(z(T,"australia_nsw_maitland","maps"),a=>{var l;a.data()&&t((l=a.data())==null?void 0:l.mapDetails)});return()=>{o()}},[]),u.jsx("div",{className:"h-full",children:u.jsx(hr,{color:"blue",tabItems:[{title:"Add",content:u.jsx($r,{mapDetails:e})},{title:"List",content:u.jsx(Cr,{notAtHomesList:r})}]})})};export{Lr as default};
