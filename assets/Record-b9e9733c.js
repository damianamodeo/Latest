import{s as Ee,r as c,e as Qe,L as N,y as C,l as de,o as $,u as W,I as X,a as F,p as Ze,R as g,c as oe,b as le,D,m as fe,S as R,t as J,f as Se,N as Xe,T as qe,d as je,g as Y,h as Je,i as M,j as se,k as Ke,n as et,q as ve,C as tt,v as Z,w as rt,x as nt,z as at,A as i,B as te,F as j,E as B}from"./index-1aca339a.js";import{r as z,f as T,b as pe,c as ye}from"./config-7d7c6033.js";function ot(e,t,r){let n=Ee(t);c.useEffect(()=>{function a(o){n.current(o)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[e,r])}var _=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_||{});function lt(){let e=c.useRef(0);return ot("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function K(...e){return c.useMemo(()=>Qe(...e),[...e])}function $e(e,t,r,n){let a=Ee(r);c.useEffect(()=>{e=e??window;function o(l){a.current(l)}return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)},[e,t,n])}function Ne(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let st="div";var Ce=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ce||{});function ut(e,t){let r=c.useRef(null),n=C(r,t),{initialFocus:a,containers:o,features:l=30,...u}=e;de()||(l=1);let s=K(r);dt({ownerDocument:s},Boolean(l&16));let d=ft({ownerDocument:s,container:r,initialFocus:a},Boolean(l&2));pt({ownerDocument:s,container:r,containers:o,previousActiveElement:d},Boolean(l&8));let f=lt(),x=$(p=>{let S=r.current;S&&(w=>w())(()=>{W(f.current,{[_.Forwards]:()=>{X(S,F.First,{skipElements:[p.relatedTarget]})},[_.Backwards]:()=>{X(S,F.Last,{skipElements:[p.relatedTarget]})}})})}),m=Ze(),E=c.useRef(!1),y={ref:n,onKeyDown(p){p.key=="Tab"&&(E.current=!0,m.requestAnimationFrame(()=>{E.current=!1}))},onBlur(p){let S=Ne(o);r.current instanceof HTMLElement&&S.add(r.current);let w=p.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(De(S,w)||(E.current?X(r.current,W(f.current,{[_.Forwards]:()=>F.Next,[_.Backwards]:()=>F.Previous})|F.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&R(p.target)))}};return g.createElement(g.Fragment,null,Boolean(l&4)&&g.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:le.Focusable}),D({ourProps:y,theirProps:u,defaultTag:st,name:"FocusTrap"}),Boolean(l&4)&&g.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:le.Focusable}))}let it=N(ut),I=Object.assign(it,{features:Ce}),A=[];if(typeof window<"u"&&typeof document<"u"){let e=function(t){t.target instanceof HTMLElement&&t.target!==document.body&&A[0]!==t.target&&(A.unshift(t.target),A=A.filter(r=>r!=null&&r.isConnected),A.splice(10))};window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}function ct(e=!0){let t=c.useRef(A.slice());return fe(([r],[n])=>{n===!0&&r===!1&&J(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=A.slice())},[e,A,t]),$(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function dt({ownerDocument:e},t){let r=ct(t);fe(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&R(r())},[t]);let n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,J(()=>{n.current&&R(r())})}),[])}function ft({ownerDocument:e,container:t,initialFocus:r},n){let a=c.useRef(null),o=Se();return fe(()=>{if(!n)return;let l=t.current;l&&J(()=>{if(!o.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){a.current=u;return}}else if(l.contains(u)){a.current=u;return}r!=null&&r.current?R(r.current):X(l,F.First)===Xe.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=e==null?void 0:e.activeElement})},[n]),a}function pt({ownerDocument:e,container:t,containers:r,previousActiveElement:n},a){let o=Se();$e(e==null?void 0:e.defaultView,"focus",l=>{if(!a||!o.current)return;let u=Ne(r);t.current instanceof HTMLElement&&u.add(t.current);let s=n.current;if(!s)return;let d=l.target;d&&d instanceof HTMLElement?De(u,d)?(n.current=d,R(d)):(l.preventDefault(),l.stopPropagation(),R(s)):R(n.current)},!0)}function De(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let Ae=c.createContext(!1);function mt(){return c.useContext(Ae)}function ue(e){return g.createElement(Ae.Provider,{value:e.force},e.children)}function bt(e){let t=mt(),r=c.useContext(Te),n=K(e),[a,o]=c.useState(()=>{if(!t&&r!==null||je.isServer)return null;let l=n==null?void 0:n.getElementById("headlessui-portal-root");if(l)return l;if(n===null)return null;let u=n.createElement("div");return u.setAttribute("id","headlessui-portal-root"),n.body.appendChild(u)});return c.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),c.useEffect(()=>{t||r!==null&&o(r.current)},[r,o,t]),a}let gt=c.Fragment;function ht(e,t){let r=e,n=c.useRef(null),a=C(qe(f=>{n.current=f}),t),o=K(n),l=bt(n),[u]=c.useState(()=>{var f;return je.isServer?null:(f=o==null?void 0:o.createElement("div"))!=null?f:null}),s=de(),d=c.useRef(!1);return Y(()=>{if(d.current=!1,!(!l||!u))return l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u)),()=>{d.current=!0,J(()=>{var f;d.current&&(!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))))})}},[l,u]),s?!l||!u?null:Je.createPortal(D({ourProps:{ref:a},theirProps:r,defaultTag:gt,name:"Portal"}),u):null}let xt=c.Fragment,Te=c.createContext(null);function vt(e,t){let{target:r,...n}=e,a={ref:C(t)};return g.createElement(Te.Provider,{value:r},D({ourProps:a,theirProps:n,defaultTag:xt,name:"Popover.Group"}))}let yt=N(ht),wt=N(vt),ie=Object.assign(yt,{Group:wt}),Le=c.createContext(null);function Re(){let e=c.useContext(Le);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Re),t}return e}function kt(){let[e,t]=c.useState([]);return[e.length>0?e.join(" "):void 0,c.useMemo(()=>function(r){let n=$(o=>(t(l=>[...l,o]),()=>t(l=>{let u=l.slice(),s=u.indexOf(o);return s!==-1&&u.splice(s,1),u}))),a=c.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return g.createElement(Le.Provider,{value:a},r.children)},[t])]}let Et="p";function St(e,t){let r=M(),{id:n=`headlessui-description-${r}`,...a}=e,o=Re(),l=C(t);Y(()=>o.register(n),[n,o.register]);let u={ref:l,...o.props,id:n};return D({ourProps:u,theirProps:a,slot:o.slot||{},defaultTag:Et,name:o.name||"Description"})}let jt=N(St),$t=Object.assign(jt,{}),me=c.createContext(()=>{});me.displayName="StackContext";var ce=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ce||{});function Nt(){return c.useContext(me)}function Ct({children:e,onUpdate:t,type:r,element:n,enabled:a}){let o=Nt(),l=$((...u)=>{t==null||t(...u),o(...u)});return Y(()=>{let u=a===void 0||a===!0;return u&&l(0,r,n),()=>{u&&l(1,r,n)}},[l,r,n,a]),g.createElement(me.Provider,{value:l},e)}function Dt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const At=typeof Object.is=="function"?Object.is:Dt,{useState:Tt,useEffect:Lt,useLayoutEffect:Rt,useDebugValue:Ot}=se;function Pt(e,t,r){const n=t(),[{inst:a},o]=Tt({inst:{value:n,getSnapshot:t}});return Rt(()=>{a.value=n,a.getSnapshot=t,re(a)&&o({inst:a})},[e,n,t]),Lt(()=>(re(a)&&o({inst:a}),e(()=>{re(a)&&o({inst:a})})),[e]),Ot(n),n}function re(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!At(r,n)}catch{return!0}}function Ft(e,t,r){return t()}const Mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",It=!Mt,Ht=It?Ft:Pt,_t="useSyncExternalStore"in se?(e=>e.useSyncExternalStore)(se):Ht;function Wt(e){return _t(e.subscribe,e.getSnapshot,e.getSnapshot)}function Bt(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...o){let l=t[a].call(r,...o);l&&(r=l,n.forEach(u=>u()))}}}function zt(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,a=n.clientWidth-n.offsetWidth,o=e-a;r.style(n,"paddingRight",`${o}px`)}}}function Yt(){if(!Ke())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:r,meta:n}){function a(l){return n.containers.flatMap(u=>u()).some(u=>u.contains(l))}r.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let o=null;r.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let u=l.target.closest("a");if(!u)return;let{hash:s}=new URL(u.href),d=t.querySelector(s);d&&!a(d)&&(o=d)}catch{}},!0),r.addEventListener(t,"touchmove",l=>{l.target instanceof HTMLElement&&!a(l.target)&&l.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+e),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function Ut(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Vt(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let L=Bt(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:et(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Vt(r)},a=[Yt(),zt(),Ut()];a.forEach(({before:o})=>o==null?void 0:o(n)),a.forEach(({after:o})=>o==null?void 0:o(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});L.subscribe(()=>{let e=L.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&L.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&L.dispatch("TEARDOWN",r)}});function Gt(e,t,r){let n=Wt(L),a=e?n.get(e):void 0,o=a?a.count>0:!1;return Y(()=>{if(!(!e||!t))return L.dispatch("PUSH",e,r),()=>L.dispatch("POP",e,r)},[t,e]),o}let ne=new Map,H=new Map;function we(e,t=!0){Y(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function a(){var l;if(!n)return;let u=(l=H.get(n))!=null?l:1;if(u===1?H.delete(n):H.set(n,u-1),u!==1)return;let s=ne.get(n);s&&(s["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",s["aria-hidden"]),n.inert=s.inert,ne.delete(n))}let o=(r=H.get(n))!=null?r:0;return H.set(n,o+1),o!==0||(ne.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[e,t])}var Qt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Qt||{}),Zt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Zt||{});let Xt={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},q=c.createContext(null);q.displayName="DialogContext";function U(e){let t=c.useContext(q);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,U),r}return t}function qt(e,t,r=()=>[document.body]){Gt(e,t,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function Jt(e,t){return W(t.type,Xt,e,t)}let Kt="div",er=ve.RenderStrategy|ve.Static;function tr(e,t){let r=M(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:o,initialFocus:l,__demoMode:u=!1,...s}=e,[d,f]=c.useState(0),x=tt();a===void 0&&x!==null&&(a=(x&Z.Open)===Z.Open);let m=c.useRef(null),E=C(m,t),y=c.useRef(null),p=K(m),S=e.hasOwnProperty("open")||x!==null,w=e.hasOwnProperty("onClose");if(!S&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let v=a?0:1,[O,Pe]=c.useReducer(Jt,{titleId:null,descriptionId:null,panelRef:c.createRef()}),P=$(()=>o(!1)),be=$(b=>Pe({type:0,id:b})),V=de()?u?!1:v===0:!1,G=d>1,ge=c.useContext(q)!==null,Fe=G?"parent":"leaf",he=x!==null?(x&Z.Closing)===Z.Closing:!1,Me=(()=>ge||he?!1:V)(),Ie=c.useCallback(()=>{var b,k;return(k=Array.from((b=p==null?void 0:p.querySelectorAll("body > *"))!=null?b:[]).find(h=>h.id==="headlessui-portal-root"?!1:h.contains(y.current)&&h instanceof HTMLElement))!=null?k:null},[y]);we(Ie,Me);let He=(()=>G?!0:V)(),_e=c.useCallback(()=>{var b,k;return(k=Array.from((b=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?b:[]).find(h=>h.contains(y.current)&&h instanceof HTMLElement))!=null?k:null},[y]);we(_e,He);let ee=$(()=>{var b,k;return[...Array.from((b=p==null?void 0:p.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?b:[]).filter(h=>!(h===document.body||h===document.head||!(h instanceof HTMLElement)||h.contains(y.current)||O.panelRef.current&&h.contains(O.panelRef.current))),(k=O.panelRef.current)!=null?k:m.current]}),We=(()=>!(!V||G))();rt(()=>ee(),P,We);let Be=(()=>!(G||v!==0))();$e(p==null?void 0:p.defaultView,"keydown",b=>{Be&&(b.defaultPrevented||b.key===nt.Escape&&(b.preventDefault(),b.stopPropagation(),P()))});let ze=(()=>!(he||v!==0||ge))();qt(p,ze,ee),c.useEffect(()=>{if(v!==0||!m.current)return;let b=new ResizeObserver(k=>{for(let h of k){let Q=h.target.getBoundingClientRect();Q.x===0&&Q.y===0&&Q.width===0&&Q.height===0&&P()}});return b.observe(m.current),()=>b.disconnect()},[v,m,P]);let[Ye,Ue]=kt(),Ve=c.useMemo(()=>[{dialogState:v,close:P,setTitleId:be},O],[v,O,P,be]),xe=c.useMemo(()=>({open:v===0}),[v]),Ge={ref:E,id:n,role:"dialog","aria-modal":v===0?!0:void 0,"aria-labelledby":O.titleId,"aria-describedby":Ye};return g.createElement(Ct,{type:"Dialog",enabled:v===0,element:m,onUpdate:$((b,k)=>{k==="Dialog"&&W(b,{[ce.Add]:()=>f(h=>h+1),[ce.Remove]:()=>f(h=>h-1)})})},g.createElement(ue,{force:!0},g.createElement(ie,null,g.createElement(q.Provider,{value:Ve},g.createElement(ie.Group,{target:m},g.createElement(ue,{force:!1},g.createElement(Ue,{slot:xe,name:"Dialog.Description"},g.createElement(I,{initialFocus:l,containers:ee,features:V?W(Fe,{parent:I.features.RestoreFocus,leaf:I.features.All&~I.features.FocusLock}):I.features.None},D({ourProps:Ge,theirProps:s,slot:xe,defaultTag:Kt,features:er,visible:v===0,name:"Dialog"})))))))),g.createElement(oe,{features:le.Hidden,ref:y}))}let rr="div";function nr(e,t){let r=M(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=e,[{dialogState:o,close:l}]=U("Dialog.Overlay"),u=C(t),s=$(f=>{if(f.target===f.currentTarget){if(at(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),l()}}),d=c.useMemo(()=>({open:o===0}),[o]);return D({ourProps:{ref:u,id:n,"aria-hidden":!0,onClick:s},theirProps:a,slot:d,defaultTag:rr,name:"Dialog.Overlay"})}let ar="div";function or(e,t){let r=M(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=e,[{dialogState:o},l]=U("Dialog.Backdrop"),u=C(t);c.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let s=c.useMemo(()=>({open:o===0}),[o]);return g.createElement(ue,{force:!0},g.createElement(ie,null,D({ourProps:{ref:u,id:n,"aria-hidden":!0},theirProps:a,slot:s,defaultTag:ar,name:"Dialog.Backdrop"})))}let lr="div";function sr(e,t){let r=M(),{id:n=`headlessui-dialog-panel-${r}`,...a}=e,[{dialogState:o},l]=U("Dialog.Panel"),u=C(t,l.panelRef),s=c.useMemo(()=>({open:o===0}),[o]),d=$(f=>{f.stopPropagation()});return D({ourProps:{ref:u,id:n,onClick:d},theirProps:a,slot:s,defaultTag:lr,name:"Dialog.Panel"})}let ur="h2";function ir(e,t){let r=M(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:o,setTitleId:l}]=U("Dialog.Title"),u=C(t);c.useEffect(()=>(l(n),()=>l(null)),[n,l]);let s=c.useMemo(()=>({open:o===0}),[o]);return D({ourProps:{ref:u,id:n},theirProps:a,slot:s,defaultTag:ur,name:"Dialog.Title"})}let cr=N(tr),dr=N(or),fr=N(sr),pr=N(nr),mr=N(ir),ae=Object.assign(cr,{Backdrop:dr,Panel:fr,Overlay:pr,Title:mr,Description:$t});const ke={slate:{text:"text-slate-500 dark:text-slate-200",background:"bg-slate-500 dark:bg-slate-200"},gray:{text:"text-gray-500 dark:text-gray-200",background:"bg-gray-500 dark:bg-gray-200"},zinc:{text:"text-zinc-500 dark:text-zinc-200",background:"bg-zinc-500 dark:bg-zinc-200"},neutral:{text:"text-neutral-500 dark:text-neutral-200",background:"bg-neutral-500 dark:bg-neutral-200"},stone:{text:"text-stone-500 dark:text-stone-200",background:"bg-stone-500 dark:bg-stone-200"},red:{text:"text-red-500 dark:text-red-200",background:"bg-red-500 dark:bg-red-200"},orange:{text:"text-orange-500 dark:text-orange-200",background:"bg-orange-500 dark:bg-orange-200"},amber:{text:"text-amber-500 dark:text-amber-200",background:"bg-amber-500 dark:bg-amber-200"},yellow:{text:"text-yellow-500 dark:text-yellow-200",background:"bg-yellow-500 dark:bg-yellow-200"},lime:{text:"text-lime-500 dark:text-lime-200",background:"bg-lime-500 dark:bg-lime-200"},green:{text:"text-green-500 dark:text-green-200",background:"bg-green-500 dark:bg-green-200"},emerald:{text:"text-emerald-500 dark:text-emerald-200",background:"bg-emerald-500 dark:bg-emerald-200"},teal:{text:"text-teal-500 dark:text-teal-200",background:"bg-teal-500 dark:bg-teal-200"},cyan:{text:"text-cyan-500 dark:text-cyan-200",background:"bg-cyan-500 dark:bg-cyan-200"},sky:{text:"text-sky-500 dark:text-sky-200",background:"bg-sky-500 dark:bg-sky-200"},blue:{text:"text-blue-500 dark:text-blue-200",background:"bg-blue-500 dark:bg-blue-200"},darkblue:{text:"text-darkblue-500 dark:text-darkblue-200",background:"bg-darkblue-500 dark:bg-darkblue-200"},indigo:{text:"text-indigo-500 dark:text-indigo-200",background:"bg-indigo-500 dark:bg-indigo-200"},violet:{text:"text-violet-500 dark:text-violet-200",background:"bg-violet-500 dark:bg-violet-200"},purple:{text:"text-purple-500 dark:text-purple-200",background:"bg-purple-500 dark:bg-purple-200"},fuchsia:{text:"text-fuchsia-500 dark:text-fuchsia-200",background:"bg-fuchsia-500 dark:bg-fuchsia-200"},pink:{text:"text-pink-500 dark:text-pink-200",background:"bg-pink-500 dark:bg-pink-200"},rose:{text:"text-rose-500 dark:text-rose-200",background:"bg-rose-500 dark:bg-rose-200"}},br=({tabItems:e,color:t="blue"})=>{const r=(s,d)=>{var f;(f=a[d].current)==null||f.scrollIntoView()},n=c.useRef(document.createElement("div")),a=e.map(()=>c.useRef(document.createElement("div"))),o=e.map(()=>c.useRef(document.createElement("div"))),[l,u]=c.useState(e.map(()=>!1));return c.useEffect(()=>{o.forEach((s,d)=>{new IntersectionObserver(x=>{var m;x[0].isIntersecting&&(u(l.map((E,y)=>y===d)),(m=o[d].current)==null||m.scrollIntoView(),o[d].current!=null&&(n.current.style.left=o[d].current.offsetLeft-5+"px",n.current.style.width=o[d].current.offsetWidth+10+"px"))},{threshold:.8}).observe(a[d].current)})},[]),c.useEffect(()=>{const s=f=>{f.preventDefault(),d.scrollLeft+=f.deltaY/5},d=document.querySelector(".tabbar");return d.addEventListener("wheel",s),()=>{d==null||d.removeEventListener("wheel",s)}}),i.jsxs("div",{className:"h-full border-4-xxx border-green-500-xxx flex flex-col",children:[i.jsxs("div",{className:`h-10 hideScollbar tabbar relative flex bg-white dark:bg-neutral-900 w-full touch-auto 
				overflow-x-auto overflow-y-hidden border border-x-0 border-t-0 border-b-[1.25px] border-y-neutral-500 dark:border-y-neutral-500`,children:[e.map((s,d)=>i.jsxs("div",{ref:o[d],onClick:f=>r(f,d),className:`uppercase mx-3 ${l[d]?`font-extrabold ${ke[t].text}`:""}`,children:[i.jsx("div",{className:"my-2 w-max",children:s.title}),i.jsx("div",{className:"-z-1 h-0 font-extrabold invisible w-max",children:s.title})]},d)),i.jsx("div",{className:`absolute left-0 bottom-0 h-[2px] ${ke[t].background} transition-all duration-300`,ref:n})]}),i.jsx("div",{className:"h-full relative overflow-y-auto overscroll-x-contain border-4-xxx border-red-500-xxx",children:i.jsx("div",{className:"hideScollbar h-full pb-2-xx grid grid-flow-col auto-cols-[100%] overflow-x-auto-xxx snap-x snap-mandatory snap-always overflow-y-auto ",children:e.map((s,d)=>i.jsx("div",{ref:a[d],className:"snap-start overflow-y-auto h-full overflow-x-hidden",children:s.content},d))})})]})},Oe=({isOpen:e,onClose:t,title:r,children:n,height:a})=>{const o={auto:"h-auto",full:"h-full",xs:"h-[5rem]",sm:"h-[10rem]",md:"h-[20rem]",lg:"h-[30rem]",xl:"h-[40rem]","2xl":"h-[50rem]"};return i.jsx(te,{appear:!0,show:e,as:c.Fragment,children:i.jsxs(ae,{as:"div",className:"relative z-10",onClose:t,children:[i.jsx(te.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:i.jsx(te.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsx(ae.Panel,{className:`${o[a]} w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-neutral-900 dark:border-neutral-700 border-neutral-300 border p-6 text-left align-middle shadow-xl transition-all`,children:i.jsxs("div",{className:"h-full flex flex-col",children:[r&&i.jsx(ae.Title,{as:"h3",className:"text-lg font-medium leading-6 dark:text-white text-center",children:r}),n]})})})})})]})})},gr=async({cong:e,mapID:t,suburb:r,street:n})=>{const a=z(T,e,"maps");try{return await pe(T,async l=>{if(!(await l.get(a)).exists())return{};const s=await l.get(a).then(d=>{var f;return(f=d.data())==null?void 0:f.mapDetails});return s[t].suburbs[r].streets.includes(n)||(s[t].suburbs[r].streets=[...s[t].suburbs[r].streets,n].sort((d,f)=>d.toLowerCase().localeCompare(f.toLowerCase()))),l.update(a,{mapDetails:s}),console.log(`<<< NEW STREET ADDED >>>
`,n,`
Latest mapDetails:`,s),s})}catch(o){return console.error(o.message),o}},hr=async(e,t,r,n)=>{t==null||t.toString();const a=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?country=au&bbox=${t==null?void 0:t.join("%2C")}&proximity=151.209889%2C-33.874666&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(a).then(o=>o.json()).then(o=>o.features)},xr=({isOpen:e,closeModal:t,map:r,suburb:n,mapDetails:a})=>{const[o,l]=c.useState(""),[u,s]=c.useState([]),d=async m=>{if(m.target.value.length<=2){s([]);return}l(m.target.value);const E=await hr(o,a[r].suburbs[n].bbox,a[r].suburbs[n].name);E&&s(E)},f=()=>{gr({cong:"australia_nsw_maitland",mapID:r,suburb:n,street:o}),t({type:"street",payload:o}),l(""),s([])},x=()=>{t({type:"street",payload:"init"}),l("")};return i.jsx(Oe,{isOpen:e,onClose:()=>{},title:"Add Street",height:"lg",children:i.jsx("div",{className:"h-full relative",children:i.jsx(j,{children:i.jsxs("div",{className:"flex justify-evenly m-4",children:[i.jsx(j.Autocomplete,{value:o,onChange:m=>{d(m)},onSelect:m=>{l(m.props.children[0].props.children)},options:u.map(m=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold",children:m.text}),i.jsx("div",{className:"text-xs",children:m.place_name.split(", ")[1]})]})),width:"lg"}),i.jsxs("div",{className:"flex gap-2 m-auto absolute bottom-0 justify-evenly w-full",children:[i.jsx(B,{color:"blue",clickAction:x,width:"sm",children:"Cancel"}),u.map(m=>m.text).includes(o)&&i.jsx(B,{color:"blue",clickAction:f,width:"sm",children:"Add"})]})]})})})})},vr=async({cong:e,mapID:t,suburb:r,bbox:n})=>{const a=z(T,e,"maps");try{const o=await pe(T,async l=>{if(!(await l.get(a)).exists())return console.log("<<<NO SUCH DOCUMENT>>>"),{};const s=await l.get(a).then(d=>{var f;return(f=d.data())==null?void 0:f.mapDetails});return s[t].suburbs=[...s[t].suburbs,s[t].suburbs.map(({name:d})=>(console.log(d),d)).includes(r)?null:{streets:[],bbox:n,name:r}].sort((d,f)=>d.name.toLowerCase().localeCompare(f.name.toLowerCase())),l.update(a,{mapDetails:s}),s});return console.log(`<<< NEW SUBURB ADDED >>>
`,r,`
Latest mapDetails:`,o),o}catch(o){return console.error(o.message),o}},yr=async(e,t,r)=>await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?types=place&proximity=151.209889,-33.874666&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`).then(a=>a.json()).then(a=>a.features),wr=({isOpen:e,closeModal:t,map:r})=>{const[n,a]=c.useState(""),[o,l]=c.useState([]),[u,s]=c.useState([]),[d,f]=c.useState([]),x=async p=>{if(a(p.target.value),p.target.value.length<=2){s([]);return}const S=await yr(p.target.value);f(S.map((w,v)=>({display:i.jsxs("div",{className:`${v} font-semibold`,children:[w.text,i.jsx("div",{className:"text-sm font-light dark:text-neutral-200",children:w.place_name})]}),...w})))},m=p=>{l(d[p.props.className[0]].bbox),a(p.props.children[0])},E=()=>{vr({cong:"australia_nsw_maitland",mapID:r,suburb:n,bbox:o}),t({type:"suburb",payload:n}),a(""),s([])},y=()=>{t({type:"suburb",payload:"init"}),a("")};return c.useEffect(()=>(s(d.map(p=>p.display)),()=>{}),[d]),i.jsx(Oe,{isOpen:e,onClose:()=>{},title:"Add Suburb",height:"lg",children:i.jsx("div",{className:"h-full relative",children:i.jsx(j,{children:i.jsxs("div",{className:"flex justify-around  m-4",children:[i.jsx(j.Autocomplete,{value:n,onChange:p=>x(p),onSelect:m,options:u,width:"lg"}),i.jsxs("div",{className:"flex gap-2 m-auto-xx absolute bottom-0 justify-evenly w-fit",children:[i.jsx(B,{color:"blue",clickAction:y,width:"sm",children:"Cancel"}),u.map(p=>p.props.children[0]).includes(n)&&i.jsx(B,{color:"blue",clickAction:E,width:"sm",children:"Add"})]})]})})})})},kr=async(e,t,r,n,a)=>{const l=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}%20${t}%20${r}%20.json?country=au&bbox=${n[0]-.015}%2C${n[1]-.015}%2C${n[2]+.015}%2C${n[3]+.015}&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(l).then(u=>u.json()).then(u=>(console.log(u.features[0]),{lng:u.features[0].center[0],lat:u.features[0].center[1],relevance:u.features[0].relevance}))},Er=async({cong:e,mapID:t,...r})=>{const n=z(T,"notAtHomes","MaitlandCongregation");try{const a=await pe(T,async o=>{const l="id"+Date.now();return(await o.get(n)).exists()?(o.update(n,{[l]:{...r,id:Date.now(),mapNumber:t,user:`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`}}),{...r,id:Date.now(),mapNumber:t,user:`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`}):(o.set(n,{[l]:{...r,id:Date.now(),mapNumber:t,user:`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`}}),"First Not At Home created successfully")});return console.log(`<<< NEW NOT AT HOME ADDED >>>
Address Details:`,a),a}catch(a){return console.error(a.message),a}},Sr=(e,t)=>typeof t.payload=="object"?{...e,[t.type]:"adding "+t.type}:{mapID:{mapID:t.payload,suburb:"init",street:"init",houseNumber:"",unitNumber:""},suburb:{...e,suburb:t.payload,street:"init",houseNumber:"",unitNumber:""},street:{...e,street:t.payload,houseNumber:"",unitNumber:""},houseNumber:{...e,houseNumber:t.payload},unitNumber:{...e,unitNumber:t.payload}}[t.type],jr=({mapDetails:e})=>{const[t,r]=c.useReducer(Sr,{mapID:"init",suburb:"init",street:"init",houseNumber:"",unitNumber:""}),n=()=>Math.max(0,e.findIndex(s=>s.id==t.mapID)),a=()=>t.mapID==="init"?0:Math.max(0,e[n()].suburbs.findIndex(s=>s.name===t.suburb)),o=async()=>{const s=await kr(t.houseNumber,t.street,t.suburb,e[n()].suburbs[a()].bbox);Er({...s,...t,letter:!1,calls:[Date.now()],cong:"australia_nsw_maitland"}),t.unitNumber===""&&r({type:"houseNumber",payload:""}),r({type:"unitNumber",payload:""})},l=e.length===0?[]:e[n()].suburbs.map(s=>s.name),u=e.length===0?[]:e[n()].suburbs.length===0?[]:e[n()].suburbs[a()].streets.map(s=>s);return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"flex justify-center p-2",children:[i.jsxs(j,{children:[i.jsx(j.Select,{onChange:s=>{r({type:"mapID",payload:s})},options:e.map(s=>s.id),placeholder:"Map",value:t.mapID,width:"lg",height:"xl"}),i.jsx("div",{className:"h-2"}),t.mapID!=="init"&&i.jsx(j.Select,{onChange:s=>{r({type:"suburb",payload:s})},value:t.suburb,options:[...l,i.jsx("span",{className:"text-blue-400",children:"add new suburb"})],placeholder:"Suburb",width:"lg",height:"xl"}),i.jsx("div",{className:"h-2"}),t.suburb==="init"?null:i.jsx(j.Select,{onChange:s=>{r({type:"street",payload:s})},value:t.street,options:[...u,i.jsx("span",{className:"text-blue-400",children:"add new street"})],placeholder:"Street",width:"lg",height:"xl"}),i.jsx("div",{className:"h-2"}),i.jsxs("div",{className:"flex",children:[t.street==="init"?null:i.jsx(j.Number,{value:t.houseNumber,label:"",placeholder:"House",onChange:s=>r({type:"houseNumber",payload:s.target.value}),width:"sm",height:"xl"}),i.jsx("div",{className:"grow"}),t.houseNumber===""?null:i.jsx(j.Number,{value:t.unitNumber,label:"",placeholder:"Unit",onChange:s=>r({type:"unitNumber",payload:s.target.value}),width:"xs",height:"xl"})]}),i.jsx("div",{className:"h-8"}),i.jsx("div",{className:"grid gap-4",children:t.houseNumber===""?null:i.jsx(B,{clickAction:o,width:"full",color:"blue",children:"Add"})})]}),i.jsx(wr,{isOpen:t.suburb==="adding suburb",closeModal:r,map:n()}),i.jsx(xr,{isOpen:t.street==="adding street",closeModal:r,map:n(),suburb:a(),mapDetails:e})]})})},$r=({notAtHomesList:e})=>i.jsx("div",{className:"pb-16",children:e&&Object.entries(e).filter(t=>t[1].user===`${localStorage.getItem("initID")}_${localStorage.getItem("username")}`).reverse().map((t,r)=>i.jsxs("div",{className:"grid grid-cols-12 h-12 border-b dark:border-darkGrey-700 text-sm text-center",children:[i.jsx("div",{className:"col-span-2 px-2 my-auto font-bold",children:t[1].mapNumber}),i.jsx("div",{className:"col-span-1 px-2 my-auto",children:`${t[1].unitNumber&&`${t[1].unitNumber}/`}${t[1].houseNumber}`}),i.jsx("div",{className:"col-span-4 my-auto",children:`${t[1].street}`}),i.jsx("div",{className:"col-span-4 my-auto",children:t[1].suburb}),i.jsx("div",{className:"col-span-1 px-2 text-right my-auto"})]},r))}),Dr=()=>{const[e,t]=c.useState([]),[r,n]=c.useState(()=>{});return c.useEffect(()=>ye(z(T,"notAtHomes","MaitlandCongregation"),o=>{n(()=>o.data())}),[]),c.useEffect(()=>{const a=ye(z(T,"australia_nsw_maitland","maps"),o=>{var l;o.data()&&t((l=o.data())==null?void 0:l.mapDetails)});return()=>{a()}},[]),i.jsx("div",{className:"h-full",children:i.jsx(br,{color:"blue",tabItems:[{title:"Add",content:i.jsx(jr,{mapDetails:e})},{title:"List",content:i.jsx($r,{notAtHomesList:r})}]})})};export{Dr as default};
