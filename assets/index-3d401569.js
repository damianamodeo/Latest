function QC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function YC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T={},XC={get exports(){return T},set exports(e){T=e}},tc={},m={},JC={get exports(){return m},set exports(e){m=e}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),eb=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),rb=Symbol.for("react.provider"),ib=Symbol.for("react.context"),sb=Symbol.for("react.forward_ref"),ob=Symbol.for("react.suspense"),ab=Symbol.for("react.memo"),lb=Symbol.for("react.lazy"),ty=Symbol.iterator;function ub(e){return e===null||typeof e!="object"?null:(e=ty&&e[ty]||e["@@iterator"],typeof e=="function"?e:null)}var P1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N1=Object.assign,R1={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=R1,this.updater=n||P1}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _1(){}_1.prototype=Cs.prototype;function wp(e,t,n){this.props=e,this.context=t,this.refs=R1,this.updater=n||P1}var xp=wp.prototype=new _1;xp.constructor=wp;N1(xp,Cs.prototype);xp.isPureReactComponent=!0;var ny=Array.isArray,$1=Object.prototype.hasOwnProperty,Sp={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function O1(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)$1.call(t,r)&&!L1.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pa,type:e,key:s,ref:o,props:i,_owner:Sp.current}}function cb(e,t){return{$$typeof:pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ep(e){return typeof e=="object"&&e!==null&&e.$$typeof===pa}function db(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ry=/\/+/g;function ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?db(""+e.key):t.toString(36)}function Dl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pa:case ZC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ld(o,0):r,ny(i)?(n="",e!=null&&(n=e.replace(ry,"$&/")+"/"),Dl(i,t,n,"",function(u){return u})):i!=null&&(Ep(i)&&(i=cb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ry,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ny(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ld(s,a);o+=Dl(s,t,n,l,i)}else if(l=ub(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ld(s,a++),o+=Dl(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ya(e,t,n){if(e==null)return e;var r=[],i=0;return Dl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function hb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Al={transition:null},fb={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Sp};ce.Children={map:Ya,forEach:function(e,t,n){Ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ya(e,function(){t++}),t},toArray:function(e){return Ya(e,function(t){return t})||[]},only:function(e){if(!Ep(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Cs;ce.Fragment=eb;ce.Profiler=nb;ce.PureComponent=wp;ce.StrictMode=tb;ce.Suspense=ob;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N1({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$1.call(t,l)&&!L1.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pa,type:e.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:ib,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rb,_context:e},e.Consumer=e};ce.createElement=O1;ce.createFactory=function(e){var t=O1.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:sb,render:e}};ce.isValidElement=Ep;ce.lazy=function(e){return{$$typeof:lb,_payload:{_status:-1,_result:e},_init:hb}};ce.memo=function(e,t){return{$$typeof:ab,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ce.useContext=function(e){return Rt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ce.useId=function(){return Rt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};ce.useRef=function(e){return Rt.current.useRef(e)};ce.useState=function(e){return Rt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Rt.current.useTransition()};ce.version="18.2.0";(function(e){e.exports=ce})(JC);const te=YC(m),bh=QC({__proto__:null,default:te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=m,mb=Symbol.for("react.element"),gb=Symbol.for("react.fragment"),yb=Object.prototype.hasOwnProperty,vb=pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wb={key:!0,ref:!0,__self:!0,__source:!0};function M1(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yb.call(t,r)&&!wb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mb,type:e,key:s,ref:o,props:i,_owner:vb.current}}tc.Fragment=gb;tc.jsx=M1;tc.jsxs=M1;(function(e){e.exports=tc})(XC);var kh={},Kl={},xb={get exports(){return Kl},set exports(e){Kl=e}},Yt={},Dh={},Sb={get exports(){return Dh},set exports(e){Dh=e}},F1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,z){var X=_.length;_.push(z);e:for(;0<X;){var J=X-1>>>1,we=_[J];if(0<i(we,z))_[J]=z,_[X]=we,X=J;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var z=_[0],X=_.pop();if(X!==z){_[0]=X;e:for(var J=0,we=_.length,L=we>>>1;J<L;){var W=2*(J+1)-1,Q=_[W],de=W+1,pe=_[de];if(0>i(Q,X))de<we&&0>i(pe,Q)?(_[J]=pe,_[de]=X,J=de):(_[J]=Q,_[W]=X,J=W);else if(de<we&&0>i(pe,X))_[J]=pe,_[de]=X,J=de;else break e}}return z}function i(_,z){var X=_.sortIndex-z.sortIndex;return X!==0?X:_.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=_)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function S(_){if(w=!1,y(_),!g)if(n(l)!==null)g=!0,ue(C);else{var z=n(u);z!==null&&ve(S,z.startTime-_)}}function C(_,z){g=!1,w&&(w=!1,v(b),b=-1),f=!0;var X=d;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||_&&!O());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var we=J(h.expirationTime<=z);z=e.unstable_now(),typeof we=="function"?h.callback=we:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var W=n(u);W!==null&&ve(S,W.startTime-z),L=!1}return L}finally{h=null,d=X,f=!1}}var A=!1,D=null,b=-1,M=5,F=-1;function O(){return!(e.unstable_now()-F<M)}function U(){if(D!==null){var _=e.unstable_now();F=_;var z=!0;try{z=D(!0,_)}finally{z?B():(A=!1,D=null)}}else A=!1}var B;if(typeof p=="function")B=function(){p(U)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,re=le.port2;le.port1.onmessage=U,B=function(){re.postMessage(null)}}else B=function(){x(U,0)};function ue(_){D=_,A||(A=!0,B())}function ve(_,z){b=x(function(){_(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,ue(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var X=d;d=z;try{return _()}finally{d=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,z){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var X=d;d=_;try{return z()}finally{d=X}},e.unstable_scheduleCallback=function(_,z,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,_){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=X+we,_={id:c++,callback:z,priorityLevel:_,startTime:X,expirationTime:we,sortIndex:-1},X>J?(_.sortIndex=X,t(u,_),n(l)===null&&_===n(u)&&(w?(v(b),b=-1):w=!0,ve(S,X-J))):(_.sortIndex=we,t(l,_),g||f||(g=!0,ue(C))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var z=d;return function(){var X=d;d=z;try{return _.apply(this,arguments)}finally{d=X}}}})(F1);(function(e){e.exports=F1})(Sb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=m,Kt=Dh;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j1=new Set,Po={};function Si(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Po[e]=t,e=0;e<t.length;e++)j1.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},sy={};function Tb(e){return Ah.call(sy,e)?!0:Ah.call(iy,e)?!1:Eb.test(e)?sy[e]=!0:(iy[e]=!0,!1)}function Cb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bb(e,t,n,r){if(t===null||typeof t>"u"||Cb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Cp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tp,Cp);pt[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tp,Cp);pt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tp,Cp);pt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function bp(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bb(t,n,i,r)&&(n=null),r||i===null?Tb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),_i=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),B1=Symbol.for("react.provider"),U1=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),z1=Symbol.for("react.offscreen"),oy=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=oy&&e[oy]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,ud;function Xs(e){if(ud===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ud=t&&t[1]||""}return`
`+ud+e}var cd=!1;function dd(e,t){if(!e||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xs(e):""}function kb(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=dd(e.type,!1),e;case 11:return e=dd(e.type.render,!1),e;case 1:return e=dd(e.type,!0),e;default:return""}}function Rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case _i:return"Portal";case Ih:return"Profiler";case kp:return"StrictMode";case Ph:return"Suspense";case Nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U1:return(e.displayName||"Context")+".Consumer";case B1:return(e._context.displayName||"Context")+".Provider";case Dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ap:return t=e.displayName||null,t!==null?t:Rh(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return Rh(e(t))}catch{}}return null}function Db(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(t);case 8:return t===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ab(e){var t=H1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=Ab(e))}function W1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _h(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ay(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=br(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K1(e,t){t=t.checked,t!=null&&bp(e,"checked",t,!1)}function $h(e,t){K1(e,t);var n=br(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ly(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lh(e,t,n){(t!=="number"||Gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Js=Array.isArray;function Xi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+br(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Oh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Js(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:br(n)}}function G1(e,t){var n=br(t.value),r=br(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,Q1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ib=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(e){Ib.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oo[t]=oo[e]})});function Y1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oo.hasOwnProperty(e)&&oo[e]?(""+t).trim():t+"px"}function X1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Pb=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(e,t){if(t){if(Pb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Vh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function Ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bh=null,Ji=null,Zi=null;function dy(e){if(e=ya(e)){if(typeof Bh!="function")throw Error(N(280));var t=e.stateNode;t&&(t=oc(t),Bh(e.stateNode,e.type,t))}}function J1(e){Ji?Zi?Zi.push(e):Zi=[e]:Ji=e}function Z1(){if(Ji){var e=Ji,t=Zi;if(Zi=Ji=null,dy(e),t)for(e=0;e<t.length;e++)dy(t[e])}}function ew(e,t){return e(t)}function tw(){}var hd=!1;function nw(e,t,n){if(hd)return e(t,n);hd=!0;try{return ew(e,t,n)}finally{hd=!1,(Ji!==null||Zi!==null)&&(tw(),Z1())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var r=oc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Uh=!1;if(Wn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Uh=!1}function Nb(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ao=!1,ql=null,Ql=!1,zh=null,Rb={onError:function(e){ao=!0,ql=e}};function _b(e,t,n,r,i,s,o,a,l){ao=!1,ql=null,Nb.apply(Rb,arguments)}function $b(e,t,n,r,i,s,o,a,l){if(_b.apply(this,arguments),ao){if(ao){var u=ql;ao=!1,ql=null}else throw Error(N(198));Ql||(Ql=!0,zh=u)}}function Ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hy(e){if(Ei(e)!==e)throw Error(N(188))}function Lb(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hy(i),e;if(s===r)return hy(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function iw(e){return e=Lb(e),e!==null?sw(e):null}function sw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sw(e);if(t!==null)return t;e=e.sibling}return null}var ow=Kt.unstable_scheduleCallback,fy=Kt.unstable_cancelCallback,Ob=Kt.unstable_shouldYield,Mb=Kt.unstable_requestPaint,We=Kt.unstable_now,Fb=Kt.unstable_getCurrentPriorityLevel,Pp=Kt.unstable_ImmediatePriority,aw=Kt.unstable_UserBlockingPriority,Yl=Kt.unstable_NormalPriority,Vb=Kt.unstable_LowPriority,lw=Kt.unstable_IdlePriority,nc=null,Dn=null;function jb(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(nc,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:zb,Bb=Math.log,Ub=Math.LN2;function zb(e){return e>>>=0,e===0?32:31-(Bb(e)/Ub|0)|0}var el=64,tl=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zs(a):(s&=o,s!==0&&(r=Zs(s)))}else o=n&~i,o!==0?r=Zs(o):s!==0&&(r=Zs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),i=1<<n,r|=e[n],t&=~i;return r}function Hb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Hb(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uw(){var e=el;return el<<=1,!(el&4194240)&&(el=64),e}function fd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ma(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function Kb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Np(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function cw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dw,Rp,hw,fw,pw,Wh=!1,nl=[],hr=null,fr=null,pr=null,_o=new Map,$o=new Map,or=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(t.pointerId)}}function Fs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ya(t),t!==null&&Rp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qb(e,t,n,r,i){switch(t){case"focusin":return hr=Fs(hr,e,t,n,r,i),!0;case"dragenter":return fr=Fs(fr,e,t,n,r,i),!0;case"mouseover":return pr=Fs(pr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _o.set(s,Fs(_o.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$o.set(s,Fs($o.get(s)||null,e,t,n,r,i)),!0}return!1}function mw(e){var t=Yr(e.target);if(t!==null){var n=Ei(t);if(n!==null){if(t=n.tag,t===13){if(t=rw(n),t!==null){e.blockedOn=t,pw(e.priority,function(){hw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jh=r,n.target.dispatchEvent(r),jh=null}else return t=ya(n),t!==null&&Rp(t),e.blockedOn=n,!1;t.shift()}return!0}function my(e,t,n){Il(e)&&n.delete(t)}function Qb(){Wh=!1,hr!==null&&Il(hr)&&(hr=null),fr!==null&&Il(fr)&&(fr=null),pr!==null&&Il(pr)&&(pr=null),_o.forEach(my),$o.forEach(my)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wh||(Wh=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,Qb)))}function Lo(e){function t(i){return Vs(i,e)}if(0<nl.length){Vs(nl[0],e);for(var n=1;n<nl.length;n++){var r=nl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hr!==null&&Vs(hr,e),fr!==null&&Vs(fr,e),pr!==null&&Vs(pr,e),_o.forEach(t),$o.forEach(t),n=0;n<or.length;n++)r=or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)mw(n),n.blockedOn===null&&or.shift()}var es=er.ReactCurrentBatchConfig,Jl=!0;function Yb(e,t,n,r){var i=Te,s=es.transition;es.transition=null;try{Te=1,_p(e,t,n,r)}finally{Te=i,es.transition=s}}function Xb(e,t,n,r){var i=Te,s=es.transition;es.transition=null;try{Te=4,_p(e,t,n,r)}finally{Te=i,es.transition=s}}function _p(e,t,n,r){if(Jl){var i=Kh(e,t,n,r);if(i===null)Td(e,t,r,Zl,n),py(e,r);else if(qb(i,e,t,n,r))r.stopPropagation();else if(py(e,r),t&4&&-1<Gb.indexOf(e)){for(;i!==null;){var s=ya(i);if(s!==null&&dw(s),s=Kh(e,t,n,r),s===null&&Td(e,t,r,Zl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}var Zl=null;function Kh(e,t,n,r){if(Zl=null,e=Ip(r),e=Yr(e),e!==null)if(t=Ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zl=e,null}function gw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fb()){case Pp:return 1;case aw:return 4;case Yl:case Vb:return 16;case lw:return 536870912;default:return 16}default:return 16}}var ur=null,$p=null,Pl=null;function yw(){if(Pl)return Pl;var e,t=$p,n=t.length,r,i="value"in ur?ur.value:ur.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Pl=i.slice(e,1<r?1-r:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function gy(){return!1}function Xt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rl:gy,this.isPropagationStopped=gy,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=Xt(bs),ga=Fe({},bs,{view:0,detail:0}),Jb=Xt(ga),pd,md,js,rc=Fe({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Op,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(pd=e.screenX-js.screenX,md=e.screenY-js.screenY):md=pd=0,js=e),pd)},movementY:function(e){return"movementY"in e?e.movementY:md}}),yy=Xt(rc),Zb=Fe({},rc,{dataTransfer:0}),ek=Xt(Zb),tk=Fe({},ga,{relatedTarget:0}),gd=Xt(tk),nk=Fe({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=Xt(nk),ik=Fe({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sk=Xt(ik),ok=Fe({},bs,{data:0}),vy=Xt(ok),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uk[e])?!!t[e]:!1}function Op(){return ck}var dk=Fe({},ga,{key:function(e){if(e.key){var t=ak[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Op,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hk=Xt(dk),fk=Fe({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Xt(fk),pk=Fe({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Op}),mk=Xt(pk),gk=Fe({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Xt(gk),vk=Fe({},rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wk=Xt(vk),xk=[9,13,27,32],Mp=Wn&&"CompositionEvent"in window,lo=null;Wn&&"documentMode"in document&&(lo=document.documentMode);var Sk=Wn&&"TextEvent"in window&&!lo,vw=Wn&&(!Mp||lo&&8<lo&&11>=lo),xy=String.fromCharCode(32),Sy=!1;function ww(e,t){switch(e){case"keyup":return xk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function Ek(e,t){switch(e){case"compositionend":return xw(t);case"keypress":return t.which!==32?null:(Sy=!0,xy);case"textInput":return e=t.data,e===xy&&Sy?null:e;default:return null}}function Tk(e,t){if(Li)return e==="compositionend"||!Mp&&ww(e,t)?(e=yw(),Pl=$p=ur=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vw&&t.locale!=="ko"?null:t.data;default:return null}}var Ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ck[e.type]:t==="textarea"}function Sw(e,t,n,r){J1(r),t=eu(t,"onChange"),0<t.length&&(n=new Lp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var uo=null,Oo=null;function bk(e){Rw(e,0)}function ic(e){var t=Fi(e);if(W1(t))return e}function kk(e,t){if(e==="change")return t}var Ew=!1;if(Wn){var yd;if(Wn){var vd="oninput"in document;if(!vd){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),vd=typeof Ty.oninput=="function"}yd=vd}else yd=!1;Ew=yd&&(!document.documentMode||9<document.documentMode)}function Cy(){uo&&(uo.detachEvent("onpropertychange",Tw),Oo=uo=null)}function Tw(e){if(e.propertyName==="value"&&ic(Oo)){var t=[];Sw(t,Oo,e,Ip(e)),nw(bk,t)}}function Dk(e,t,n){e==="focusin"?(Cy(),uo=t,Oo=n,uo.attachEvent("onpropertychange",Tw)):e==="focusout"&&Cy()}function Ak(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(Oo)}function Ik(e,t){if(e==="click")return ic(t)}function Pk(e,t){if(e==="input"||e==="change")return ic(t)}function Nk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:Nk;function Mo(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ah.call(t,i)||!wn(e[i],t[i]))return!1}return!0}function by(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ky(e,t){var n=by(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=by(n)}}function Cw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bw(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gl(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rk(e){var t=bw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cw(n.ownerDocument.documentElement,n)){if(r!==null&&Fp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ky(n,s);var o=ky(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _k=Wn&&"documentMode"in document&&11>=document.documentMode,Oi=null,Gh=null,co=null,qh=!1;function Dy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qh||Oi==null||Oi!==Gl(r)||(r=Oi,"selectionStart"in r&&Fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&Mo(co,r)||(co=r,r=eu(Gh,"onSelect"),0<r.length&&(t=new Lp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oi)))}function il(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mi={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},wd={},kw={};Wn&&(kw=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function sc(e){if(wd[e])return wd[e];if(!Mi[e])return e;var t=Mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kw)return wd[e]=t[n];return e}var Dw=sc("animationend"),Aw=sc("animationiteration"),Iw=sc("animationstart"),Pw=sc("transitionend"),Nw=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Nw.set(e,t),Si(t,[e])}for(var xd=0;xd<Ay.length;xd++){var Sd=Ay[xd],$k=Sd.toLowerCase(),Lk=Sd[0].toUpperCase()+Sd.slice(1);$r($k,"on"+Lk)}$r(Dw,"onAnimationEnd");$r(Aw,"onAnimationIteration");$r(Iw,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Pw,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Iy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$b(r,t,void 0,e),e.currentTarget=null}function Rw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Iy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Iy(i,a,u),s=l}}}if(Ql)throw e=zh,Ql=!1,zh=null,e}function ke(e,t){var n=t[Zh];n===void 0&&(n=t[Zh]=new Set);var r=e+"__bubble";n.has(r)||(_w(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),_w(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[sl]){e[sl]=!0,j1.forEach(function(n){n!=="selectionchange"&&(Ok.has(n)||Ed(n,!1,e),Ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Ed("selectionchange",!1,t))}}function _w(e,t,n,r){switch(gw(t)){case 1:var i=Yb;break;case 4:i=Xb;break;default:i=_p}n=i.bind(null,t,n,e),i=void 0,!Uh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Td(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nw(function(){var u=s,c=Ip(n),h=[];e:{var d=Nw.get(e);if(d!==void 0){var f=Lp,g=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":f=hk;break;case"focusin":g="focus",f=gd;break;case"focusout":g="blur",f=gd;break;case"beforeblur":case"afterblur":f=gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=mk;break;case Dw:case Aw:case Iw:f=rk;break;case Pw:f=yk;break;case"scroll":f=Jb;break;case"wheel":f=wk;break;case"copy":case"cut":case"paste":f=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wy}var w=(t&4)!==0,x=!w&&e==="scroll",v=w?d!==null?d+"Capture":null:d;w=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Ro(p,v),S!=null&&w.push(Vo(p,S,y)))),x)break;p=p.return}0<w.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==jh&&(g=n.relatedTarget||n.fromElement)&&(Yr(g)||g[Kn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Yr(g):null,g!==null&&(x=Ei(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(w=yy,S="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=wy,S="onPointerLeave",v="onPointerEnter",p="pointer"),x=f==null?d:Fi(f),y=g==null?d:Fi(g),d=new w(S,p+"leave",f,n,c),d.target=x,d.relatedTarget=y,S=null,Yr(c)===u&&(w=new w(v,p+"enter",g,n,c),w.target=y,w.relatedTarget=x,S=w),x=S,f&&g)t:{for(w=f,v=g,p=0,y=w;y;y=Ai(y))p++;for(y=0,S=v;S;S=Ai(S))y++;for(;0<p-y;)w=Ai(w),p--;for(;0<y-p;)v=Ai(v),y--;for(;p--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ai(w),v=Ai(v)}w=null}else w=null;f!==null&&Py(h,d,f,w,!1),g!==null&&x!==null&&Py(h,x,g,w,!0)}}e:{if(d=u?Fi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=kk;else if(Ey(d))if(Ew)C=Pk;else{C=Ak;var A=Dk}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Ik);if(C&&(C=C(e,u))){Sw(h,C,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Lh(d,"number",d.value)}switch(A=u?Fi(u):window,e){case"focusin":(Ey(A)||A.contentEditable==="true")&&(Oi=A,Gh=u,co=null);break;case"focusout":co=Gh=Oi=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Dy(h,n,c);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":Dy(h,n,c)}var D;if(Mp)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Li?ww(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(vw&&n.locale!=="ko"&&(Li||b!=="onCompositionStart"?b==="onCompositionEnd"&&Li&&(D=yw()):(ur=c,$p="value"in ur?ur.value:ur.textContent,Li=!0)),A=eu(u,b),0<A.length&&(b=new vy(b,e,null,n,c),h.push({event:b,listeners:A}),D?b.data=D:(D=xw(n),D!==null&&(b.data=D)))),(D=Sk?Ek(e,n):Tk(e,n))&&(u=eu(u,"onBeforeInput"),0<u.length&&(c=new vy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}Rw(h,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ro(e,n),s!=null&&r.unshift(Vo(e,s,i)),s=Ro(e,t),s!=null&&r.push(Vo(e,s,i))),e=e.return}return r}function Ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Py(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ro(n,s),l!=null&&o.unshift(Vo(n,l,a))):i||(l=Ro(n,s),l!=null&&o.push(Vo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Mk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(Mk,`
`).replace(Fk,"")}function ol(e,t,n){if(t=Ny(t),Ny(e)!==t&&n)throw Error(N(425))}function tu(){}var Qh=null,Yh=null;function Xh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(e){return Ry.resolve(null).then(e).catch(Bk)}:Jh;function Bk(e){setTimeout(function(){throw e})}function Cd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ks,jo="__reactProps$"+ks,Kn="__reactContainer$"+ks,Zh="__reactEvents$"+ks,Uk="__reactListeners$"+ks,zk="__reactHandles$"+ks;function Yr(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_y(e);e!==null;){if(n=e[Cn])return n;e=_y(e)}return t}e=n,n=e.parentNode}return null}function ya(e){return e=e[Cn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function oc(e){return e[jo]||null}var ef=[],Vi=-1;function Lr(e){return{current:e}}function Ae(e){0>Vi||(e.current=ef[Vi],ef[Vi]=null,Vi--)}function be(e,t){Vi++,ef[Vi]=e.current,e.current=t}var kr={},bt=Lr(kr),Ft=Lr(!1),di=kr;function ls(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(e){return e=e.childContextTypes,e!=null}function nu(){Ae(Ft),Ae(bt)}function $y(e,t,n){if(bt.current!==kr)throw Error(N(168));be(bt,t),be(Ft,n)}function $w(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,Db(e)||"Unknown",i));return Fe({},n,r)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,di=bt.current,be(bt,e),be(Ft,Ft.current),!0}function Ly(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=$w(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,Ae(Ft),Ae(bt),be(bt,e)):Ae(Ft),be(Ft,n)}var On=null,ac=!1,bd=!1;function Lw(e){On===null?On=[e]:On.push(e)}function Hk(e){ac=!0,Lw(e)}function Or(){if(!bd&&On!==null){bd=!0;var e=0,t=Te;try{var n=On;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}On=null,ac=!1}catch(i){throw On!==null&&(On=On.slice(e+1)),ow(Pp,Or),i}finally{Te=t,bd=!1}}return null}var ji=[],Bi=0,iu=null,su=0,en=[],tn=0,hi=null,Mn=1,Fn="";function zr(e,t){ji[Bi++]=su,ji[Bi++]=iu,iu=e,su=t}function Ow(e,t,n){en[tn++]=Mn,en[tn++]=Fn,en[tn++]=hi,hi=e;var r=Mn;e=Fn;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var s=32-yn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mn=1<<32-yn(t)+i|n<<i|r,Fn=s+e}else Mn=1<<s|n<<i|r,Fn=e}function Vp(e){e.return!==null&&(zr(e,1),Ow(e,1,0))}function jp(e){for(;e===iu;)iu=ji[--Bi],ji[Bi]=null,su=ji[--Bi],ji[Bi]=null;for(;e===hi;)hi=en[--tn],en[tn]=null,Fn=en[--tn],en[tn]=null,Mn=en[--tn],en[tn]=null}var Wt=null,Ht=null,Ne=!1,mn=null;function Mw(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Ht=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:Mn,overflow:Fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,Ht=null,!0):!1;default:return!1}}function tf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nf(e){if(Ne){var t=Ht;if(t){var n=t;if(!Oy(e,t)){if(tf(e))throw Error(N(418));t=mr(n.nextSibling);var r=Wt;t&&Oy(e,t)?Mw(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Wt=e)}}else{if(tf(e))throw Error(N(418));e.flags=e.flags&-4097|2,Ne=!1,Wt=e}}}function My(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function al(e){if(e!==Wt)return!1;if(!Ne)return My(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xh(e.type,e.memoizedProps)),t&&(t=Ht)){if(tf(e))throw Fw(),Error(N(418));for(;t;)Mw(e,t),t=mr(t.nextSibling)}if(My(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=Wt?mr(e.stateNode.nextSibling):null;return!0}function Fw(){for(var e=Ht;e;)e=mr(e.nextSibling)}function us(){Ht=Wt=null,Ne=!1}function Bp(e){mn===null?mn=[e]:mn.push(e)}var Wk=er.ReactCurrentBatchConfig;function fn(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ou=Lr(null),au=null,Ui=null,Up=null;function zp(){Up=Ui=au=null}function Hp(e){var t=ou.current;Ae(ou),e._currentValue=t}function rf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ts(e,t){au=e,Up=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Up!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(au===null)throw Error(N(308));Ui=e,au.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var Xr=null;function Wp(e){Xr===null?Xr=[e]:Xr.push(e)}function Vw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,Wp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function Rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Np(e,n)}}function Fy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lu(e,t,n,r){var i=e.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(d=t,f=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Fe({},h,d);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);pi|=o,e.lanes=o,e.memoizedState=h}}function Vy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Bw=new V1.Component().refs;function sf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lc={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=vr(e),s=Un(r,i);s.payload=t,n!=null&&(s.callback=n),t=gr(e,s,i),t!==null&&(vn(t,e,i,r),Rl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=vr(e),s=Un(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=gr(e,s,i),t!==null&&(vn(t,e,i,r),Rl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=vr(e),i=Un(n,r);i.tag=2,t!=null&&(i.callback=t),t=gr(e,i,r),t!==null&&(vn(t,e,r,n),Rl(t,e,r))}};function jy(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Mo(n,r)||!Mo(i,s):!0}function Uw(e,t,n){var r=!1,i=kr,s=t.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Vt(t)?di:bt.current,r=t.contextTypes,s=(r=r!=null)?ls(e,i):kr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function By(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lc.enqueueReplaceState(t,t.state,null)}function of(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bw,Kp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Vt(t)?di:bt.current,i.context=ls(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lc.enqueueReplaceState(i,i.state,null),lu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Bw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ll(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uy(e){var t=e._init;return t(e._payload)}function zw(e){function t(v,p){if(e){var y=v.deletions;y===null?(v.deletions=[p],v.flags|=16):y.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=wr(v,p),v.index=0,v.sibling=null,v}function s(v,p,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<p?(v.flags|=2,p):y):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,p,y,S){return p===null||p.tag!==6?(p=Rd(y,v.mode,S),p.return=v,p):(p=i(p,y),p.return=v,p)}function l(v,p,y,S){var C=y.type;return C===$i?c(v,p,y.props.children,S,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&Uy(C)===p.type)?(S=i(p,y.props),S.ref=Bs(v,p,y),S.return=v,S):(S=Fl(y.type,y.key,y.props,null,v.mode,S),S.ref=Bs(v,p,y),S.return=v,S)}function u(v,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=_d(y,v.mode,S),p.return=v,p):(p=i(p,y.children||[]),p.return=v,p)}function c(v,p,y,S,C){return p===null||p.tag!==7?(p=oi(y,v.mode,S,C),p.return=v,p):(p=i(p,y),p.return=v,p)}function h(v,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Rd(""+p,v.mode,y),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xa:return y=Fl(p.type,p.key,p.props,null,v.mode,y),y.ref=Bs(v,null,p),y.return=v,y;case _i:return p=_d(p,v.mode,y),p.return=v,p;case rr:var S=p._init;return h(v,S(p._payload),y)}if(Js(p)||Os(p))return p=oi(p,v.mode,y,null),p.return=v,p;ll(v,p)}return null}function d(v,p,y,S){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(v,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return y.key===C?l(v,p,y,S):null;case _i:return y.key===C?u(v,p,y,S):null;case rr:return C=y._init,d(v,p,C(y._payload),S)}if(Js(y)||Os(y))return C!==null?null:c(v,p,y,S,null);ll(v,y)}return null}function f(v,p,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,a(p,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xa:return v=v.get(S.key===null?y:S.key)||null,l(p,v,S,C);case _i:return v=v.get(S.key===null?y:S.key)||null,u(p,v,S,C);case rr:var A=S._init;return f(v,p,y,A(S._payload),C)}if(Js(S)||Os(S))return v=v.get(y)||null,c(p,v,S,C,null);ll(p,S)}return null}function g(v,p,y,S){for(var C=null,A=null,D=p,b=p=0,M=null;D!==null&&b<y.length;b++){D.index>b?(M=D,D=null):M=D.sibling;var F=d(v,D,y[b],S);if(F===null){D===null&&(D=M);break}e&&D&&F.alternate===null&&t(v,D),p=s(F,p,b),A===null?C=F:A.sibling=F,A=F,D=M}if(b===y.length)return n(v,D),Ne&&zr(v,b),C;if(D===null){for(;b<y.length;b++)D=h(v,y[b],S),D!==null&&(p=s(D,p,b),A===null?C=D:A.sibling=D,A=D);return Ne&&zr(v,b),C}for(D=r(v,D);b<y.length;b++)M=f(D,v,b,y[b],S),M!==null&&(e&&M.alternate!==null&&D.delete(M.key===null?b:M.key),p=s(M,p,b),A===null?C=M:A.sibling=M,A=M);return e&&D.forEach(function(O){return t(v,O)}),Ne&&zr(v,b),C}function w(v,p,y,S){var C=Os(y);if(typeof C!="function")throw Error(N(150));if(y=C.call(y),y==null)throw Error(N(151));for(var A=C=null,D=p,b=p=0,M=null,F=y.next();D!==null&&!F.done;b++,F=y.next()){D.index>b?(M=D,D=null):M=D.sibling;var O=d(v,D,F.value,S);if(O===null){D===null&&(D=M);break}e&&D&&O.alternate===null&&t(v,D),p=s(O,p,b),A===null?C=O:A.sibling=O,A=O,D=M}if(F.done)return n(v,D),Ne&&zr(v,b),C;if(D===null){for(;!F.done;b++,F=y.next())F=h(v,F.value,S),F!==null&&(p=s(F,p,b),A===null?C=F:A.sibling=F,A=F);return Ne&&zr(v,b),C}for(D=r(v,D);!F.done;b++,F=y.next())F=f(D,v,b,F.value,S),F!==null&&(e&&F.alternate!==null&&D.delete(F.key===null?b:F.key),p=s(F,p,b),A===null?C=F:A.sibling=F,A=F);return e&&D.forEach(function(U){return t(v,U)}),Ne&&zr(v,b),C}function x(v,p,y,S){if(typeof y=="object"&&y!==null&&y.type===$i&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:e:{for(var C=y.key,A=p;A!==null;){if(A.key===C){if(C=y.type,C===$i){if(A.tag===7){n(v,A.sibling),p=i(A,y.props.children),p.return=v,v=p;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&Uy(C)===A.type){n(v,A.sibling),p=i(A,y.props),p.ref=Bs(v,A,y),p.return=v,v=p;break e}n(v,A);break}else t(v,A);A=A.sibling}y.type===$i?(p=oi(y.props.children,v.mode,S,y.key),p.return=v,v=p):(S=Fl(y.type,y.key,y.props,null,v.mode,S),S.ref=Bs(v,p,y),S.return=v,v=S)}return o(v);case _i:e:{for(A=y.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(v,p.sibling),p=i(p,y.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=_d(y,v.mode,S),p.return=v,v=p}return o(v);case rr:return A=y._init,x(v,p,A(y._payload),S)}if(Js(y))return g(v,p,y,S);if(Os(y))return w(v,p,y,S);ll(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,y),p.return=v,v=p):(n(v,p),p=Rd(y,v.mode,S),p.return=v,v=p),o(v)):n(v,p)}return x}var cs=zw(!0),Hw=zw(!1),va={},An=Lr(va),Bo=Lr(va),Uo=Lr(va);function Jr(e){if(e===va)throw Error(N(174));return e}function Gp(e,t){switch(be(Uo,t),be(Bo,e),be(An,va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mh(t,e)}Ae(An),be(An,t)}function ds(){Ae(An),Ae(Bo),Ae(Uo)}function Ww(e){Jr(Uo.current);var t=Jr(An.current),n=Mh(t,e.type);t!==n&&(be(Bo,e),be(An,n))}function qp(e){Bo.current===e&&(Ae(An),Ae(Bo))}var $e=Lr(0);function uu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function Qp(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var _l=er.ReactCurrentDispatcher,Dd=er.ReactCurrentBatchConfig,fi=0,Oe=null,et=null,st=null,cu=!1,ho=!1,zo=0,Kk=0;function yt(){throw Error(N(321))}function Yp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function Xp(e,t,n,r,i,s){if(fi=s,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_l.current=e===null||e.memoizedState===null?Yk:Xk,e=n(r,i),ho){s=0;do{if(ho=!1,zo=0,25<=s)throw Error(N(301));s+=1,st=et=null,t.updateQueue=null,_l.current=Jk,e=n(r,i)}while(ho)}if(_l.current=du,t=et!==null&&et.next!==null,fi=0,st=et=Oe=null,cu=!1,t)throw Error(N(300));return e}function Jp(){var e=zo!==0;return zo=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Oe.memoizedState=st=e:st=st.next=e,st}function dn(){if(et===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=st===null?Oe.memoizedState:st.next;if(t!==null)st=t,et=e;else{if(e===null)throw Error(N(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Oe.memoizedState=st=e:st=st.next=e}return st}function Ho(e,t){return typeof t=="function"?t(e):t}function Ad(e){var t=dn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=c,pi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,wn(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Oe.lanes|=s,pi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Id(e){var t=dn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wn(s,t.memoizedState)||(Mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Kw(){}function Gw(e,t){var n=Oe,r=dn(),i=t(),s=!wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,Zp(Yw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Wo(9,Qw.bind(null,n,r,i,t),void 0,null),at===null)throw Error(N(349));fi&30||qw(n,t,i)}return i}function qw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qw(e,t,n,r){t.value=n,t.getSnapshot=r,Xw(t)&&Jw(e)}function Yw(e,t,n){return n(function(){Xw(t)&&Jw(e)})}function Xw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function Jw(e){var t=Gn(e,1);t!==null&&vn(t,e,1,-1)}function zy(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=Qk.bind(null,Oe,e),[t.memoizedState,e]}function Wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zw(){return dn().memoizedState}function $l(e,t,n,r){var i=En();Oe.flags|=e,i.memoizedState=Wo(1|t,n,void 0,r===void 0?null:r)}function uc(e,t,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&Yp(r,o.deps)){i.memoizedState=Wo(t,n,s,r);return}}Oe.flags|=e,i.memoizedState=Wo(1|t,n,s,r)}function Hy(e,t){return $l(8390656,8,e,t)}function Zp(e,t){return uc(2048,8,e,t)}function ex(e,t){return uc(4,2,e,t)}function tx(e,t){return uc(4,4,e,t)}function nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rx(e,t,n){return n=n!=null?n.concat([e]):null,uc(4,4,nx.bind(null,t,e),n)}function em(){}function ix(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sx(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ox(e,t,n){return fi&21?(wn(n,t)||(n=uw(),Oe.lanes|=n,pi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function Gk(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Dd.transition;Dd.transition={};try{e(!1),t()}finally{Te=n,Dd.transition=r}}function ax(){return dn().memoizedState}function qk(e,t,n){var r=vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lx(e))ux(t,n);else if(n=Vw(e,t,n,r),n!==null){var i=Nt();vn(n,e,r,i),cx(n,t,r)}}function Qk(e,t,n){var r=vr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lx(e))ux(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,o)){var l=t.interleaved;l===null?(i.next=i,Wp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Vw(e,t,i,r),n!==null&&(i=Nt(),vn(n,e,r,i),cx(n,t,r))}}function lx(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function ux(e,t){ho=cu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Np(e,n)}}var du={readContext:cn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Yk={readContext:cn,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Hy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$l(4194308,4,nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $l(4194308,4,e,t)},useInsertionEffect:function(e,t){return $l(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qk.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:zy,useDebugValue:em,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=zy(!1),t=e[0];return e=Gk.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,i=En();if(Ne){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),at===null)throw Error(N(349));fi&30||qw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hy(Yw.bind(null,r,s,e),[e]),r.flags|=2048,Wo(9,Qw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=En(),t=at.identifierPrefix;if(Ne){var n=Fn,r=Mn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xk={readContext:cn,useCallback:ix,useContext:cn,useEffect:Zp,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:Ad,useRef:Zw,useState:function(){return Ad(Ho)},useDebugValue:em,useDeferredValue:function(e){var t=dn();return ox(t,et.memoizedState,e)},useTransition:function(){var e=Ad(Ho)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Kw,useSyncExternalStore:Gw,useId:ax,unstable_isNewReconciler:!1},Jk={readContext:cn,useCallback:ix,useContext:cn,useEffect:Zp,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:Id,useRef:Zw,useState:function(){return Id(Ho)},useDebugValue:em,useDeferredValue:function(e){var t=dn();return et===null?t.memoizedState=e:ox(t,et.memoizedState,e)},useTransition:function(){var e=Id(Ho)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Kw,useSyncExternalStore:Gw,useId:ax,unstable_isNewReconciler:!1};function hs(e,t){try{var n="",r=t;do n+=kb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Pd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function af(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zk=typeof WeakMap=="function"?WeakMap:Map;function dx(e,t,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fu||(fu=!0,yf=r),af(e,t)},n}function hx(e,t,n){n=Un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){af(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){af(e,t),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Wy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fD.bind(null,e,t,n),t.then(e,e))}function Ky(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Un(-1,1),t.tag=2,gr(n,t,1))),n.lanes|=1),e)}var eD=er.ReactCurrentOwner,Mt=!1;function Dt(e,t,n,r){t.child=e===null?Hw(t,null,n,r):cs(t,e.child,n,r)}function qy(e,t,n,r,i){n=n.render;var s=t.ref;return ts(t,i),r=Xp(e,t,n,r,s,i),n=Jp(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Ne&&n&&Vp(t),t.flags|=1,Dt(e,t,r,i),t.child)}function Qy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!lm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fx(e,t,s,r,i)):(e=Fl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(o,r)&&e.ref===t.ref)return qn(e,t,i)}return t.flags|=1,e=wr(s,r),e.ref=t.ref,e.return=t,t.child=e}function fx(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Mo(s,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,qn(e,t,i)}return lf(e,t,n,r,i)}function px(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Hi,zt),zt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Hi,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(Hi,zt),zt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,be(Hi,zt),zt|=r;return Dt(e,t,i,n),t.child}function mx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lf(e,t,n,r,i){var s=Vt(n)?di:bt.current;return s=ls(t,s),ts(t,i),n=Xp(e,t,n,r,s,i),r=Jp(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Ne&&r&&Vp(t),t.flags|=1,Dt(e,t,n,i),t.child)}function Yy(e,t,n,r,i){if(Vt(n)){var s=!0;ru(t)}else s=!1;if(ts(t,i),t.stateNode===null)Ll(e,t),Uw(t,n,r),of(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Vt(n)?di:bt.current,u=ls(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&By(t,o,r,u),ir=!1;var d=t.memoizedState;o.state=d,lu(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ft.current||ir?(typeof c=="function"&&(sf(t,n,c,r),l=t.memoizedState),(a=ir||jy(t,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:fn(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Vt(n)?di:bt.current,l=ls(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&By(t,o,r,l),ir=!1,d=t.memoizedState,o.state=d,lu(t,r,o,i);var g=t.memoizedState;a!==h||d!==g||Ft.current||ir?(typeof f=="function"&&(sf(t,n,f,r),g=t.memoizedState),(u=ir||jy(t,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return uf(e,t,n,r,s,i)}function uf(e,t,n,r,i,s){mx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ly(t,n,!1),qn(e,t,s);r=t.stateNode,eD.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,s),t.child=cs(t,null,a,s)):Dt(e,t,a,s),t.memoizedState=r.state,i&&Ly(t,n,!0),t.child}function gx(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),Gp(e,t.containerInfo)}function Xy(e,t,n,r,i){return us(),Bp(i),t.flags|=256,Dt(e,t,n,r),t.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function df(e){return{baseLanes:e,cachePool:null,transitions:null}}function yx(e,t,n){var r=t.pendingProps,i=$e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),be($e,i&1),e===null)return nf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hc(o,r,0,null),e=oi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=df(n),t.memoizedState=cf,e):tm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tD(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wr(a,s):(s=oi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?df(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=cf,r}return s=e.child,e=s.sibling,r=wr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tm(e,t){return t=hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,n,r){return r!==null&&Bp(r),cs(t,e.child,null,n),e=tm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tD(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Pd(Error(N(422))),ul(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hc({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=df(o),t.memoizedState=cf,s);if(!(t.mode&1))return ul(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Pd(s,r,void 0),ul(e,t,o,r)}if(a=(o&e.childLanes)!==0,Mt||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),vn(r,e,i,-1))}return am(),r=Pd(Error(N(421))),ul(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pD.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ht=mr(i.nextSibling),Wt=t,Ne=!0,mn=null,e!==null&&(en[tn++]=Mn,en[tn++]=Fn,en[tn++]=hi,Mn=e.id,Fn=e.overflow,hi=t),t=tm(t,r.children),t.flags|=4096,t)}function Jy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rf(e.return,t,n)}function Nd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,n,t);else if(e.tag===19)Jy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be($e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nd(t,!0,n,null,s);break;case"together":Nd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nD(e,t,n){switch(t.tag){case 3:gx(t),us();break;case 5:Ww(t);break;case 1:Vt(t.type)&&ru(t);break;case 4:Gp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;be(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?yx(e,t,n):(be($e,$e.current&1),e=qn(e,t,n),e!==null?e.sibling:null);be($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,px(e,t,n)}return qn(e,t,n)}var wx,hf,xx,Sx;wx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hf=function(){};xx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jr(An.current);var s=null;switch(n){case"input":i=_h(e,i),r=_h(e,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=Oh(e,i),r=Oh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tu)}Fh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Sx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Us(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rD(e,t,n){var r=t.pendingProps;switch(jp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Vt(t.type)&&nu(),vt(t),null;case 3:return r=t.stateNode,ds(),Ae(Ft),Ae(bt),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(xf(mn),mn=null))),hf(e,t),vt(t),null;case 5:qp(t);var i=Jr(Uo.current);if(n=t.type,e!==null&&t.stateNode!=null)xx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return vt(t),null}if(e=Jr(An.current),al(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[jo]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<eo.length;i++)ke(eo[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ay(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":uy(r,s),ke("invalid",r)}Fh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),i=["children",""+a]):Po.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Ja(r),ly(r,s,!0);break;case"textarea":Ja(r),cy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Cn]=t,e[jo]=r,wx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vh(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<eo.length;i++)ke(eo[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":ay(e,r),i=_h(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":uy(e,r),i=Oh(e,r),ke("invalid",e);break;default:i=r}Fh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?X1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&No(e,l):typeof l=="number"&&No(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Po.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",e):l!=null&&bp(e,s,l,o))}switch(n){case"input":Ja(e),ly(e,r,!1);break;case"textarea":Ja(e),cy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+br(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Xi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Xi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Sx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Jr(Uo.current),Jr(An.current),al(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(s=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return vt(t),null;case 13:if(Ae($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Ht!==null&&t.mode&1&&!(t.flags&128))Fw(),us(),t.flags|=98560,s=!1;else if(s=al(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Cn]=t}else us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),s=!1}else mn!==null&&(xf(mn),mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?nt===0&&(nt=3):am())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return ds(),hf(e,t),e===null&&Fo(t.stateNode.containerInfo),vt(t),null;case 10:return Hp(t.type._context),vt(t),null;case 17:return Vt(t.type)&&nu(),vt(t),null;case 19:if(Ae($e),s=t.memoizedState,s===null)return vt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uu(e),o!==null){for(t.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be($e,$e.current&1|2),t.child}e=e.sibling}s.tail!==null&&We()>fs&&(t.flags|=128,r=!0,Us(s,!1),t.lanes=4194304)}else{if(!r)if(e=uu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return vt(t),null}else 2*We()-s.renderingStartTime>fs&&n!==1073741824&&(t.flags|=128,r=!0,Us(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=We(),t.sibling=null,n=$e.current,be($e,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return om(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function iD(e,t){switch(jp(t),t.tag){case 1:return Vt(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),Ae(Ft),Ae(bt),Qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qp(t),null;case 13:if(Ae($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae($e),null;case 4:return ds(),null;case 10:return Hp(t.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var cl=!1,St=!1,sD=typeof WeakSet=="function"?WeakSet:Set,j=null;function zi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function ff(e,t,n){try{n()}catch(r){Be(e,t,r)}}var Zy=!1;function oD(e,t){if(Qh=Jl,e=bw(),Fp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yh={focusedElem:e,selectionRange:n},Jl=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:fn(t.type,w),x);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){Be(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return g=Zy,Zy=!1,g}function fo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ff(t,n,s)}i=i.next}while(i!==r)}}function cc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ex(e){var t=e.alternate;t!==null&&(e.alternate=null,Ex(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[jo],delete t[Zh],delete t[Uk],delete t[zk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tx(e){return e.tag===5||e.tag===3||e.tag===4}function ev(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tu));else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,n),e=e.sibling;e!==null;)mf(e,t,n),e=e.sibling}function gf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gf(e,t,n),e=e.sibling;e!==null;)gf(e,t,n),e=e.sibling}var ct=null,pn=!1;function tr(e,t,n){for(n=n.child;n!==null;)Cx(e,t,n),n=n.sibling}function Cx(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:St||zi(n,t);case 6:var r=ct,i=pn;ct=null,tr(e,t,n),ct=r,pn=i,ct!==null&&(pn?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(pn?(e=ct,n=n.stateNode,e.nodeType===8?Cd(e.parentNode,n):e.nodeType===1&&Cd(e,n),Lo(e)):Cd(ct,n.stateNode));break;case 4:r=ct,i=pn,ct=n.stateNode.containerInfo,pn=!0,tr(e,t,n),ct=r,pn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ff(n,t,o),i=i.next}while(i!==r)}tr(e,t,n);break;case 1:if(!St&&(zi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,t,a)}tr(e,t,n);break;case 21:tr(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,tr(e,t,n),St=r):tr(e,t,n);break;default:tr(e,t,n)}}function tv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sD),t.forEach(function(r){var i=mD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,pn=!1;break e;case 3:ct=a.stateNode.containerInfo,pn=!0;break e;case 4:ct=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(ct===null)throw Error(N(160));Cx(s,o,i),ct=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bx(t,e),t=t.sibling}function bx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),Sn(e),r&4){try{fo(3,e,e.return),cc(3,e)}catch(w){Be(e,e.return,w)}try{fo(5,e,e.return)}catch(w){Be(e,e.return,w)}}break;case 1:hn(t,e),Sn(e),r&512&&n!==null&&zi(n,n.return);break;case 5:if(hn(t,e),Sn(e),r&512&&n!==null&&zi(n,n.return),e.flags&32){var i=e.stateNode;try{No(i,"")}catch(w){Be(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&K1(i,s),Vh(a,o);var u=Vh(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?X1(i,h):c==="dangerouslySetInnerHTML"?Q1(i,h):c==="children"?No(i,h):bp(i,c,h,u)}switch(a){case"input":$h(i,s);break;case"textarea":G1(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Xi(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Xi(i,!!s.multiple,s.defaultValue,!0):Xi(i,!!s.multiple,s.multiple?[]:"",!1))}i[jo]=s}catch(w){Be(e,e.return,w)}}break;case 6:if(hn(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Be(e,e.return,w)}}break;case 3:if(hn(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(t.containerInfo)}catch(w){Be(e,e.return,w)}break;case 4:hn(t,e),Sn(e);break;case 13:hn(t,e),Sn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(im=We())),r&4&&tv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||c,hn(t,e),St=u):hn(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(h=j=c;j!==null;){switch(d=j,f=d.child,d.tag){case 0:case 11:case 14:case 15:fo(4,d,d.return);break;case 1:zi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Be(r,n,w)}}break;case 5:zi(d,d.return);break;case 22:if(d.memoizedState!==null){rv(h);continue}}f!==null?(f.return=d,j=f):rv(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y1("display",o))}catch(w){Be(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Be(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(t,e),Sn(e),r&4&&tv(e);break;case 21:break;default:hn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(No(i,""),r.flags&=-33);var s=ev(e);gf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ev(e);mf(e,a,o);break;default:throw Error(N(161))}}catch(l){Be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aD(e,t,n){j=e,kx(e)}function kx(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=cl;var u=St;if(cl=o,(St=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?iv(i):l!==null?(l.return=o,j=l):iv(i);for(;s!==null;)j=s,kx(s),s=s.sibling;j=i,cl=a,St=u}nv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):nv(e)}}function nv(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||cc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vy(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Lo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}St||t.flags&512&&pf(t)}catch(d){Be(t,t.return,d)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function rv(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function iv(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cc(4,t)}catch(l){Be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Be(t,i,l)}}var s=t.return;try{pf(t)}catch(l){Be(t,s,l)}break;case 5:var o=t.return;try{pf(t)}catch(l){Be(t,o,l)}}}catch(l){Be(t,t.return,l)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var lD=Math.ceil,hu=er.ReactCurrentDispatcher,nm=er.ReactCurrentOwner,on=er.ReactCurrentBatchConfig,ye=0,at=null,Ze=null,ht=0,zt=0,Hi=Lr(0),nt=0,Ko=null,pi=0,dc=0,rm=0,po=null,Lt=null,im=0,fs=1/0,Ln=null,fu=!1,yf=null,yr=null,dl=!1,cr=null,pu=0,mo=0,vf=null,Ol=-1,Ml=0;function Nt(){return ye&6?We():Ol!==-1?Ol:Ol=We()}function vr(e){return e.mode&1?ye&2&&ht!==0?ht&-ht:Wk.transition!==null?(Ml===0&&(Ml=uw()),Ml):(e=Te,e!==0||(e=window.event,e=e===void 0?16:gw(e.type)),e):1}function vn(e,t,n,r){if(50<mo)throw mo=0,vf=null,Error(N(185));ma(e,n,r),(!(ye&2)||e!==at)&&(e===at&&(!(ye&2)&&(dc|=n),nt===4&&ar(e,ht)),jt(e,r),n===1&&ye===0&&!(t.mode&1)&&(fs=We()+500,ac&&Or()))}function jt(e,t){var n=e.callbackNode;Wb(e,t);var r=Xl(e,e===at?ht:0);if(r===0)n!==null&&fy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fy(n),t===1)e.tag===0?Hk(sv.bind(null,e)):Lw(sv.bind(null,e)),jk(function(){!(ye&6)&&Or()}),n=null;else{switch(cw(r)){case 1:n=Pp;break;case 4:n=aw;break;case 16:n=Yl;break;case 536870912:n=lw;break;default:n=Yl}n=$x(n,Dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dx(e,t){if(Ol=-1,Ml=0,ye&6)throw Error(N(327));var n=e.callbackNode;if(ns()&&e.callbackNode!==n)return null;var r=Xl(e,e===at?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mu(e,r);else{t=r;var i=ye;ye|=2;var s=Ix();(at!==e||ht!==t)&&(Ln=null,fs=We()+500,si(e,t));do try{dD();break}catch(a){Ax(e,a)}while(1);zp(),hu.current=s,ye=i,Ze!==null?t=0:(at=null,ht=0,t=nt)}if(t!==0){if(t===2&&(i=Hh(e),i!==0&&(r=i,t=wf(e,i))),t===1)throw n=Ko,si(e,0),ar(e,r),jt(e,We()),n;if(t===6)ar(e,r);else{if(i=e.current.alternate,!(r&30)&&!uD(i)&&(t=mu(e,r),t===2&&(s=Hh(e),s!==0&&(r=s,t=wf(e,s))),t===1))throw n=Ko,si(e,0),ar(e,r),jt(e,We()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Hr(e,Lt,Ln);break;case 3:if(ar(e,r),(r&130023424)===r&&(t=im+500-We(),10<t)){if(Xl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jh(Hr.bind(null,e,Lt,Ln),t);break}Hr(e,Lt,Ln);break;case 4:if(ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-yn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lD(r/1960))-r,10<r){e.timeoutHandle=Jh(Hr.bind(null,e,Lt,Ln),r);break}Hr(e,Lt,Ln);break;case 5:Hr(e,Lt,Ln);break;default:throw Error(N(329))}}}return jt(e,We()),e.callbackNode===n?Dx.bind(null,e):null}function wf(e,t){var n=po;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=mu(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&xf(t)),e}function xf(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function uD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~rm,t&=~dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function sv(e){if(ye&6)throw Error(N(327));ns();var t=Xl(e,0);if(!(t&1))return jt(e,We()),null;var n=mu(e,t);if(e.tag!==0&&n===2){var r=Hh(e);r!==0&&(t=r,n=wf(e,r))}if(n===1)throw n=Ko,si(e,0),ar(e,t),jt(e,We()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,Lt,Ln),jt(e,We()),null}function sm(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(fs=We()+500,ac&&Or())}}function mi(e){cr!==null&&cr.tag===0&&!(ye&6)&&ns();var t=ye;ye|=1;var n=on.transition,r=Te;try{if(on.transition=null,Te=1,e)return e()}finally{Te=r,on.transition=n,ye=t,!(ye&6)&&Or()}}function om(){zt=Hi.current,Ae(Hi)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vk(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(jp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:ds(),Ae(Ft),Ae(bt),Qp();break;case 5:qp(r);break;case 4:ds();break;case 13:Ae($e);break;case 19:Ae($e);break;case 10:Hp(r.type._context);break;case 22:case 23:om()}n=n.return}if(at=e,Ze=e=wr(e.current,null),ht=zt=t,nt=0,Ko=null,rm=dc=pi=0,Lt=po=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xr=null}return e}function Ax(e,t){do{var n=Ze;try{if(zp(),_l.current=du,cu){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cu=!1}if(fi=0,st=et=Oe=null,ho=!1,zo=0,nm.current=null,n===null||n.return===null){nt=1,Ko=t,Ze=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ky(o);if(f!==null){f.flags&=-257,Gy(f,o,a,s,t),f.mode&1&&Wy(s,u,t),t=f,l=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){Wy(s,u,t),am();break e}l=Error(N(426))}}else if(Ne&&a.mode&1){var x=Ky(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gy(x,o,a,s,t),Bp(hs(l,a));break e}}s=l=hs(l,a),nt!==4&&(nt=2),po===null?po=[s]:po.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=dx(s,l,t);Fy(s,v);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yr===null||!yr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=hx(s,a,t);Fy(s,S);break e}}s=s.return}while(s!==null)}Nx(n)}catch(C){t=C,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function Ix(){var e=hu.current;return hu.current=du,e===null?du:e}function am(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(pi&268435455)&&!(dc&268435455)||ar(at,ht)}function mu(e,t){var n=ye;ye|=2;var r=Ix();(at!==e||ht!==t)&&(Ln=null,si(e,t));do try{cD();break}catch(i){Ax(e,i)}while(1);if(zp(),ye=n,hu.current=r,Ze!==null)throw Error(N(261));return at=null,ht=0,nt}function cD(){for(;Ze!==null;)Px(Ze)}function dD(){for(;Ze!==null&&!Ob();)Px(Ze)}function Px(e){var t=_x(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Nx(e):Ze=t,nm.current=null}function Nx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iD(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Ze=null;return}}else if(n=rD(n,t,zt),n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);nt===0&&(nt=5)}function Hr(e,t,n){var r=Te,i=on.transition;try{on.transition=null,Te=1,hD(e,t,n,r)}finally{on.transition=i,Te=r}return null}function hD(e,t,n,r){do ns();while(cr!==null);if(ye&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kb(e,s),e===at&&(Ze=at=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,$x(Yl,function(){return ns(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=Te;Te=1;var a=ye;ye|=4,nm.current=null,oD(e,n),bx(n,e),Rk(Yh),Jl=!!Qh,Yh=Qh=null,e.current=n,aD(n),Mb(),ye=a,Te=o,on.transition=s}else e.current=n;if(dl&&(dl=!1,cr=e,pu=i),s=e.pendingLanes,s===0&&(yr=null),jb(n.stateNode),jt(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fu)throw fu=!1,e=yf,yf=null,e;return pu&1&&e.tag!==0&&ns(),s=e.pendingLanes,s&1?e===vf?mo++:(mo=0,vf=e):mo=0,Or(),null}function ns(){if(cr!==null){var e=cw(pu),t=on.transition,n=Te;try{if(on.transition=null,Te=16>e?16:e,cr===null)var r=!1;else{if(e=cr,cr=null,pu=0,ye&6)throw Error(N(331));var i=ye;for(ye|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:fo(8,c,s)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var d=c.sibling,f=c.return;if(Ex(c),c===u){j=null;break}if(d!==null){d.return=f,j=d;break}j=f}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,j=v;break e}j=s.return}}var p=e.current;for(j=p;j!==null;){o=j;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,j=y;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cc(9,a)}}catch(C){Be(a,a.return,C)}if(a===o){j=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,j=S;break e}j=a.return}}if(ye=i,Or(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(nc,e)}catch{}r=!0}return r}finally{Te=n,on.transition=t}}return!1}function ov(e,t,n){t=hs(n,t),t=dx(e,t,1),e=gr(e,t,1),t=Nt(),e!==null&&(ma(e,1,t),jt(e,t))}function Be(e,t,n){if(e.tag===3)ov(e,e,n);else for(;t!==null;){if(t.tag===3){ov(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){e=hs(n,e),e=hx(t,e,1),t=gr(t,e,1),e=Nt(),t!==null&&(ma(t,1,e),jt(t,e));break}}t=t.return}}function fD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(ht&n)===n&&(nt===4||nt===3&&(ht&130023424)===ht&&500>We()-im?si(e,0):rm|=n),jt(e,t)}function Rx(e,t){t===0&&(e.mode&1?(t=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):t=1);var n=Nt();e=Gn(e,t),e!==null&&(ma(e,t,n),jt(e,n))}function pD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rx(e,n)}function mD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Rx(e,n)}var _x;_x=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,nD(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,Ne&&t.flags&1048576&&Ow(t,su,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ll(e,t),e=t.pendingProps;var i=ls(t,bt.current);ts(t,n),i=Xp(null,t,r,e,i,n);var s=Jp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(r)?(s=!0,ru(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kp(t),i.updater=lc,t.stateNode=i,i._reactInternals=t,of(t,r,e,n),t=uf(null,t,r,!0,s,n)):(t.tag=0,Ne&&s&&Vp(t),Dt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=yD(r),e=fn(r,e),i){case 0:t=lf(null,t,r,e,n);break e;case 1:t=Yy(null,t,r,e,n);break e;case 11:t=qy(null,t,r,e,n);break e;case 14:t=Qy(null,t,r,fn(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fn(r,i),lf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fn(r,i),Yy(e,t,r,i,n);case 3:e:{if(gx(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,jw(e,t),lu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=hs(Error(N(423)),t),t=Xy(e,t,r,n,i);break e}else if(r!==i){i=hs(Error(N(424)),t),t=Xy(e,t,r,n,i);break e}else for(Ht=mr(t.stateNode.containerInfo.firstChild),Wt=t,Ne=!0,mn=null,n=Hw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),r===i){t=qn(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return Ww(t),e===null&&nf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Xh(r,i)?o=null:s!==null&&Xh(r,s)&&(t.flags|=32),mx(e,t),Dt(e,t,o,n),t.child;case 6:return e===null&&nf(t),null;case 13:return yx(e,t,n);case 4:return Gp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cs(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fn(r,i),qy(e,t,r,i,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,be(ou,r._currentValue),r._currentValue=o,s!==null)if(wn(s.value,o)){if(s.children===i.children&&!Ft.current){t=qn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Un(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ts(t,n),i=cn(i),r=r(i),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,i=fn(r,t.pendingProps),i=fn(r.type,i),Qy(e,t,r,i,n);case 15:return fx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fn(r,i),Ll(e,t),t.tag=1,Vt(r)?(e=!0,ru(t)):e=!1,ts(t,n),Uw(t,r,i),of(t,r,i,n),uf(null,t,r,!0,e,n);case 19:return vx(e,t,n);case 22:return px(e,t,n)}throw Error(N(156,t.tag))};function $x(e,t){return ow(e,t)}function gD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new gD(e,t,n,r)}function lm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yD(e){if(typeof e=="function")return lm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dp)return 11;if(e===Ap)return 14}return 2}function wr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")lm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $i:return oi(n.children,i,s,t);case kp:o=8,i|=8;break;case Ih:return e=rn(12,n,t,i|2),e.elementType=Ih,e.lanes=s,e;case Ph:return e=rn(13,n,t,i),e.elementType=Ph,e.lanes=s,e;case Nh:return e=rn(19,n,t,i),e.elementType=Nh,e.lanes=s,e;case z1:return hc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B1:o=10;break e;case U1:o=9;break e;case Dp:o=11;break e;case Ap:o=14;break e;case rr:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=rn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function oi(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function hc(e,t,n,r){return e=rn(22,e,r,t),e.elementType=z1,e.lanes=n,e.stateNode={isHidden:!1},e}function Rd(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function _d(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function um(e,t,n,r,i,s,o,a,l){return e=new vD(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=rn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(s),e}function wD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lx(e){if(!e)return kr;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Vt(n))return $w(e,n,t)}return t}function Ox(e,t,n,r,i,s,o,a,l){return e=um(n,r,!0,e,i,s,o,a,l),e.context=Lx(null),n=e.current,r=Nt(),i=vr(n),s=Un(r,i),s.callback=t??null,gr(n,s,i),e.current.lanes=i,ma(e,i,r),jt(e,r),e}function fc(e,t,n,r){var i=t.current,s=Nt(),o=vr(i);return n=Lx(n),t.context===null?t.context=n:t.pendingContext=n,t=Un(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gr(i,t,o),e!==null&&(vn(e,i,o,s),Rl(e,i,o)),o}function gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cm(e,t){av(e,t),(e=e.alternate)&&av(e,t)}function xD(){return null}var Mx=typeof reportError=="function"?reportError:function(e){console.error(e)};function dm(e){this._internalRoot=e}pc.prototype.render=dm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));fc(e,t,null,null)};pc.prototype.unmount=dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mi(function(){fc(null,e,null,null)}),t[Kn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=fw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<or.length&&t!==0&&t<or[n].priority;n++);or.splice(n,0,e),n===0&&mw(e)}};function hm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lv(){}function SD(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gu(o);s.call(u)}}var o=Ox(t,r,e,0,null,!1,!1,"",lv);return e._reactRootContainer=o,e[Kn]=o.current,Fo(e.nodeType===8?e.parentNode:e),mi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gu(l);a.call(u)}}var l=um(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[Kn]=l.current,Fo(e.nodeType===8?e.parentNode:e),mi(function(){fc(t,l,n,r)}),l}function gc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gu(o);a.call(l)}}fc(t,o,e,i)}else o=SD(n,t,e,i,r);return gu(o)}dw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zs(t.pendingLanes);n!==0&&(Np(t,n|1),jt(t,We()),!(ye&6)&&(fs=We()+500,Or()))}break;case 13:mi(function(){var r=Gn(e,1);if(r!==null){var i=Nt();vn(r,e,1,i)}}),cm(e,1)}};Rp=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=Nt();vn(t,e,134217728,n)}cm(e,134217728)}};hw=function(e){if(e.tag===13){var t=vr(e),n=Gn(e,t);if(n!==null){var r=Nt();vn(n,e,t,r)}cm(e,t)}};fw=function(){return Te};pw=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};Bh=function(e,t,n){switch(t){case"input":if($h(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oc(r);if(!i)throw Error(N(90));W1(r),$h(r,i)}}}break;case"textarea":G1(e,n);break;case"select":t=n.value,t!=null&&Xi(e,!!n.multiple,t,!1)}};ew=sm;tw=mi;var ED={usingClientEntryPoint:!1,Events:[ya,Fi,oc,J1,Z1,sm]},zs={findFiberByHostInstance:Yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TD={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iw(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||xD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{nc=hl.inject(TD),Dn=hl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ED;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(t))throw Error(N(200));return wD(e,t,null,n)};Yt.createRoot=function(e,t){if(!hm(e))throw Error(N(299));var n=!1,r="",i=Mx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=um(e,1,!1,null,null,n,!1,r,i),e[Kn]=t.current,Fo(e.nodeType===8?e.parentNode:e),new dm(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=iw(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return mi(e)};Yt.hydrate=function(e,t,n){if(!mc(t))throw Error(N(200));return gc(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!hm(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ox(t,null,e,1,n??null,i,!1,s,o),e[Kn]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pc(t)};Yt.render=function(e,t,n){if(!mc(t))throw Error(N(200));return gc(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!mc(e))throw Error(N(40));return e._reactRootContainer?(mi(function(){gc(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};Yt.unstable_batchedUpdates=sm;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mc(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return gc(e,t,n,!1,r)};Yt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Yt})(xb);var uv=Kl;kh.createRoot=uv.createRoot,kh.hydrateRoot=uv.hydrateRoot;const Fx=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yc=m.createContext({}),vc=m.createContext(null),wc=typeof document<"u",yu=wc?m.useLayoutEffect:m.useEffect,Vx=m.createContext({strict:!1});function CD(e,t,n,r){const{visualElement:i}=m.useContext(yc),s=m.useContext(Vx),o=m.useContext(vc),a=m.useContext(Fx).reducedMotion,l=m.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return m.useInsertionEffect(()=>{u&&u.update(n,o)}),yu(()=>{u&&u.render()}),m.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?yu:m.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Wi(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bD(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wi(n)&&(n.current=r))},[t])}function Go(e){return typeof e=="string"||Array.isArray(e)}function xc(e){return typeof e=="object"&&typeof e.start=="function"}const fm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pm=["initial",...fm];function Sc(e){return xc(e.animate)||pm.some(t=>Go(e[t]))}function jx(e){return Boolean(Sc(e)||e.variants)}function kD(e,t){if(Sc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Go(n)?n:void 0,animate:Go(r)?r:void 0}}return e.inherit!==!1?t:{}}function DD(e){const{initial:t,animate:n}=kD(e,m.useContext(yc));return m.useMemo(()=>({initial:t,animate:n}),[cv(t),cv(n)])}function cv(e){return Array.isArray(e)?e.join(" "):e}const dv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const e in dv)qo[e]={isEnabled:t=>dv[e].some(n=>!!t[n])};function AD(e){for(const t in e)qo[t]={...qo[t],...e[t]}}function mm(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const go={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ID=1;function PD(){return mm(()=>{if(go.hasEverUpdated)return ID++})}const gm=m.createContext({}),Bx=m.createContext({}),ND=Symbol.for("motionComponentSymbol");function RD({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&AD(e);function s(a,l){let u;const c={...m.useContext(Fx),...a,layoutId:_D(a)},{isStatic:h}=c,d=DD(a),f=h?void 0:PD(),g=r(a,h);if(!h&&wc){d.visualElement=CD(i,g,c,t);const w=m.useContext(Bx),x=m.useContext(Vx).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,x,e,f,w))}return m.createElement(yc.Provider,{value:d},u&&d.visualElement?m.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,f,bD(g,d.visualElement,l),g,h,d.visualElement))}const o=m.forwardRef(s);return o[ND]=i,o}function _D({layoutId:e}){const t=m.useContext(gm).id;return t&&e!==void 0?t+"-"+e:e}function $D(e){function t(r,i={}){return RD(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const LD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ym(e){return typeof e!="string"||e.includes("-")?!1:!!(LD.indexOf(e)>-1||/[A-Z]/.test(e))}const vu={};function OD(e){Object.assign(vu,e)}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ti=new Set(Ec);function Ux(e,{layout:t,layoutId:n}){return Ti.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vu[e]||e==="opacity")}const Ut=e=>Boolean(e&&e.getVelocity),MD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FD=Ec.length;function VD(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<FD;o++){const a=Ec[o];if(e[a]!==void 0){const l=MD[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const zx=e=>t=>typeof t=="string"&&t.startsWith(e),Hx=zx("--"),Sf=zx("var(--"),jD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gi=(e,t,n)=>Math.min(Math.max(n,e),t),Ci={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yo={...Ci,transform:e=>gi(0,1,e)},fl={...Ci,default:1},vo=e=>Math.round(e*1e5)/1e5,Qo=/(-)?([\d]*\.?[\d])+/g,Ef=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,BD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wa(e){return typeof e=="string"}const xa=e=>({test:t=>wa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nr=xa("deg"),In=xa("%"),se=xa("px"),UD=xa("vh"),zD=xa("vw"),hv={...In,parse:e=>In.parse(e)/100,transform:e=>In.transform(e*100)},fv={...Ci,transform:Math.round},Wx={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:fl,scaleX:fl,scaleY:fl,scaleZ:fl,skew:nr,skewX:nr,skewY:nr,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:yo,originX:hv,originY:hv,originZ:se,zIndex:fv,fillOpacity:yo,strokeOpacity:yo,numOctaves:fv};function vm(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const d=t[h];if(Hx(h)){s[h]=d;continue}const f=Wx[h],g=jD(d,f);if(Ti.has(h)){if(l=!0,o[h]=g,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(t.transform||(l||r?i.transform=VD(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const wm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kx(e,t,n){for(const r in t)!Ut(t[r])&&!Ux(r,n)&&(e[r]=t[r])}function HD({transformTemplate:e},t,n){return m.useMemo(()=>{const r=wm();return vm(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function WD(e,t,n){const r=e.style||{},i={};return Kx(i,r,e),Object.assign(i,HD(e,t,n)),e.transformValues?e.transformValues(i):i}function KD(e,t,n){const r={},i=WD(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const GD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function wu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||GD.has(e)}let Gx=e=>!wu(e);function qD(e){e&&(Gx=t=>t.startsWith("on")?!wu(t):e(t))}try{qD(require("@emotion/is-prop-valid").default)}catch{}function QD(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Gx(i)||n===!0&&wu(i)||!t&&!wu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function pv(e,t,n){return typeof e=="string"?e:se.transform(t+n*e)}function YD(e,t,n){const r=pv(t,e.x,e.width),i=pv(n,e.y,e.height);return`${r} ${i}`}const XD={offset:"stroke-dashoffset",array:"stroke-dasharray"},JD={offset:"strokeDashoffset",array:"strokeDasharray"};function ZD(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?XD:JD;e[s.offset]=se.transform(-r);const o=se.transform(t),a=se.transform(n);e[s.array]=`${o} ${a}`}function xm(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,h){if(vm(e,l,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f,dimensions:g}=e;d.transform&&(g&&(f.transform=d.transform),delete d.transform),g&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=YD(g,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),s!==void 0&&ZD(d,s,o,a,!1)}const qx=()=>({...wm(),attrs:{}}),Sm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eA(e,t,n,r){const i=m.useMemo(()=>{const s=qx();return xm(s,t,{enableHardwareAcceleration:!1},Sm(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Kx(s,e.style,e),i.style={...s,...i.style}}return i}function tA(e=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(ym(n)?eA:KD)(r,o,a,n),h={...QD(r,typeof n=="string",e),...u,ref:s},{children:d}=r,f=m.useMemo(()=>Ut(d)?d.get():d,[d]);return i&&(h["data-projection-id"]=i),m.createElement(n,{...h,children:f})}}const Em=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Qx(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Yx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xx(e,t,n,r){Qx(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Yx.has(i)?i:Em(i),t.attrs[i])}function Tm(e,t){const{style:n}=e,r={};for(const i in n)(Ut(n[i])||t.style&&Ut(t.style[i])||Ux(i,e))&&(r[i]=n[i]);return r}function Jx(e,t){const n=Tm(e,t);for(const r in e)if(Ut(e[r])||Ut(t[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=e[r]}return n}function Cm(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}const xu=e=>Array.isArray(e),nA=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),rA=e=>xu(e)?e[e.length-1]||0:e;function Vl(e){const t=Ut(e)?e.get():e;return nA(t)?t.toValue():t}function iA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:sA(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Zx=e=>(t,n)=>{const r=m.useContext(yc),i=m.useContext(vc),s=()=>iA(e,t,r,i);return n?s():mm(s)};function sA(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Vl(s[d]);let{initial:o,animate:a}=e;const l=Sc(e),u=jx(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!xc(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const g=Cm(e,f);if(!g)return;const{transitionEnd:w,transition:x,...v}=g;for(const p in v){let y=v[p];if(Array.isArray(y)){const S=c?y.length-1:0;y=y[S]}y!==null&&(i[p]=y)}for(const p in w)i[p]=w[p]}),i}const oA={useVisualState:Zx({scrapeMotionValuesFromProps:Jx,createRenderState:qx,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}xm(n,r,{enableHardwareAcceleration:!1},Sm(t.tagName),e.transformTemplate),Xx(t,n)}})},aA={useVisualState:Zx({scrapeMotionValuesFromProps:Tm,createRenderState:wm})};function lA(e,{forwardMotionProps:t=!1},n,r){return{...ym(e)?oA:aA,preloadedFeatures:n,useRender:tA(t),createVisualElement:r,Component:e}}function Vn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const eS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Tc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const uA=e=>t=>eS(t)&&e(t,Tc(t));function zn(e,t,n,r){return Vn(e,t,uA(n),r)}const cA=(e,t)=>n=>t(e(n)),xr=(...e)=>e.reduce(cA);function tS(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const mv=tS("dragHorizontal"),gv=tS("dragVertical");function nS(e){let t=!1;if(e==="y")t=gv();else if(e==="x")t=mv();else{const n=mv(),r=gv();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function rS(){const e=nS(!0);return e?(e(),!1):!0}class Mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function dA(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?t:n;return u&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&i&&(r=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let u=0;u<r;u++){const c=t[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const Sr={delta:0,timestamp:0},hA=40;let Tf=!0,Yo=!1,Cf=!1;const Sa=["read","update","preRender","render","postRender"],Cc=Sa.reduce((e,t)=>(e[t]=dA(()=>Yo=!0),e),{}),Ie=Sa.reduce((e,t)=>{const n=Cc[t];return e[t]=(r,i=!1,s=!1)=>(Yo||pA(),n.schedule(r,i,s)),e},{}),Dr=Sa.reduce((e,t)=>(e[t]=Cc[t].cancel,e),{}),$d=Sa.reduce((e,t)=>(e[t]=()=>Cc[t].process(Sr),e),{}),fA=e=>Cc[e].process(Sr),iS=e=>{Yo=!1,Sr.delta=Tf?1e3/60:Math.max(Math.min(e-Sr.timestamp,hA),1),Sr.timestamp=e,Cf=!0,Sa.forEach(fA),Cf=!1,Yo&&(Tf=!1,requestAnimationFrame(iS))},pA=()=>{Yo=!0,Tf=!0,Cf||requestAnimationFrame(iS)};function yv(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||rS())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Ie.update(()=>a[r](s,o))};return zn(e.current,n,i,{passive:!e.getProps()[r]})}class mA extends Mr{mount(){this.unmount=xr(yv(this.node,!0),yv(this.node,!1))}unmount(){}}class gA extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xr(Vn(this.node.current,"focus",()=>this.onFocus()),Vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sS=(e,t)=>t?e===t?!0:sS(e,t.parentElement):!1,an=e=>e;function Ld(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Tc(n))}class yA extends Mr{constructor(){super(...arguments),this.removeStartListeners=an,this.removeEndListeners=an,this.removeAccessibleListeners=an,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=zn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Ie.update(()=>{sS(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=zn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xr(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ld("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ie.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Vn(this.node.current,"keyup",o),Ld("down",(a,l)=>{this.startPress(a,l)})},n=Vn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ld("cancel",(s,o)=>this.cancelPress(s,o))},i=Vn(this.node.current,"blur",r);this.removeAccessibleListeners=xr(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ie.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rS()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ie.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=zn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bf=new WeakMap,Od=new WeakMap,vA=e=>{const t=bf.get(e.target);t&&t(e)},wA=e=>{e.forEach(vA)};function xA({root:e,...t}){const n=e||document;Od.has(n)||Od.set(n,{});const r=Od.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(wA,{root:e,...t})),r[i]}function SA(e,t,n){const r=xA(t);return bf.set(e,n),r.observe(e),()=>{bf.delete(e),r.unobserve(e)}}const EA={some:0,all:1};class TA extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:EA[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return SA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CA(t,n))&&this.startObserver()}unmount(){}}function CA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bA={inView:{Feature:TA},tap:{Feature:yA},focus:{Feature:gA},hover:{Feature:mA}};function oS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const kA=e=>/^\-?\d*\.?\d+$/.test(e),DA=e=>/^0[^.\s]+$/.test(e);function bm(e,t){e.indexOf(t)===-1&&e.push(t)}function km(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dm{constructor(){this.subscriptions=[]}add(t){return bm(this.subscriptions,t),()=>km(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aS(e,t){return t?e*(1e3/t):0}const AA=e=>!isNaN(parseFloat(e));class IA{constructor(t,n={}){this.version="10.2.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Sr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=AA(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dm);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?aS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ps(e,t){return new IA(e,t)}const Am=(e,t)=>n=>Boolean(wa(n)&&BD.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),lS=(e,t,n)=>r=>{if(!wa(r))return r;const[i,s,o,a]=r.match(Qo);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PA=e=>gi(0,255,e),Md={...Ci,transform:e=>Math.round(PA(e))},Zr={test:Am("rgb","red"),parse:lS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Md.transform(e)+", "+Md.transform(t)+", "+Md.transform(n)+", "+vo(yo.transform(r))+")"};function NA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kf={test:Am("#"),parse:NA,transform:Zr.transform},Ki={test:Am("hsl","hue"),parse:lS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+In.transform(vo(t))+", "+In.transform(vo(n))+", "+vo(yo.transform(r))+")"},kt={test:e=>Zr.test(e)||kf.test(e)||Ki.test(e),parse:e=>Zr.test(e)?Zr.parse(e):Ki.test(e)?Ki.parse(e):kf.parse(e),transform:e=>wa(e)?e:e.hasOwnProperty("red")?Zr.transform(e):Ki.transform(e)},uS="${c}",cS="${n}";function RA(e){var t,n;return isNaN(e)&&wa(e)&&(((t=e.match(Qo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ef))===null||n===void 0?void 0:n.length)||0)>0}function Su(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,r=0;const i=e.match(Ef);i&&(n=i.length,e=e.replace(Ef,uS),t.push(...i.map(kt.parse)));const s=e.match(Qo);return s&&(r=s.length,e=e.replace(Qo,cS),t.push(...s.map(Ci.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function dS(e){return Su(e).values}function hS(e){const{values:t,numColors:n,tokenised:r}=Su(e),i=t.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?uS:cS,a<n?kt.transform(s[a]):vo(s[a]));return o}}const _A=e=>typeof e=="number"?0:e;function $A(e){const t=dS(e);return hS(e)(t.map(_A))}const Ar={test:RA,parse:dS,createTransformer:hS,getAnimatableNone:$A},LA=new Set(["brightness","contrast","saturate","opacity"]);function OA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qo)||[];if(!r)return e;const i=n.replace(r,"");let s=LA.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const MA=/([a-z-]*)\(.*?\)/g,Df={...Ar,getAnimatableNone:e=>{const t=e.match(MA);return t?t.map(OA).join(" "):e}},FA={...Wx,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Df,WebkitFilter:Df},Im=e=>FA[e];function Pm(e,t){let n=Im(e);return n!==Df&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fS=e=>t=>t.test(e),VA={test:e=>e==="auto",parse:e=>e},pS=[Ci,se,In,nr,zD,UD,VA],Hs=e=>pS.find(fS(e)),jA=[...pS,kt,Ar],BA=e=>jA.find(fS(e));function UA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function zA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function bc(e,t,n){const r=e.getProps();return Cm(r,t,n!==void 0?n:r.custom,UA(e),zA(e))}function HA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ps(n))}function WA(e,t){const n=bc(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=rA(s[o]);HA(e,o,a)}}function KA(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(kA(c)||DA(c))?c=parseFloat(c):!BA(c)&&Ar.test(u)&&(c=Pm(l,u)),e.addValue(l,ps(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function GA(e,t){return t?(t[e]||t.default||t).from:void 0}function qA(e,t,n){const r={};for(const i in e){const s=GA(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Eu(e){return Boolean(Ut(e)&&e.add)}const QA="framerAppearId",YA="data-"+Em(QA);let XA=an,Tu=an;const Er=e=>e*1e3,ms=e=>e/1e3,JA={current:!1};function ZA(e){return!e||Array.isArray(e)||typeof e=="string"&&mS[e]}const to=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,mS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:to([0,.65,.55,1]),circOut:to([.55,0,1,.45]),backIn:to([.31,.01,.66,-.59]),backOut:to([.33,1.53,.69,.99])};function eI(e){if(e)return Array.isArray(e)?to(e):mS[e]}function tI(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};return l&&(u.offset=l),e.animate(u,{delay:r,duration:i,easing:eI(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const vv={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Fd={},gS={};for(const e in vv)gS[e]=()=>(Fd[e]===void 0&&(Fd[e]=vv[e]()),Fd[e]);function nI(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Nm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rm=e=>t=>1-e(1-t),_m=e=>e*e,rI=Rm(_m),yS=Nm(_m),Le=(e,t,n)=>-n*e+n*t+e;function Vd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function iI({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Vd(l,a,e+1/3),s=Vd(l,a,e),o=Vd(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const jd=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},sI=[kf,Zr,Ki],oI=e=>sI.find(t=>t.test(e));function wv(e){const t=oI(e);let n=t.parse(e);return t===Ki&&(n=iI(n)),n}const vS=(e,t)=>{const n=wv(e),r=wv(t),i={...n};return s=>(i.red=jd(n.red,r.red,s),i.green=jd(n.green,r.green,s),i.blue=jd(n.blue,r.blue,s),i.alpha=Le(n.alpha,r.alpha,s),Zr.transform(i))};function wS(e,t){return typeof e=="number"?n=>Le(e,t,n):kt.test(e)?vS(e,t):SS(e,t)}const xS=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>wS(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},aI=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=wS(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},SS=(e,t)=>{const n=Ar.createTransformer(t),r=Su(e),i=Su(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?xr(xS(r.values,i.values),n):o=>`${o>0?t:e}`},Xo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},xv=(e,t)=>n=>Le(e,t,n);function lI(e){return typeof e=="number"?xv:typeof e=="string"?kt.test(e)?vS:SS:Array.isArray(e)?xS:typeof e=="object"?aI:xv}function uI(e,t,n){const r=[],i=n||lI(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]:t;a=xr(l,a)}r.push(a)}return r}function ES(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;Tu(s===t.length),Tu(!r||!Array.isArray(r)||r.length===s-1),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=uI(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=Xo(e[c],e[c+1],u);return o[c](h)};return n?u=>l(gi(e[0],e[s-1],u)):l}function cI(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Xo(0,t,r);e.push(Le(n,1,i))}}function dI(e){const t=[0];return cI(t,e.length-1),t}function hI(e,t){return e.map(n=>n*t)}const TS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fI=1e-7,pI=12;function mI(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=TS(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>fI&&++a<pI);return o}function CS(e,t,n,r){if(e===t&&n===r)return an;const i=s=>mI(s,0,1,e,n);return s=>s===0||s===1?s:TS(i(s),t,r)}const bS=e=>1-Math.sin(Math.acos(e)),$m=Rm(bS),gI=Nm($m),kS=CS(.33,1.53,.69,.99),Lm=Rm(kS),yI=Nm(Lm),vI=e=>(e*=2)<1?.5*Lm(e):.5*(2-Math.pow(2,-10*(e-1))),wI={linear:an,easeIn:_m,easeInOut:yS,easeOut:rI,circIn:bS,circInOut:gI,circOut:$m,backIn:Lm,backInOut:yI,backOut:kS,anticipate:vI},Sv=e=>{if(Array.isArray(e)){Tu(e.length===4);const[t,n,r,i]=e;return CS(t,n,r,i)}else if(typeof e=="string")return wI[e];return e},xI=e=>Array.isArray(e)&&typeof e[0]!="number";function SI(e,t){return e.map(()=>t||yS).splice(0,e.length-1)}function Cu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=xI(r)?r.map(Sv):Sv(r),s={done:!1,value:t[0]},o=hI(n&&n.length===t.length?n:dI(t),e),a=ES(o,t,{ease:Array.isArray(i)?i:SI(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const EI=5;function DS(e,t,n){const r=Math.max(t-EI,0);return aS(n-e(r),t-r)}const Bd=.001,TI=.01,Ev=10,CI=.05,bI=1;function kI({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;XA(e<=Er(Ev));let o=1-t;o=gi(CI,bI,o),e=gi(TI,Ev,ms(e)),o<1?(i=u=>{const c=u*o,h=c*e,d=c-n,f=Af(u,o),g=Math.exp(-h);return Bd-d/f*g},s=u=>{const h=u*o*e,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),w=Af(Math.pow(u,2),o);return(-i(u)+Bd>0?-1:1)*((d-f)*g)/w}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Bd+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=AI(i,s,a);if(e=Er(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const DI=12;function AI(e,t,n){let r=n;for(let i=1;i<DI;i++)r=r-e(r)/t(r);return r}function Af(e,t){return e*Math.sqrt(1-t*t)}const II=["duration","bounce"],PI=["stiffness","damping","mass"];function Tv(e,t){return t.some(n=>e[n]!==void 0)}function NI(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Tv(e,PI)&&Tv(e,II)){const n=kI(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function AS({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=NI(r),f=c?-ms(c):0,g=l/(2*Math.sqrt(a*u)),w=s-i,x=ms(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let p;if(g<1){const y=Af(x,g);p=S=>{const C=Math.exp(-g*x*S);return s-C*((f+g*x*w)/y*Math.sin(y*S)+w*Math.cos(y*S))}}else if(g===1)p=y=>s-Math.exp(-x*y)*(w+(f+x*w)*y);else{const y=x*Math.sqrt(g*g-1);p=S=>{const C=Math.exp(-g*x*S),A=Math.min(y*S,300);return s-C*((f+g*x*w)*Math.sinh(A)+y*w*Math.cosh(A))/y}}return{calculatedDuration:d&&h||null,next:y=>{const S=p(y);if(d)o.done=y>=h;else{let C=f;y!==0&&(g<1?C=DS(p,y,S):C=0);const A=Math.abs(C)<=n,D=Math.abs(s-S)<=t;o.done=A&&D}return o.value=o.done?s:S,o}}}function Cv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],d={done:!1,value:h},f=b=>a!==void 0&&b<a||l!==void 0&&b>l,g=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let w=n*t;const x=h+w,v=o===void 0?x:o(x);v!==x&&(w=v-h);const p=b=>-w*Math.exp(-b/r),y=b=>v+p(b),S=b=>{const M=p(b),F=y(b);d.done=Math.abs(M)<=u,d.value=d.done?v:F};let C,A;const D=b=>{f(d.value)&&(C=b,A=AS({keyframes:[d.value,g(d.value)],velocity:DS(y,b,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return D(0),{calculatedDuration:null,next:b=>{let M=!1;return!A&&C===void 0&&(M=!0,S(b),D(b)),C!==void 0&&b>C?A.next(b-C):(!M&&S(b),d)}}}const RI=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ie.update(t,!0),stop:()=>Dr.update(t),now:()=>performance.now()}},_I={decay:Cv,inertia:Cv,tween:Cu,keyframes:Cu,spring:AS},$I=2e4;function LI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$I;)t+=n,r=e.next(t);return t}function bu({autoplay:e=!0,delay:t=0,driver:n=RI,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f;const g=_I[i]||Cu;let w;g!==Cu&&typeof r[0]!="number"&&(w=ES([0,100],r,{clamp:!1}),r=[0,100]);const x=g({...d,keyframes:r});let v;a==="mirror"&&(v=g({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let p="idle",y=null,S=null;x.calculatedDuration===null&&s&&(x.calculatedDuration=LI(x));const{calculatedDuration:C}=x;let A=1/0,D=1/0;C&&(A=C+o,D=A*(s+1)-o);let b=0;const M=U=>{if(S===null)return;y!==null?b=y:b=U-S,b=Math.max(b-t,0),p==="finished"&&y===null&&(b=D);let B=b,le=x;if(s){const z=b/A;let X=Math.floor(z),J=z%1;!J&&z>=1&&(J=1),J===1&&X--;const we=X%2;we&&(a==="reverse"?(J=1-J,o&&(J-=o/A)):a==="mirror"&&(le=v)),B=(b>=D?a==="reverse"&&we?0:1:gi(0,1,J))*A}const re=le.next(B);let{value:ue,done:ve}=re;return h&&h(w?w(ue):ue),C!==null&&(ve=b>=D),y===null&&(p==="finished"||p==="running"&&ve)&&(p="finished",c&&c(),f&&f.stop()),re};return e&&(()=>{f=n(M);const U=f.now();l&&l(),p="running",y!==null?S=U-y:S||(S=U),y=null,f.start()})(),{get currentTime(){return ms(b)},set currentTime(U){y!==null||!f?y=0:S=f.now()-Er(U)},stop:()=>{u&&u(),f&&f.stop()},sample:U=>(S=0,M(U))}}const OI=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),pl=10,MI=2e4,FI=(e,t)=>t.type==="spring"||e==="backgroundColor"||!ZA(t.ease);function VI(e,t,{onUpdate:n,onComplete:r,...i}){if(!(gS.waapi()&&OI.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let{keyframes:o,duration:a=300,ease:l}=i;if(FI(t,i)){const c=bu({...i,repeat:0,delay:0});let h={done:!1,value:o[0]};const d=[];let f=0;for(;!h.done&&f<MI;)h=c.sample(f),d.push(h.value),f+=pl;o=d,a=f-pl,l="linear"}const u=tI(e.owner.current,t,o,{...i,duration:a,ease:l});return u.onfinish=()=>{e.set(nI(o,i)),Ie.update(()=>u.cancel()),r&&r()},{get currentTime(){return ms(u.currentTime||0)},set currentTime(c){u.currentTime=Er(c)},stop:()=>{const{currentTime:c}=u;if(c){const h=bu({...i,autoplay:!1});e.setWithVelocity(h.sample(c-pl).value,h.sample(c).value,pl)}Ie.update(()=>u.cancel())}}}function jI({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{stop:()=>{},currentTime:0});return t?bu({keyframes:[0,1],duration:t,onComplete:i}):i()}const BI={type:"spring",stiffness:500,damping:25,restSpeed:10},UI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zI={type:"keyframes",duration:.8},HI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WI=(e,{keyframes:t})=>t.length>2?zI:Ti.has(e)?e.startsWith("scale")?UI(t[1]):BI:HI,If=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Ar.test(t)&&!t.startsWith("url("));function KI({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function bv(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function kv(e){return typeof e=="number"?0:Pm("",e)}function IS(e,t){return e[t]||e.default||e}function GI(e,t,n,r){const i=If(t,n);let s=r.from!==void 0?r.from:e.get();return s==="none"&&i&&typeof n=="string"?s=Pm(t,n):bv(s)&&typeof n=="string"?s=kv(n):!Array.isArray(n)&&bv(n)&&typeof s=="string"&&(n=kv(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const Om=(e,t,n,r={})=>i=>{const s=IS(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Er(o);const l=GI(t,e,n,s),u=l[0],c=l[l.length-1],h=If(e,u),d=If(e,c);let f={keyframes:l,velocity:t.getVelocity(),...s,delay:-a,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!h||!d||JA.current||s.type===!1)return jI(f);if(KI(s)||(f={...f,...WI(e,f)}),f.duration&&(f.duration=Er(f.duration)),f.repeatDelay&&(f.repeatDelay=Er(f.repeatDelay)),t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=VI(t,e,f);if(g)return g}return bu(f)};function qI(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Pf(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Pf(e,t,n);else{const i=typeof t=="function"?bc(e,t,n.custom):t;r=PS(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}function Pf(e,t,n={}){const r=bc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>PS(e,r,n):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return QI(e,t,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(n.delay)])}function PS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const d=e.getValue(h),f=a[h];if(!d||f===void 0||c&&XI(c,h))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const x=e.getProps()[YA];x&&(g.elapsed=window.HandoffAppearAnimations(x,h,d,Ie))}let w=d.start(Om(h,d,f,e.shouldReduceMotion&&Ti.has(h)?{type:!1}:g));Eu(l)&&(l.add(h),w=w.then(()=>l.remove(h))),u.push(w)}return Promise.all(u).then(()=>{o&&WA(e,o)})}function QI(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(YI).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Pf(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function YI(e,t){return e.sortNodePosition(t)}function XI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}const JI=[...fm].reverse(),ZI=fm.length;function eP(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qI(e,n,r)))}function tP(e){let t=eP(e);const n=rP();let r=!0;const i=(l,u)=>{const c=bc(e,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},d=[],f=new Set;let g={},w=1/0;for(let v=0;v<ZI;v++){const p=JI[v],y=n[p],S=c[p]!==void 0?c[p]:h[p],C=Go(S),A=p===u?y.isActive:null;A===!1&&(w=v);let D=S===h[p]&&S!==c[p]&&C;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...g},!y.isActive&&A===null||!S&&!y.prevProp||xc(S)||typeof S=="boolean")continue;const b=nP(y.prevProp,S);let M=b||p===u&&y.isActive&&!D&&C||v>w&&C;const F=Array.isArray(S)?S:[S];let O=F.reduce(i,{});A===!1&&(O={});const{prevResolvedValues:U={}}=y,B={...U,...O},le=re=>{M=!0,f.delete(re),y.needsAnimating[re]=!0};for(const re in B){const ue=O[re],ve=U[re];g.hasOwnProperty(re)||(ue!==ve?xu(ue)&&xu(ve)?!oS(ue,ve)||b?le(re):y.protectedKeys[re]=!0:ue!==void 0?le(re):f.add(re):ue!==void 0&&f.has(re)?le(re):y.protectedKeys[re]=!0)}y.prevProp=S,y.prevResolvedValues=O,y.isActive&&(g={...g,...O}),r&&e.blockInitialAnimation&&(M=!1),M&&!D&&d.push(...F.map(re=>({animation:re,options:{type:p,...l}})))}if(f.size){const v={};f.forEach(p=>{const y=e.getBaseTarget(p);y!==void 0&&(v[p]=y)}),d.push({animation:v})}let x=Boolean(d.length);return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function nP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oS(t,e):!1}function Br(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rP(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class iP extends Mr{constructor(t){super(t),t.animationState||(t.animationState=tP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),xc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let sP=0;class oP extends Mr{constructor(){super(...arguments),this.id=sP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aP={animation:{Feature:iP},exit:{Feature:oP}},Dv=(e,t)=>Math.abs(e-t);function lP(e,t){const n=Dv(e.x,t.x),r=Dv(e.y,t.y);return Math.sqrt(n**2+r**2)}class NS{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=zd(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=lP(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=Sr;this.history.push({...d,timestamp:f});const{onStart:g,onMove:w}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Ud(c,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=zd(u.type==="pointercancel"?this.lastMoveEventInfo:Ud(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!eS(t))return;this.handlers=n,this.transformPagePoint=r;const i=Tc(t),s=Ud(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Sr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,zd(s,this.history)),this.removeListeners=xr(zn(window,"pointermove",this.handlePointerMove),zn(window,"pointerup",this.handlePointerUp),zn(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dr.update(this.updatePoint)}}function Ud(e,t){return t?{point:t(e.point)}:e}function Av(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zd({point:e},t){return{point:e,delta:Av(e,RS(t)),offset:Av(e,uP(t)),velocity:cP(t,.1)}}function uP(e){return e[0]}function RS(e){return e[e.length-1]}function cP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=RS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Er(t)));)n--;if(!r)return{x:0,y:0};const s=ms(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gt(e){return e.max-e.min}function Nf(e,t=0,n=.01){return Math.abs(e-t)<=n}function Iv(e,t,n,r=.5){e.origin=r,e.originPoint=Le(t.min,t.max,e.origin),e.scale=Gt(n)/Gt(t),(Nf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Le(n.min,n.max,e.origin)-e.originPoint,(Nf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wo(e,t,n,r){Iv(e.x,t.x,n.x,r?r.originX:void 0),Iv(e.y,t.y,n.y,r?r.originY:void 0)}function Pv(e,t,n){e.min=n.min+t.min,e.max=e.min+Gt(t)}function dP(e,t,n){Pv(e.x,t.x,n.x),Pv(e.y,t.y,n.y)}function Nv(e,t,n){e.min=t.min-n.min,e.max=e.min+Gt(t)}function xo(e,t,n){Nv(e.x,t.x,n.x),Nv(e.y,t.y,n.y)}function hP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Le(n,e,r.max):Math.min(e,n)),e}function Rv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fP(e,{top:t,left:n,bottom:r,right:i}){return{x:Rv(e.x,n,i),y:Rv(e.y,t,r)}}function _v(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pP(e,t){return{x:_v(e.x,t.x),y:_v(e.y,t.y)}}function mP(e,t){let n=.5;const r=Gt(e),i=Gt(t);return i>r?n=Xo(t.min,t.max-r,e.min):r>i&&(n=Xo(e.min,e.max-i,t.min)),gi(0,1,n)}function gP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rf=.35;function yP(e=Rf){return e===!1?e=0:e===!0&&(e=Rf),{x:$v(e,"left","right"),y:$v(e,"top","bottom")}}function $v(e,t,n){return{min:Lv(e,t),max:Lv(e,n)}}function Lv(e,t){return typeof e=="number"?e:e[t]||0}const Ov=()=>({translate:0,scale:1,origin:0,originPoint:0}),So=()=>({x:Ov(),y:Ov()}),Mv=()=>({min:0,max:0}),Qe=()=>({x:Mv(),y:Mv()});function Tn(e){return[e("x"),e("y")]}function _S({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hd(e){return e===void 0||e===1}function _f({scale:e,scaleX:t,scaleY:n}){return!Hd(e)||!Hd(t)||!Hd(n)}function Wr(e){return _f(e)||$S(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $S(e){return Fv(e.x)||Fv(e.y)}function Fv(e){return e&&e!=="0%"}function ku(e,t,n){const r=e-n,i=t*r;return n+i}function Vv(e,t,n,r,i){return i!==void 0&&(e=ku(e,i,r)),ku(e,n,r)+t}function $f(e,t=0,n=1,r,i){e.min=Vv(e.min,t,n,r,i),e.max=Vv(e.max,t,n,r,i)}function LS(e,{x:t,y:n}){$f(e.x,t.translate,t.scale,t.originPoint),$f(e.y,n.translate,n.scale,n.originPoint)}function xP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gi(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,LS(e,o)),r&&Wr(s.latestValues)&&Gi(e,s.latestValues))}t.x=jv(t.x),t.y=jv(t.y)}function jv(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function sr(e,t){e.min=e.min+t,e.max=e.max+t}function Bv(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=Le(e.min,e.max,s);$f(e,t[n],t[r],o,t.scale)}const SP=["x","scaleX","originX"],EP=["y","scaleY","originY"];function Gi(e,t){Bv(e.x,t,SP),Bv(e.y,t,EP)}function OS(e,t){return _S(wP(e.getBoundingClientRect(),t))}function TP(e,t,n){const r=OS(e,n),{scroll:i}=t;return i&&(sr(r.x,i.offset.x),sr(r.y,i.offset.y)),r}const CP=new WeakMap;class bP{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Tc(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nS(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(g=>{let w=this.getAxisMotionValue(g).get()||0;if(In.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[g];v&&(w=Gt(v)*(parseFloat(w)/100))}}this.originPoint[g]=w}),d&&Ie.update(()=>d(l,u));const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=kP(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new NS(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ie.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ml(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=hP(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Wi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=fP(r.layoutBox,t):this.constraints=!1,this.elastic=yP(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=gP(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wi(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=TP(r,i.root,this.visualElement.getTransformPagePoint());let o=pP(i.layout.layoutBox,s);if(n){const a=n(vP(o));this.hasMutatedConstraints=!!a,a&&(o=_S(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Tn(c=>{if(!ml(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Om(t,r,0,n))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tn(n=>{const{drag:r}=this.getProps();if(!ml(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Le(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=mP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!ml(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Le(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;CP.set(this.visualElement,this);const t=this.visualElement.current,n=zn(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Vn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ml(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DP extends Mr{constructor(t){super(t),this.removeGroupControls=an,this.removeListeners=an,this.controls=new bP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||an}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uv=e=>(t,n)=>{e&&Ie.update(()=>e(t,n))};class AP extends Mr{constructor(){super(...arguments),this.removePointerDownListener=an}onPointerDown(t){this.session=new NS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Uv(t),onStart:Uv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ie.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IP(){const e=m.useContext(vc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=m.useId();return m.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function zv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ws={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(se.test(e))e=parseFloat(e);else return e;const n=zv(e,t.target.x),r=zv(e,t.target.y);return`${n}% ${r}%`}},MS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function PP(e){const t=MS.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Lf(e,t,n=1){const[r,i]=PP(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():Sf(i)?Lf(i,t,n+1):i}function NP(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Sf(s))return;const o=Lf(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Sf(s))continue;const o=Lf(s,r);o&&(t[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const Hv="_$css",RP={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),s=[];i&&(e=e.replace(MS,f=>(s.push(f),Hv)));const o=Ar.parse(e);if(o.length>5)return r;const a=Ar.createTransformer(e),l=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=c;const h=Le(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let d=a(o);if(i){let f=0;d=d.replace(Hv,()=>{const g=s[f];return f++,g})}return d}};class _P extends te.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;OD($P),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),go.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Ie.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FS(e){const[t,n]=IP(),r=m.useContext(gm);return te.createElement(_P,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(Bx),isPresent:t,safeToRemove:n})}const $P={borderRadius:{...Ws,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ws,borderTopRightRadius:Ws,borderBottomLeftRadius:Ws,borderBottomRightRadius:Ws,boxShadow:RP};class LP{constructor(t){this.animations=t.filter(Boolean)}get currentTime(){return this.animations[0].currentTime}set currentTime(t){for(let n=0;n<this.animations.length;n++)this.animations[n].currentTime=t}stop(){this.animations.forEach(t=>t.stop())}}function OP(e,t,n={}){const r=Ut(e)?e:ps(e);return r.start(Om("",r,t,n)),r.animation||new LP([])}const VS=["TopLeft","TopRight","BottomLeft","BottomRight"],MP=VS.length,Wv=e=>typeof e=="string"?parseFloat(e):e,Kv=e=>typeof e=="number"||se.test(e);function FP(e,t,n,r,i,s){i?(e.opacity=Le(0,n.opacity!==void 0?n.opacity:1,VP(r)),e.opacityExit=Le(t.opacity!==void 0?t.opacity:1,0,jP(r))):s&&(e.opacity=Le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<MP;o++){const a=`border${VS[o]}Radius`;let l=Gv(t,a),u=Gv(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Kv(l)===Kv(u)?(e[a]=Math.max(Le(Wv(l),Wv(u),r),0),(In.test(u)||In.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Le(t.rotate||0,n.rotate||0,r))}function Gv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VP=jS(0,.5,$m),jP=jS(.5,.95,an);function jS(e,t,n){return r=>r<e?0:r>t?1:n(Xo(e,t,r))}function qv(e,t){e.min=t.min,e.max=t.max}function Jt(e,t){qv(e.x,t.x),qv(e.y,t.y)}function Qv(e,t,n,r,i){return e-=t,e=ku(e,1/n,r),i!==void 0&&(e=ku(e,1/i,r)),e}function BP(e,t=0,n=1,r=.5,i,s=e,o=e){if(In.test(t)&&(t=parseFloat(t),t=Le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Le(s.min,s.max,r);e===s&&(a-=t),e.min=Qv(e.min,t,n,a,i),e.max=Qv(e.max,t,n,a,i)}function Yv(e,t,[n,r,i],s,o){BP(e,t[n],t[r],t[i],t.scale,s,o)}const UP=["x","scaleX","originX"],zP=["y","scaleY","originY"];function Xv(e,t,n,r){Yv(e.x,t,UP,n?n.x:void 0,r?r.x:void 0),Yv(e.y,t,zP,n?n.y:void 0,r?r.y:void 0)}function Jv(e){return e.translate===0&&e.scale===1}function BS(e){return Jv(e.x)&&Jv(e.y)}function Of(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Zv(e){return Gt(e.x)/Gt(e.y)}class HP{constructor(){this.members=[]}add(t){bm(this.members,t),t.scheduleRender()}remove(t){if(km(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e0(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const WP=(e,t)=>e.depth-t.depth;class KP{constructor(){this.children=[],this.isDirty=!1}add(t){bm(this.children,t),this.isDirty=!0}remove(t){km(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WP),this.isDirty=!1,this.children.forEach(t)}}function GP(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Dr.read(r),e(s-t))};return Ie.read(r,!0),()=>Dr.read(r)}function qP(e){window.MotionDebug&&window.MotionDebug.record(e)}const t0=["","X","Y","Z"],n0=1e3;let QP=0;const Kr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function US({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=t==null?void 0:t()){this.id=QP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Kr.totalNodes=Kr.resolvedTargetDeltas=Kr.recalculatedProjection=0,this.nodes.forEach(JP),this.nodes.forEach(nN),this.nodes.forEach(rN),this.nodes.forEach(ZP),qP(Kr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new KP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=GP(d,250),go.hasAnimatedSinceResize&&(go.hasAnimatedSinceResize=!1,this.nodes.forEach(i0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||lN,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=c.getProps(),p=!this.targetLayout||!Of(this.targetLayout,g)||f,y=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...IS(w,"layout"),onPlay:x,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!d&&this.animationProgress===0&&i0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r0);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(uN),this.potentialNodes.clear()),this.nodes.forEach(tN),this.nodes.forEach(YP),this.nodes.forEach(XP),this.clearAllSnapshots(),$d.update(),$d.preRender(),$d.render())}clearAllSnapshots(){this.nodes.forEach(eN),this.sharedNodes.forEach(sN)}scheduleUpdateProjection(){Ie.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!BS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Wr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cN(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(sr(a.x,l.offset.x),sr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Qe();Jt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Jt(a,o);const{scroll:d}=this.root;d&&(sr(a.x,-d.offset.x),sr(a.y,-d.offset.y))}sr(a.x,c.offset.x),sr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Qe();Jt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Wr(c.latestValues)&&Gi(l,c.latestValues)}return Wr(this.latestValues)&&Gi(l,this.latestValues),l}removeTransform(o){const a=Qe();Jt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Wr(u.latestValues))continue;_f(u.latestValues)&&u.updateSnapshot();const c=Qe(),h=u.measurePageBox();Jt(c,h),Xv(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Wr(this.latestValues)&&Xv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout?(this.relativeParent=d,this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),xo(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?dP(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),LS(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&Boolean(d.resumingFrom)===Boolean(this.resumingFrom)&&!d.options.layoutScroll&&d.target?(this.relativeParent=d,this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),xo(this.relativeTargetOrigin,this.target,d.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_f(this.parent.latestValues)||$S(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Jt(this.layoutCorrected,this.layout.layoutBox),xP(this.layoutCorrected,this.treeScale,this.path,l);const{target:d}=a;if(!d)return;this.projectionDelta||(this.projectionDelta=So(),this.projectionDeltaWithTransform=So());const f=this.treeScale.x,g=this.treeScale.y,w=this.projectionTransform;wo(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=e0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),Kr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=So();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Qe(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,w=f!==g,x=this.getStack(),v=!x||x.members.length<=1,p=Boolean(w&&!v&&this.options.crossfade===!0&&!this.path.some(aN));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const C=S/1e3;s0(h.x,o.x,C),s0(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xo(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oN(this.relativeTarget,this.relativeTargetOrigin,d,C),y&&Of(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Qe()),Jt(y,this.relativeTarget)),w&&(this.animationValues=c,FP(c,u,this.latestValues,C,p,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{go.hasAnimatedSinceResize=!0,this.currentAnimation=OP(0,n0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&zS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const h=Gt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Gt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Jt(a,l),Gi(a,c),wo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HP),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<t0.length;c++){const h="rotate"+t0[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vl(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Vl(o.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=e0(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:g}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in vu){if(d[w]===void 0)continue;const{correct:x,applyTo:v}=vu[w],p=u.transform==="none"?d[w]:x(d[w],h);if(v){const y=v.length;for(let S=0;S<y;S++)u[v[S]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=h===this?Vl(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(r0),this.root.sharedNodes.clear()}}}function YP(e){e.updateLayout()}function XP(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Tn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Gt(d);d.min=r[h].min,d.max=d.min+f}):zS(s,n.layoutBox,r)&&Tn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Gt(r[h]);d.max=d.min+f});const a=So();wo(a,r,n.layoutBox);const l=So();o?wo(l,e.applyTransform(i,!0),n.measuredBox):wo(l,r,n.layoutBox);const u=!BS(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const g=Qe();xo(g,n.layoutBox,d.layoutBox);const w=Qe();xo(w,r,f.layoutBox),Of(g,w)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function JP(e){Kr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eN(e){e.clearSnapshot()}function r0(e){e.clearMeasurements()}function tN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function i0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function nN(e){e.resolveTargetDelta()}function rN(e){e.calcProjection()}function iN(e){e.resetRotation()}function sN(e){e.removeLeadSnapshot()}function s0(e,t,n){e.translate=Le(t.translate,0,n),e.scale=Le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function o0(e,t,n,r){e.min=Le(t.min,n.min,r),e.max=Le(t.max,n.max,r)}function oN(e,t,n,r){o0(e.x,t.x,n.x,r),o0(e.y,t.y,n.y,r)}function aN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lN={duration:.45,ease:[.4,0,.1,1]};function uN(e,t){let n=e.root;for(let s=e.path.length-1;s>=0;s--)if(Boolean(e.path[s].instance)){n=e.path[s];break}const i=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function a0(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function cN(e){a0(e.x),a0(e.y)}function zS(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nf(Zv(t),Zv(n),.2)}const dN=US({attachResizeListener:(e,t)=>Vn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wd={current:void 0},HS=US({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wd.current){const e=new dN(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Wd.current=e}return Wd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),hN={pan:{Feature:AP},drag:{Feature:DP,ProjectionNode:HS,MeasureLayout:FS}},fN=new Set(["width","height","top","left","right","bottom","x","y"]),WS=e=>fN.has(e),pN=e=>Object.keys(e).some(WS),l0=e=>e===Ci||e===se,u0=(e,t)=>parseFloat(e.split(", ")[t]),c0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return u0(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?u0(s[1],e):0}},mN=new Set(["x","y","z"]),gN=Ec.filter(e=>!mN.has(e));function yN(e){const t=[];return gN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const d0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:c0(4,13),y:c0(5,14)},vN=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=d0[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=d0[u](l,s)}),e},wN=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(WS);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Hs(c);const d=t[l];let f;if(xu(d)){const g=d.length,w=d[0]===null?1:0;c=d[w],h=Hs(c);for(let x=w;x<g;x++)f?Tu(Hs(d[x])===f):f=Hs(d[x])}else f=Hs(d);if(h!==f)if(l0(h)&&l0(f)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&f===se&&(t[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):t[l]=h.transform(d):(o||(s=yN(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=vN(t,e,a);return s.length&&s.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),wc&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function xN(e,t,n,r){return pN(t)?wN(e,t,n,r):{target:t,transitionEnd:r}}const SN=(e,t,n,r)=>{const i=NP(e,t,r);return t=i.target,r=i.transitionEnd,xN(e,t,n,r)},Mf={current:null},KS={current:!1};function EN(){if(KS.current=!0,!!wc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mf.current=e.matches;e.addListener(t),t()}else Mf.current=!1}function TN(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Ut(s))e.addValue(i,s),Eu(r)&&r.add(i);else if(Ut(o))e.addValue(i,ps(s,{owner:e})),Eu(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,ps(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const GS=Object.keys(qo),CN=GS.length,h0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bN=pm.length;class kN{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ie.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Sc(n),this.isVariantNode=jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&Ut(d)&&(d.set(a[h],!1),Eu(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KS.current||EN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dr.update(this.notifyUpdate),Dr.render(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ti.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ie.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s,o){let a,l;for(let u=0;u<CN;u++){const c=GS[u],{isEnabled:h,Feature:d,ProjectionNode:f,MeasureLayout:g}=qo[c];f&&(a=f),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),g&&(l=g))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:Boolean(h)||d&&Wi(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<h0.length;r++){const i=h0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=TN(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<bN;r++){const i=pm[r],s=this.props[i];(Go(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ps(n,{owner:this}),this.addValue(t,r)),r}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Cm(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ut(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class qS extends kN{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=qA(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){KA(this,r,o);const a=SN(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function DN(e){return window.getComputedStyle(e)}class AN extends qS{readValueFromInstance(t,n){if(Ti.has(n)){const r=Im(n);return r&&r.default||0}else{const r=DN(t),i=(Hx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return OS(t,n)}build(t,n,r,i){vm(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Tm(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ut(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Qx(t,n,r,i)}}class IN extends qS{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ti.has(n)){const r=Im(n);return r&&r.default||0}return n=Yx.has(n)?n:Em(n),t.getAttribute(n)}measureInstanceViewportBox(){return Qe()}scrapeMotionValuesFromProps(t,n){return Jx(t,n)}build(t,n,r,i){xm(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Xx(t,n,r,i)}mount(t){this.isSVGTag=Sm(t.tagName),super.mount(t)}}const PN=(e,t)=>ym(e)?new IN(t,{enableHardwareAcceleration:!1}):new AN(t,{enableHardwareAcceleration:!0}),NN={layout:{ProjectionNode:HS,MeasureLayout:FS}},RN={...aP,...bA,...hN,...NN},_N=$D((e,t)=>lA(e,t,RN,PN));function QS(){const e=m.useRef(!1);return yu(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $N(){const e=QS(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Ie.postRender(r),[r]),t]}class LN extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ON({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(LN,{isPresent:t,childRef:r,sizeRef:i},m.cloneElement(e,{ref:r}))}const Kd=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=mm(MN),l=m.useId(),u=m.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return m.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=m.createElement(ON,{isPresent:n},e)),m.createElement(vc.Provider,{value:u},e)};function MN(){return new Map}function FN(e){return m.useEffect(()=>()=>e(),[])}const Pi=e=>e.key||"";function VN(e,t){e.forEach(n=>{const r=Pi(n);t.set(r,n)})}function jN(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const BN=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=$N();const l=m.useContext(gm).forceRender;l&&(a=l);const u=QS(),c=jN(e);let h=c;const d=new Set,f=m.useRef(h),g=m.useRef(new Map).current,w=m.useRef(!0);if(yu(()=>{w.current=!1,VN(c,g),f.current=h}),FN(()=>{w.current=!0,g.clear(),d.clear()}),w.current)return m.createElement(m.Fragment,null,h.map(y=>m.createElement(Kd,{key:Pi(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));h=[...h];const x=f.current.map(Pi),v=c.map(Pi),p=x.length;for(let y=0;y<p;y++){const S=x[y];v.indexOf(S)===-1&&d.add(S)}return o==="wait"&&d.size&&(h=[]),d.forEach(y=>{if(v.indexOf(y)!==-1)return;const S=g.get(y);if(!S)return;const C=x.indexOf(y),A=()=>{g.delete(y),d.delete(y);const D=f.current.findIndex(b=>b.key===y);if(f.current.splice(D,1),!d.size){if(f.current=c,u.current===!1)return;a(),r&&r()}};h.splice(C,0,m.createElement(Kd,{key:Pi(S),isPresent:!1,onExitComplete:A,custom:t,presenceAffectsLayout:s,mode:o},S))}),h=h.map(y=>{const S=y.key;return d.has(S)?y:m.createElement(Kd,{key:Pi(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),m.createElement(m.Fragment,null,d.size?h:h.map(y=>m.cloneElement(y)))},UN={enter:e=>({zIndex:0,x:e==="<"?"100%":"-100%"}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e===">"?"100%":"-100%"})},zN=({pages:e})=>{const[t,n]=m.useState(e[0].startPage),[r,i]=m.useState("<"),s=e.map(({startPage:o})=>{const[a,l]=m.useState(o),u=m.useRef(null);return{currentPage:a,setSubpage:l,ref:u}});return T.jsxs("div",{className:"dark:text-white",children:[T.jsx("div",{className:"",children:e.map(({startPage:o,subpages:a},l)=>{var h,d;const u=(h=a[s[l].currentPage])==null?void 0:h.Content,c=(d=a[s[l].currentPage])==null?void 0:d.Header;return T.jsxs("div",{className:`${o===t?"grow":"hidden"}`,children:[T.jsx("div",{className:"fixed w-full bg-neutral-300 dark:bg-neutral-800 h-16",children:T.jsx(c,{changeSubpage:(f,g)=>{i(g),s[l].setSubpage(f)}})}),T.jsx("div",{className:"fixed top-16 bottom-16 w-full bg-white dark:bg-black overflow-y-auto",children:T.jsx(BN,{initial:!1,mode:"popLayout",custom:r,children:T.jsx(_N.div,{className:"",custom:r,variants:UN,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"tween",duration:.3},opacity:{duration:.3}},children:T.jsx(u,{changeSubpage:(f,g)=>{i(g),s[l].setSubpage(f)}})},s[l].currentPage)})})]},l)})}),T.jsx("div",{className:"fixed bottom-0 w-full flex h-16 bg-neutral-300 dark:bg-neutral-800",children:e.map(({startPage:o,Icon:a},l)=>{const u=o===t?"stroke-blue-700 dark:stroke-blue-400 text-blue-700 dark:text-blue-400":"stroke-black dark:stroke-white";return T.jsx("div",{onClick:()=>n(o),className:"grow flex justify-center ",children:T.jsxs("div",{className:"flex flex-col justify-center text-center",children:[T.jsx("div",{className:`${u}  fill-none stroke-[2] text-[1.4rem] mx-auto mb-1`,children:T.jsx(a,{})}),T.jsx("div",{className:`${u} text-xs`,children:o})]})},l)})})]})},HN=(e,t,{shouldPreventDefault:n=!0,delay:r=300}={})=>{const[i,s]=m.useState(!1),o=m.useRef(),a=m.useRef(),l=m.useCallback(c=>{n&&c.target&&(c.target.addEventListener("touchend",f0,{passive:!1}),a.current=c.target),o.current=setTimeout(()=>{e(c),s(!0)},r)},[e,r,n]),u=m.useCallback((c,h=!0)=>{o.current&&clearTimeout(o.current),h&&!i&&t(),s(!1),n&&a.current&&a.current.removeEventListener("touchend",f0)},[n,t,i]);return{onMouseDown:c=>l(c),onTouchStart:c=>l(c),onMouseUp:c=>u(c),onMouseLeave:c=>u(c,!1),onTouchEnd:c=>u(c)}},WN=e=>"touches"in e,f0=e=>{WN(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},KN={slate:"bg-slate-500 hover:bg-slate-400 dark:bg-slate-400 dark:hover:bg-slate-400 ",gray:"bg-gray-500 hover:bg-gray-400 dark:bg-gray-300 dark:hover:bg-gray-400 ",zinc:"bg-zinc-500 hover:bg-zinc-400 dark:bg-zinc-300 dark:hover:bg-zinc-400 ",neutral:"bg-neutral-500 hover:bg-neutral-400 dark:bg-neutral-300 dark:hover:bg-neutral-400 ",stone:"bg-stone-500 hover:bg-stone-400 dark:bg-stone-300 dark:hover:bg-stone-400 ",red:"bg-red-500 hover:bg-red-400 dark:bg-red-300 dark:hover:bg-red-400 ",orange:"bg-orange-500 hover:bg-orange-400 dark:bg-orange-300 dark:hover:bg-orange-400 ",amber:"bg-amber-500 hover:bg-amber-400 dark:bg-amber-300 dark:hover:bg-amber-400 ",yellow:"bg-yellow-500 hover:bg-yellow-400 dark:bg-yellow-300 dark:hover:bg-yellow-400 ",lime:"bg-lime-500 hover:bg-lime-400 dark:bg-lime-300 dark:hover:bg-lime-400 ",green:"bg-green-500 hover:bg-green-400 dark:bg-green-300 dark:hover:bg-green-400 ",emerald:"bg-emerald-500 hover:bg-emerald-400 dark:bg-emerald-300 dark:hover:bg-emerald-400 ",teal:"bg-teal-500 hover:bg-teal-400 dark:bg-teal-300 dark:hover:bg-teal-400 ",cyan:"bg-cyan-500 hover:bg-cyan-400 dark:bg-cyan-300 dark:hover:bg-cyan-400 ",sky:"bg-sky-500 hover:bg-sky-400 dark:bg-sky-300 dark:hover:bg-sky-400 ",blue:"bg-blue-500 hover:bg-blue-400 dark:bg-blue-300 dark:hover:bg-blue-400 ",darkblue:"bg-blue-700 hover:bg-blue-600 dark:bg-blue-400 dark:hover:bg-blue-500 ",indigo:"bg-indigo-500 hover:bg-indigo-400 dark:bg-indigo-300 dark:hover:bg-indigo-400 ",violet:"bg-violet-500 hover:bg-violet-400 dark:bg-violet-300 dark:hover:bg-violet-400 ",purple:"bg-purple-500 hover:bg-purple-400 dark:bg-purple-300 dark:hover:bg-purple-400 ",fuchsia:"bg-fuchsia-500 hover:bg-fuchsia-400 dark:bg-fuchsia-300 dark:hover:bg-fuchsia-400 ",pink:"bg-pink-500 hover:bg-pink-400 dark:bg-pink-300 dark:hover:bg-pink-400 ",rose:"bg-rose-500 hover:bg-rose-400 dark:bg-rose-300 dark:hover:bg-rose-400 "},Ea={auto:"w-auto",full:"w-full",xxs:"w-16",xs:"w-24",sm:"w-32",md:"w-48",lg:"w-64",xl:"w-96"},Ta={auto:"h-auto",full:"h-full",xs:"h-[1.5rem]",sm:"h-[2rem]",md:"h-[2.5rem]",lg:"h-[3rem]",xl:"h-[3.5rem]","2xl":"h-[4rem]"},Ir=({clickAction:e,longPressAction:t,children:n,color:r,width:i,delay:s,submit:o,height:a="md"})=>{const l=m.useRef(document.createElement("button")),d=HN(()=>{t&&t(),o&&l.current.click()},()=>{e&&e(),o&&l.current.click()},{shouldPreventDefault:!0,delay:s});return T.jsx(T.Fragment,{children:T.jsx("button",{...d,type:`${o?"submit":"button"}`,className:`${KN[r]} ${Ea[i]} ${Ta[a]} w- rounded text-white font-medium text-sm px-5 py-2.5 focus:outline-none dark:text-black`,ref:l,children:n})})},GN=({changeSubpage:e})=>T.jsxs("div",{className:"h-full pt-16 grid place-items-center gap-6",children:[T.jsx(Ir,{color:"blue",width:"md",clickAction:()=>e("Record","<"),children:"Record"}),T.jsx(Ir,{color:"blue",width:"md",clickAction:()=>e("Return","<"),children:"Add Maps"})]}),Ca=({left:e,center:t,right:n})=>T.jsxs("div",{className:"h-full flex place-items-center",children:[T.jsx("div",{className:"h-full flex place-items-center p-2 w-32",children:e}),T.jsx("div",{className:"h-full flex place-items-center m-auto",children:t}),T.jsx("div",{className:"h-full flex place-items-center p-2 w-32",children:n})]}),qN=({changeSubpage:e})=>T.jsx(Ca,{left:null,center:T.jsx("div",{className:"",children:"Home"}),right:null}),QN=({tabItems:e})=>{const t=(a,l)=>{var u;(u=r[l].current)==null||u.scrollIntoView()},n=m.useRef(document.createElement("div")),r=e.map(()=>m.useRef(document.createElement("div"))),i=e.map(()=>m.useRef(document.createElement("div"))),[s,o]=m.useState(e.map(()=>!1));return m.useEffect(()=>{i.forEach((a,l)=>{new IntersectionObserver(c=>{var h;c[0].isIntersecting&&(o(s.map((d,f)=>f===l)),(h=i[l].current)==null||h.scrollIntoView(),i[l].current!=null&&(n.current.style.left=i[l].current.offsetLeft-5+"px",n.current.style.width=i[l].current.offsetWidth+10+"px"))},{threshold:.8}).observe(r[l].current)})},[]),m.useEffect(()=>{const a=u=>{u.preventDefault(),l.scrollLeft+=u.deltaY/5},l=document.querySelector(".tabbar");return l.addEventListener("wheel",a),()=>{l==null||l.removeEventListener("wheel",a)}}),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:`hideScollbar tabbar relative flex bg-white dark:bg-neutral-900 w-full touch-auto h-min
				overflow-x-auto overflow-y-hidden border border-x-0 border-t-0 border-b-[1.25px] border-y-neutral-500 dark:border-y-neutral-500`,children:[e.map((a,l)=>T.jsxs("div",{ref:i[l],onClick:u=>t(u,l),className:`uppercase mx-3 ${s[l]?"font-extrabold text-blue-500 dark:text-blue-200":""}`,children:[T.jsx("div",{className:"my-2 w-max",children:a.title}),T.jsx("div",{className:"-z-1 h-0 font-extrabold invisible w-max",children:a.title})]},l)),T.jsx("div",{className:"absolute left-0 bottom-0 h-[2px] bg-blue-500 dark:bg-blue-200 transition-all duration-300",ref:n})]}),T.jsx("div",{className:"overflow-y-auto h-full overscroll-x-contain",children:T.jsx("div",{className:"hideScollbar h-full pb-2-xx grid grid-flow-col auto-cols-[100%] overflow-x-auto-xxx snap-x snap-mandatory snap-always overflow-y-auto ",children:e.map((a,l)=>T.jsx("div",{ref:r[l],className:"snap-start overflow-y-auto h-full overflow-x-hidden",children:a.content},l))})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},YN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},XS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(YS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new XN;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(e){const t=YS(e);return XS.encodeByteArray(t,!0)},Du=function(e){return JN(e).replace(/\./g,"")},ZN=function(e){try{return XS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZN(e[1]);return t&&JSON.parse(t)},JS=()=>{try{return tR()||nR()||rR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},iR=e=>{var t,n;return(n=(t=JS())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},sR=e=>{const t=iR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},oR=()=>{var e;return(e=JS())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Du(JSON.stringify(n)),Du(JSON.stringify(o)),a].join(".")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="FirebaseError";class Ds extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=dR,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZS.prototype.create)}}class ZS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?hR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ds(i,a,r)}}function hR(e,t){return e.replace(fR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;function Ff(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(p0(s)&&p0(o)){if(!Ff(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e){return e&&e._delegate?e._delegate:e}class Jo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new aR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gR(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(e){return e===Gr?void 0:e}function gR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(xe||(xe={}));const vR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},wR=xe.INFO,xR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},SR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=xR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eE{constructor(t){this.name=t,this._logLevel=wR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...t),this._logHandler(this,xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...t),this._logHandler(this,xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...t),this._logHandler(this,xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...t),this._logHandler(this,xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...t),this._logHandler(this,xe.ERROR,...t)}}const ER=(e,t)=>t.some(n=>e instanceof n);let m0,g0;function TR(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,Vf=new WeakMap,nE=new WeakMap,Gd=new WeakMap,Mm=new WeakMap;function bR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Tr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&tE.set(n,e)}).catch(()=>{}),Mm.set(t,e),t}function kR(e){if(Vf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Vf.set(e,t)}let jf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function DR(e){jf=e(jf)}function AR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(qd(this),t,...n);return nE.set(r,t.sort?t.sort():[t]),Tr(r)}:CR().includes(e)?function(...t){return e.apply(qd(this),t),Tr(tE.get(this))}:function(...t){return Tr(e.apply(qd(this),t))}}function IR(e){return typeof e=="function"?AR(e):(e instanceof IDBTransaction&&kR(e),ER(e,TR())?new Proxy(e,jf):e)}function Tr(e){if(e instanceof IDBRequest)return bR(e);if(Gd.has(e))return Gd.get(e);const t=IR(e);return t!==e&&(Gd.set(e,t),Mm.set(t,e)),t}const qd=e=>Mm.get(e);function PR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Tr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tr(o.result),l.oldVersion,l.newVersion,Tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const NR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],Qd=new Map;function y0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=RR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qd.set(t,s),s}DR(e=>({...e,get:(t,n,r)=>y0(t,n)||e.get(t,n,r),has:(t,n)=>!!y0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($R(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $R(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bf="@firebase/app",v0="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new eE("@firebase/app"),LR="@firebase/app-compat",OR="@firebase/analytics-compat",MR="@firebase/analytics",FR="@firebase/app-check-compat",VR="@firebase/app-check",jR="@firebase/auth",BR="@firebase/auth-compat",UR="@firebase/database",zR="@firebase/database-compat",HR="@firebase/functions",WR="@firebase/functions-compat",KR="@firebase/installations",GR="@firebase/installations-compat",qR="@firebase/messaging",QR="@firebase/messaging-compat",YR="@firebase/performance",XR="@firebase/performance-compat",JR="@firebase/remote-config",ZR="@firebase/remote-config-compat",e_="@firebase/storage",t_="@firebase/storage-compat",n_="@firebase/firestore",r_="@firebase/firestore-compat",i_="firebase",s_="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",o_={[Bf]:"fire-core",[LR]:"fire-core-compat",[MR]:"fire-analytics",[OR]:"fire-analytics-compat",[VR]:"fire-app-check",[FR]:"fire-app-check-compat",[jR]:"fire-auth",[BR]:"fire-auth-compat",[UR]:"fire-rtdb",[zR]:"fire-rtdb-compat",[HR]:"fire-fn",[WR]:"fire-fn-compat",[KR]:"fire-iid",[GR]:"fire-iid-compat",[qR]:"fire-fcm",[QR]:"fire-fcm-compat",[YR]:"fire-perf",[XR]:"fire-perf-compat",[JR]:"fire-rc",[ZR]:"fire-rc-compat",[e_]:"fire-gcs",[t_]:"fire-gcs-compat",[n_]:"fire-fst",[r_]:"fire-fst-compat","fire-js":"fire-js",[i_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,zf=new Map;function a_(e,t){try{e.container.addComponent(t)}catch(n){yi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Iu(e){const t=e.name;if(zf.has(t))return yi.debug(`There were multiple attempts to register component ${t}.`),!1;zf.set(t,e);for(const n of Au.values())a_(n,e);return!0}function l_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cr=new ZS("app","Firebase",u_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=s_;function rE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Uf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=oR()),!n)throw Cr.create("no-options");const s=Au.get(i);if(s){if(Ff(n,s.options)&&Ff(r,s.config))return s;throw Cr.create("duplicate-app",{appName:i})}const o=new yR(i);for(const l of zf.values())o.addComponent(l);const a=new c_(n,r,o);return Au.set(i,a),a}function h_(e=Uf){const t=Au.get(e);if(!t&&e===Uf)return rE();if(!t)throw Cr.create("no-app",{appName:e});return t}function rs(e,t,n){var r;let i=(r=o_[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}Iu(new Jo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="firebase-heartbeat-database",p_=1,Zo="firebase-heartbeat-store";let Yd=null;function iE(){return Yd||(Yd=PR(f_,p_,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zo)}}}).catch(e=>{throw Cr.create("idb-open",{originalErrorMessage:e.message})})),Yd}async function m_(e){try{return(await iE()).transaction(Zo).objectStore(Zo).get(sE(e))}catch(t){if(t instanceof Ds)yi.warn(t.message);else{const n=Cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yi.warn(n.message)}}}async function w0(e,t){try{const r=(await iE()).transaction(Zo,"readwrite");return await r.objectStore(Zo).put(t,sE(e)),r.done}catch(n){if(n instanceof Ds)yi.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function sE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=1024,y_=30*24*60*60*1e3;class v_{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=y_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x0(),{heartbeatsToSend:n,unsentEntries:r}=w_(this._heartbeatsCache.heartbeats),i=Du(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function x0(){return new Date().toISOString().substring(0,10)}function w_(e,t=g_){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),S0(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),S0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await m_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function S0(e){return Du(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(e){Iu(new Jo("platform-logger",t=>new _R(t),"PRIVATE")),Iu(new Jo("heartbeat",t=>new v_(t),"PRIVATE")),rs(Bf,v0,e),rs(Bf,v0,"esm2017"),rs("fire-js","")}S_("");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Fm=Fm||{},ae=E_||self;function Pu(){}function kc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ba(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function T_(e){return Object.prototype.hasOwnProperty.call(e,Xd)&&e[Xd]||(e[Xd]=++C_)}var Xd="closure_uid_"+(1e9*Math.random()>>>0),C_=0;function b_(e,t,n){return e.call.apply(e.bind,arguments)}function k_(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Et(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=b_:Et=k_,Et.apply(null,arguments)}function gl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function gt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Fr(){this.s=this.s,this.o=this.o}var D_=0;Fr.prototype.s=!1;Fr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),D_!=0)&&T_(this)};Fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Tt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var A_=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ae.addEventListener("test",Pu,t),ae.removeEventListener("test",Pu,t)}catch{}return e}();function Nu(e){return/^[\s\xa0]*$/.test(e)}var T0=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jd(e,t){return e<t?-1:e>t?1:0}function Dc(){var e=ae.navigator;return e&&(e=e.userAgent)?e:""}function bn(e){return Dc().indexOf(e)!=-1}function jm(e){return jm[" "](e),e}jm[" "]=Pu;function I_(e){var t=R_;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var P_=bn("Opera"),gs=bn("Trident")||bn("MSIE"),aE=bn("Edge"),Hf=aE||gs,lE=bn("Gecko")&&!(Dc().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),N_=Dc().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function uE(){var e=ae.document;return e?e.documentMode:void 0}var Ru;e:{var Zd="",eh=function(){var e=Dc();if(lE)return/rv:([^\);]+)(\)|;)/.exec(e);if(aE)return/Edge\/([\d\.]+)/.exec(e);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(N_)return/WebKit\/(\S+)/.exec(e);if(P_)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(eh&&(Zd=eh?eh[1]:""),gs){var th=uE();if(th!=null&&th>parseFloat(Zd)){Ru=String(th);break e}}Ru=Zd}var R_={};function __(){return I_(function(){let e=0;const t=T0(String(Ru)).split("."),n=T0("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=Jd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Jd(i[2].length==0,s[2].length==0)||Jd(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var Wf;if(ae.document&&gs){var C0=uE();Wf=C0||parseInt(Ru,10)||void 0}else Wf=void 0;var $_=Wf;function ea(e,t){if(Tt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lE){e:{try{jm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:L_[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ea.X.h.call(this)}}gt(ea,Tt);var L_={2:"touch",3:"pen",4:"mouse"};ea.prototype.h=function(){ea.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),O_=0;function M_(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++O_,this.ba=this.ea=!1}function Ac(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Bm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function cE(e){const t={};for(const n in e)t[n]=e[n];return t}const b0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<b0.length;s++)n=b0[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ic(e){this.src=e,this.g={},this.h=0}Ic.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Gf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new M_(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Kf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=oE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ac(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Gf(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),nh={};function hE(e,t,n,r,i){if(r&&r.once)return pE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)hE(e,t[s],n,r,i);return null}return n=Wm(n),e&&e[ka]?e.N(t,n,ba(r)?!!r.capture:!!r,i):fE(e,t,n,!1,r,i)}function fE(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ba(i)?!!i.capture:!!i,a=Hm(e);if(a||(e[Um]=a=new Ic(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=F_(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A_||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function F_(){function e(n){return t.call(e.src,e.listener,n)}const t=V_;return e}function pE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pE(e,t[s],n,r,i);return null}return n=Wm(n),e&&e[ka]?e.O(t,n,ba(r)?!!r.capture:!!r,i):fE(e,t,n,!0,r,i)}function mE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mE(e,t[s],n,r,i);else r=ba(r)?!!r.capture:!!r,n=Wm(n),e&&e[ka]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Gf(s,n,r,i),-1<n&&(Ac(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Hm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gf(t,n,r,i)),(n=-1<e?t[e]:null)&&zm(n))}function zm(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ka])Kf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hm(t))?(Kf(n,e),n.h==0&&(n.src=null,t[Um]=null)):Ac(e)}}}function gE(e){return e in nh?nh[e]:nh[e]="on"+e}function V_(e,t){if(e.ba)e=!0;else{t=new ea(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&zm(e),e=n.call(r,t)}return e}function Hm(e){return e=e[Um],e instanceof Ic?e:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wm(e){return typeof e=="function"?e:(e[rh]||(e[rh]=function(t){return e.handleEvent(t)}),e[rh])}function lt(){Fr.call(this),this.i=new Ic(this),this.P=this,this.I=null}gt(lt,Fr);lt.prototype[ka]=!0;lt.prototype.removeEventListener=function(e,t,n,r){mE(this,e,t,n,r)};function ft(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Tt(t,e);else if(t instanceof Tt)t.target=t.target||e;else{var i=t;t=new Tt(r,e),dE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=yl(o,r,!0,t)&&i}if(o=t.g=e,i=yl(o,r,!0,t)&&i,i=yl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=yl(o,r,!1,t)&&i}lt.prototype.M=function(){if(lt.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ac(n[r]);delete e.g[t],e.h--}}this.I=null};lt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};lt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function yl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Kf(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Km=ae.JSON.stringify;function j_(){var e=wE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class B_{constructor(){this.h=this.g=null}add(t,n){const r=yE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new U_,e=>e.reset());class U_{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function z_(e){ae.setTimeout(()=>{throw e},0)}function vE(e,t){qf||H_(),Qf||(qf(),Qf=!0),wE.add(e,t)}var qf;function H_(){var e=ae.Promise.resolve(void 0);qf=function(){e.then(W_)}}var Qf=!1,wE=new B_;function W_(){for(var e;e=j_();){try{e.h.call(e.g)}catch(n){z_(n)}var t=yE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qf=!1}function Pc(e,t){lt.call(this),this.h=e||1,this.g=t||ae,this.j=Et(this.lb,this),this.l=Date.now()}gt(Pc,lt);G=Pc.prototype;G.ca=!1;G.R=null;G.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ft(this,"tick"),this.ca&&(Gm(this),this.start()))}};G.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}G.M=function(){Pc.X.M.call(this),Gm(this),delete this.g};function qm(e,t,n){if(typeof e=="function")n&&(e=Et(e,n));else if(e&&typeof e.handleEvent=="function")e=Et(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ae.setTimeout(e,t||0)}function xE(e){e.g=qm(()=>{e.g=null,e.i&&(e.i=!1,xE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class K_ extends Fr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xE(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(e){Fr.call(this),this.h=e,this.g={}}gt(ta,Fr);var k0=[];function SE(e,t,n,r){Array.isArray(n)||(n&&(k0[0]=n.toString()),n=k0);for(var i=0;i<n.length;i++){var s=hE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function EE(e){Bm(e.g,function(t,n){this.g.hasOwnProperty(n)&&zm(t)},e),e.g={}}ta.prototype.M=function(){ta.X.M.call(this),EE(this)};ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nc(){this.g=!0}Nc.prototype.Aa=function(){this.g=!1};function G_(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function q_(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function qi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Y_(e,n)+(r?" "+r:"")})}function Q_(e,t){e.info(function(){return"TIMEOUT: "+t})}Nc.prototype.info=function(){};function Y_(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Km(n)}catch{return t}}var bi={},D0=null;function Rc(){return D0=D0||new lt}bi.Pa="serverreachability";function TE(e){Tt.call(this,bi.Pa,e)}gt(TE,Tt);function na(e){const t=Rc();ft(t,new TE(t))}bi.STAT_EVENT="statevent";function CE(e,t){Tt.call(this,bi.STAT_EVENT,e),this.stat=t}gt(CE,Tt);function Pt(e){const t=Rc();ft(t,new CE(t,e))}bi.Qa="timingevent";function bE(e,t){Tt.call(this,bi.Qa,e),this.size=t}gt(bE,Tt);function Da(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){e()},t)}var _c={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qm(){}Qm.prototype.h=null;function A0(e){return e.h||(e.h=e.i())}function DE(){}var Aa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ym(){Tt.call(this,"d")}gt(Ym,Tt);function Xm(){Tt.call(this,"c")}gt(Xm,Tt);var Yf;function $c(){}gt($c,Qm);$c.prototype.g=function(){return new XMLHttpRequest};$c.prototype.i=function(){return{}};Yf=new $c;function Ia(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ta(this),this.O=X_,e=Hf?125:void 0,this.T=new Pc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new AE}function AE(){this.i=null,this.g="",this.h=!1}var X_=45e3,Xf={},_u={};G=Ia.prototype;G.setTimeout=function(e){this.O=e};function Jf(e,t,n){e.K=1,e.v=Oc(Yn(t)),e.s=n,e.P=!0,IE(e,null)}function IE(e,t){e.F=Date.now(),Pa(e),e.A=Yn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ME(n.i,"t",r),e.C=0,n=e.l.H,e.h=new AE,e.g=iT(e.l,n?t:null,!e.s),0<e.N&&(e.L=new K_(Et(e.La,e,e.g),e.N)),SE(e.S,e.g,"readystatechange",e.ib),t=e.H?cE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),na(),G_(e.j,e.u,e.A,e.m,e.U,e.s)}G.ib=function(e){e=e.target;const t=this.L;t&&jn(e)==3?t.l():this.La(e)};G.La=function(e){try{if(e==this.g)e:{const c=jn(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Hf||this.g&&(this.h.h||this.g.fa()||R0(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?na(3):na(2)),Lc(this);var n=this.g.aa();this.Y=n;t:if(PE(this)){var r=R0(this.g);e="";var i=r.length,s=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Eo(this);var o="";break t}this.h.i=new ae.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,q_(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nu(a)){var u=a;break t}}u=null}if(n=u)qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zf(this,n);else{this.i=!1,this.o=3,Pt(12),ei(this),Eo(this);break e}}this.P?(NE(this,c,o),Hf&&this.i&&c==3&&(SE(this.S,this.T,"tick",this.hb),this.T.start())):(qi(this.j,this.m,o,null),Zf(this,o)),c==4&&ei(this),this.i&&!this.I&&(c==4?eT(this.l,this):(this.i=!1,Pa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),ei(this),Eo(this)}}}catch{}finally{}};function PE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function NE(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=J_(e,n),i==_u){t==4&&(e.o=4,Pt(14),r=!1),qi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Xf){e.o=4,Pt(15),qi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else qi(e.j,e.m,i,null),Zf(e,i);PE(e)&&i!=_u&&i!=Xf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Pt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ig(t),t.K=!0,Pt(11))):(qi(e.j,e.m,n,"[Invalid Chunked Response]"),ei(e),Eo(e))}G.hb=function(){if(this.g){var e=jn(this.g),t=this.g.fa();this.C<t.length&&(Lc(this),NE(this,e,t),this.i&&e!=4&&Pa(this))}};function J_(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?_u:(n=Number(t.substring(n,r)),isNaN(n)?Xf:(r+=1,r+n>t.length?_u:(t=t.substr(r,n),e.C=r+n,t)))}G.cancel=function(){this.I=!0,ei(this)};function Pa(e){e.V=Date.now()+e.O,RE(e,e.O)}function RE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Da(Et(e.gb,e),t)}function Lc(e){e.B&&(ae.clearTimeout(e.B),e.B=null)}G.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(Q_(this.j,this.A),this.K!=2&&(na(),Pt(17)),ei(this),this.o=2,Eo(this)):RE(this,this.V-e)};function Eo(e){e.l.G==0||e.I||eT(e.l,e)}function ei(e){Lc(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Gm(e.T),EE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ep(n.h,e))){if(!e.J&&ep(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ou(n),Vc(n);else break e;rg(n),Pt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Da(Et(n.cb,n),6e3));if(1>=jE(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ti(n,11)}else if((e.J||n.g==e)&&Ou(n),!Nu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Jm(s,s.h),s.h=null))}if(r.D){const w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,Re(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=rT(r,r.H?r.ka:null,r.V),o.J){BE(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Lc(a),Pa(a)),r.g=o}else JE(r);0<n.i.length&&jc(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):ng(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}na(4)}catch{}}function Z_(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(kc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function e$(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(kc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function _E(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(kc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=e$(e),r=Z_(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var $E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t$(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ai(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ai){this.h=t!==void 0?t:e.h,$u(this,e.j),this.s=e.s,this.g=e.g,Lu(this,e.m),this.l=e.l,t=e.i;var n=new ra;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),I0(this,n),this.o=e.o}else e&&(n=String(e).match($E))?(this.h=!!t,$u(this,n[1]||"",!0),this.s=no(n[2]||""),this.g=no(n[3]||"",!0),Lu(this,n[4]),this.l=no(n[5]||"",!0),I0(this,n[6]||"",!0),this.o=no(n[7]||"")):(this.h=!!t,this.i=new ra(null,this.h))}ai.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ro(t,P0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ro(t,P0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ro(n,n.charAt(0)=="/"?i$:r$,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ro(n,o$)),e.join("")};function Yn(e){return new ai(e)}function $u(e,t,n){e.j=n?no(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function I0(e,t,n){t instanceof ra?(e.i=t,a$(e.i,e.h)):(n||(t=ro(t,s$)),e.i=new ra(t,e.h))}function Re(e,t,n){e.i.set(t,n)}function Oc(e){return Re(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function no(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ro(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,n$),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function n$(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var P0=/[#\/\?@]/g,r$=/[#\?:]/g,i$=/[#\?]/g,s$=/[#\?@]/g,o$=/#/g;function ra(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vr(e){e.g||(e.g=new Map,e.h=0,e.i&&t$(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=ra.prototype;G.add=function(e,t){Vr(this),this.i=null,e=As(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function LE(e,t){Vr(e),t=As(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function OE(e,t){return Vr(e),t=As(e,t),e.g.has(t)}G.forEach=function(e,t){Vr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};G.oa=function(){Vr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};G.W=function(e){Vr(this);let t=[];if(typeof e=="string")OE(this,e)&&(t=t.concat(this.g.get(As(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};G.set=function(e,t){return Vr(this),this.i=null,e=As(this,e),OE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function ME(e,t,n){LE(e,t),0<n.length&&(e.i=null,e.g.set(As(e,t),Vm(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function As(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function a$(e,t){t&&!e.j&&(Vr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LE(this,r),ME(this,i,n))},e)),e.j=t}var l$=class{constructor(t,n){this.h=t,this.g=n}};function FE(e){this.l=e||u$,ae.PerformanceNavigationTiming?(e=ae.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ae.g&&ae.g.Ga&&ae.g.Ga()&&ae.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var u$=10;function VE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function jE(e){return e.h?1:e.g?e.g.size:0}function ep(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Jm(e,t){e.g?e.g.add(t):e.h=t}function BE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}FE.prototype.cancel=function(){if(this.i=UE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function UE(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vm(e.i)}function Zm(){}Zm.prototype.stringify=function(e){return ae.JSON.stringify(e,void 0)};Zm.prototype.parse=function(e){return ae.JSON.parse(e,void 0)};function c$(){this.g=new Zm}function d$(e,t,n){const r=n||"";try{_E(e,function(i,s){let o=i;ba(i)&&(o=Km(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function h$(e,t){const n=new Nc;if(ae.Image){const r=new Image;r.onload=gl(vl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gl(vl,n,r,"TestLoadImage: error",!1,t),r.onabort=gl(vl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gl(vl,n,r,"TestLoadImage: timeout",!1,t),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function vl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Na(e){this.l=e.ac||null,this.j=e.jb||!1}gt(Na,Qm);Na.prototype.g=function(){return new Mc(this.l,this.j)};Na.prototype.i=function(e){return function(){return e}}({});function Mc(e,t){lt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(Mc,lt);var eg=0;G=Mc.prototype;G.open=function(e,t){if(this.readyState!=eg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ia(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ae).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=eg};G.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zE(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function zE(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}G.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ra(this):ia(this),this.readyState==3&&zE(this)}};G.Va=function(e){this.g&&(this.response=this.responseText=e,Ra(this))};G.Ua=function(e){this.g&&(this.response=e,Ra(this))};G.ga=function(){this.g&&Ra(this)};function Ra(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ia(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ia(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var f$=ae.JSON.parse;function ze(e){lt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HE,this.K=this.L=!1}gt(ze,lt);var HE="",p$=/^https?$/i,m$=["POST","PUT"];G=ze.prototype;G.Ka=function(e){this.L=e};G.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yf.g(),this.C=this.u?A0(this.u):A0(Yf),this.g.onreadystatechange=Et(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){N0(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ae.FormData&&e instanceof ae.FormData,!(0<=oE(m$,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GE(this),0<this.B&&((this.K=g$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.qa,this)):this.A=qm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){N0(this,s)}};function g$(e){return gs&&__()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}G.qa=function(){typeof Fm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function N0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,WE(e),Fc(e)}function WE(e){e.D||(e.D=!0,ft(e,"complete"),ft(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ft(this,"complete"),ft(this,"abort"),Fc(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fc(this,!0)),ze.X.M.call(this)};G.Ha=function(){this.s||(this.F||this.v||this.l?KE(this):this.fb())};G.fb=function(){KE(this)};function KE(e){if(e.h&&typeof Fm<"u"&&(!e.C[1]||jn(e)!=4||e.aa()!=2)){if(e.v&&jn(e)==4)qm(e.Ha,0,e);else if(ft(e,"readystatechange"),jn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match($E)[1]||null;if(!i&&ae.self&&ae.self.location){var s=ae.self.location.protocol;i=s.substr(0,s.length-1)}r=!p$.test(i?i.toLowerCase():"")}n=r}if(n)ft(e,"complete"),ft(e,"success");else{e.m=6;try{var o=2<jn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",WE(e)}}finally{Fc(e)}}}}function Fc(e,t){if(e.g){GE(e);const n=e.g,r=e.C[0]?Pu:null;e.g=null,e.C=null,t||ft(e,"ready");try{n.onreadystatechange=r}catch{}}}function GE(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ae.clearTimeout(e.A),e.A=null)}function jn(e){return e.g?e.g.readyState:0}G.aa=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};G.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),f$(t)}};function R0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case HE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}G.Ea=function(){return this.m};G.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qE(e){let t="";return Bm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function tg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Re(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function QE(e){this.Ca=0,this.i=[],this.j=new Nc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ks("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ks("baseRetryDelayMs",5e3,e),this.bb=Ks("retryDelaySeedMs",1e4,e),this.$a=Ks("forwardChannelMaxRetries",2,e),this.ta=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new FE(e&&e.concurrentRequestLimit),this.Fa=new c$,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}G=QE.prototype;G.ma=8;G.G=1;function ng(e){if(YE(e),e.G==3){var t=e.U++,n=Yn(e.F);Re(n,"SID",e.I),Re(n,"RID",t),Re(n,"TYPE","terminate"),_a(e,n),t=new Ia(e,e.j,t,void 0),t.K=2,t.v=Oc(Yn(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon&&(n=ae.navigator.sendBeacon(t.v.toString(),"")),!n&&ae.Image&&(new Image().src=t.v,n=!0),n||(t.g=iT(t.l,null),t.g.da(t.v)),t.F=Date.now(),Pa(t)}nT(e)}function Vc(e){e.g&&(ig(e),e.g.cancel(),e.g=null)}function YE(e){Vc(e),e.u&&(ae.clearTimeout(e.u),e.u=null),Ou(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&ae.clearTimeout(e.m),e.m=null)}function jc(e){VE(e.h)||e.m||(e.m=!0,vE(e.Ja,e),e.C=0)}function y$(e,t){return jE(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Da(Et(e.Ja,e,t),tT(e,e.C)),e.C++,!0)}G.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ia(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=cE(s),dE(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=XE(this,i,t),n=Yn(this.F),Re(n,"RID",e),Re(n,"CVER",22),this.D&&Re(n,"X-HTTP-Session-Id",this.D),_a(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(qE(s)))+"&"+t:this.o&&tg(n,this.o,s)),Jm(this.h,i),this.Ya&&Re(n,"TYPE","init"),this.O?(Re(n,"$req",t),Re(n,"SID","null"),i.Z=!0,Jf(i,n,null)):Jf(i,n,t),this.G=2}}else this.G==3&&(e?_0(this,e):this.i.length==0||VE(this.h)||_0(this))};function _0(e,t){var n;t?n=t.m:n=e.U++;const r=Yn(e.F);Re(r,"SID",e.I),Re(r,"RID",n),Re(r,"AID",e.T),_a(e,r),e.o&&e.s&&tg(r,e.o,e.s),n=new Ia(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=XE(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Jm(e.h,n),Jf(n,r,t)}function _a(e,t){e.ia&&Bm(e.ia,function(n,r){Re(t,r,n)}),e.l&&_E({},function(n,r){Re(t,r,n)})}function XE(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Et(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{d$(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function JE(e){e.g||e.u||(e.Z=1,vE(e.Ia,e),e.A=0)}function rg(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Da(Et(e.Ia,e),tT(e,e.A)),e.A++,!0)}G.Ia=function(){if(this.u=null,ZE(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Da(Et(this.eb,this),e)}};G.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pt(10),Vc(this),ZE(this))};function ig(e){e.B!=null&&(ae.clearTimeout(e.B),e.B=null)}function ZE(e){e.g=new Ia(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Yn(e.sa);Re(t,"RID","rpc"),Re(t,"SID",e.I),Re(t,"CI",e.L?"0":"1"),Re(t,"AID",e.T),Re(t,"TYPE","xmlhttp"),_a(e,t),e.o&&e.s&&tg(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Oc(Yn(t)),n.s=null,n.P=!0,IE(n,e)}G.cb=function(){this.v!=null&&(this.v=null,Vc(this),rg(this),Pt(19))};function Ou(e){e.v!=null&&(ae.clearTimeout(e.v),e.v=null)}function eT(e,t){var n=null;if(e.g==t){Ou(e),ig(e),e.g=null;var r=2}else if(ep(e.h,t))n=t.D,BE(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Rc(),ft(r,new bE(r,n)),jc(e)}else JE(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&y$(e,t)||r==2&&rg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ti(e,5);break;case 4:ti(e,10);break;case 3:ti(e,6);break;default:ti(e,2)}}}function tT(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ti(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=Et(e.kb,e);n||(n=new ai("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||$u(n,"https"),Oc(n)),h$(n.toString(),r)}else Pt(2);e.G=0,e.l&&e.l.va(t),nT(e),YE(e)}G.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function nT(e){if(e.G=0,e.la=[],e.l){const t=UE(e.h);(t.length!=0||e.i.length!=0)&&(E0(e.la,t),E0(e.la,e.i),e.h.i.length=0,Vm(e.i),e.i.length=0),e.l.ua()}}function rT(e,t,n){var r=n instanceof ai?Yn(n):new ai(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Lu(r,r.m);else{var i=ae.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ai(null,void 0);r&&$u(s,r),t&&(s.g=t),i&&Lu(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&Re(r,n,t),Re(r,"VER",e.ma),_a(e,r),r}function iT(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new ze(new Na({jb:!0})):new ze(e.ra),t.Ka(e.H),t}function sT(){}G=sT.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Ra=function(){};function Mu(){if(gs&&!(10<=Number($_)))throw Error("Environmental error: no available transport.")}Mu.prototype.g=function(e,t){return new qt(e,t)};function qt(e,t){lt.call(this),this.g=new QE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Nu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Is(this)}gt(qt,lt);qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Pt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=rT(e,null,e.V),jc(e)};qt.prototype.close=function(){ng(this.g)};qt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Km(e),e=n);t.i.push(new l$(t.ab++,e)),t.G==3&&jc(t)};qt.prototype.M=function(){this.g.l=null,delete this.j,ng(this.g),delete this.g,qt.X.M.call(this)};function oT(e){Ym.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}gt(oT,Ym);function aT(){Xm.call(this),this.status=1}gt(aT,Xm);function Is(e){this.g=e}gt(Is,sT);Is.prototype.xa=function(){ft(this.g,"a")};Is.prototype.wa=function(e){ft(this.g,new oT(e))};Is.prototype.va=function(e){ft(this.g,new aT)};Is.prototype.ua=function(){ft(this.g,"b")};Mu.prototype.createWebChannel=Mu.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;_c.NO_ERROR=0;_c.TIMEOUT=8;_c.HTTP_ERROR=6;kE.COMPLETE="complete";DE.EventType=Aa;Aa.OPEN="a";Aa.CLOSE="b";Aa.ERROR="c";Aa.MESSAGE="d";lt.prototype.listen=lt.prototype.N;ze.prototype.listenOnce=ze.prototype.O;ze.prototype.getLastError=ze.prototype.Oa;ze.prototype.getLastErrorCode=ze.prototype.Ea;ze.prototype.getStatus=ze.prototype.aa;ze.prototype.getResponseJson=ze.prototype.Sa;ze.prototype.getResponseText=ze.prototype.fa;ze.prototype.send=ze.prototype.da;ze.prototype.setWithCredentials=ze.prototype.Ka;var v$=function(){return new Mu},w$=function(){return Rc()},ih=_c,x$=kE,S$=bi,$0={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},E$=Na,wl=DE,T$=ze;const L0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new eE("@firebase/firestore");function O0(){return vi.logLevel}function Y(e,...t){if(vi.logLevel<=xe.DEBUG){const n=t.map(sg);vi.debug(`Firestore (${Ps}): ${e}`,...n)}}function Xn(e,...t){if(vi.logLevel<=xe.ERROR){const n=t.map(sg);vi.error(`Firestore (${Ps}): ${e}`,...n)}}function Fu(e,...t){if(vi.logLevel<=xe.WARN){const n=t.map(sg);vi.warn(`Firestore (${Ps}): ${e}`,...n)}}function sg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e="Unexpected state"){const t=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+e;throw Xn(t),new Error(t)}function Me(e,t){e||ie()}function fe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Z=class extends Ds{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lT=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}};class C${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class b${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let k$=class{constructor(t){this.t=t,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new lT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string"),new xt(t)}},D$=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},A$=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new D$(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class I${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let P$=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Me(typeof n.token=="string"),this.T=n.token,new I$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uT=class{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=N$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function Ee(e,t){return e<t?-1:e>t?1:0}function ys(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bt=class jl{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jl.fromMillis(Date.now())}static fromDate(t){return jl.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new jl(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new oe(t)}static min(){return new oe(new Bt(0,0))}static max(){return new oe(new Bt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n,r){n===void 0?n=0:n>t.length&&ie(),r===void 0?r=t.length-n:r>t.length-n&&ie(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return sa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sa?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ue extends sa{construct(t,n,r){return new Ue(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const R$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends sa{construct(t,n,r){return new It(t,n,r)}static isValidIdentifier(t){return R$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.path=t}static fromPath(t){return new ne(Ue.fromString(t))}static fromName(t){return new ne(Ue.fromString(t).popFirst(5))}static empty(){return new ne(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ne(new Ue(t.slice()))}}function _$(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new Pr(i,ne.empty(),t)}function $$(e){return new Pr(e.readTime,e.key,-1)}class Pr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(oe.min(),ne.empty(),-1)}static max(){return new Pr(oe.max(),ne.empty(),-1)}}function L$(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ne.comparator(e.documentKey,t.documentKey),n!==0?n:Ee(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==O$)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):R.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):R.reject(n)}static resolve(t){return new R((n,r)=>{n(t)})}static reject(t){return new R((n,r)=>{r(t)})}static waitFor(t){return new R((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=R.resolve(!1);for(const r of t)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new R((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new R((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function $a(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}ag.ct=-1;function La(e){return e==null}function Vu(e){return e===0&&1/e==-1/0}function F$(e){return typeof e=="number"&&Number.isInteger(e)&&!Vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ns(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t,n){this.comparator=t,this.root=n||dt.EMPTY}insert(t,n){return new mt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(t){return new mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xl(this.root,t,this.comparator,!0)}}let xl=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}};class dt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new dt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const t=this.left.check();if(t!==this.right.check())throw ie();return t+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,n,r,i){return this}insert(e,t,n){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ct=class tp{constructor(t){this.comparator=t,this.data=new mt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(t){return new F0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof tp)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new tp(this.comparator);return n.data=t,n}};class F0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.fields=t,t.sort(It.comparator)}static empty(){return new sn([])}unionWith(t){let n=new Ct(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ys(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V$=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class np{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new V$("Invalid base64 string: "+i):i}}(t);return new np(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new np(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Qt.EMPTY_BYTE_STRING=new Qt("");const j$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(e){if(Me(!!e),typeof e=="string"){let t=0;const n=j$.exec(e);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ye(e.seconds),nanos:Ye(e.nanos)}}function Ye(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vs(e){return typeof e=="string"?Qt.fromBase64String(e):Qt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hT(e){const t=e.mapValue.fields.__previous_value__;return dT(t)?hT(t):t}function oa(e){const t=Nr(e.mapValue.fields.__local_write_time__.timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B$=class{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}};class aa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof aa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dT(e)?4:U$(e)?9007199254740991:10:ie()}function Nn(e,t){if(e===t)return!0;const n=wi(e);if(n!==wi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oa(e).isEqual(oa(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Nr(r.timestampValue),o=Nr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return vs(r.bytesValue).isEqual(vs(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Ye(r.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ye(r.integerValue)===Ye(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ye(r.doubleValue),o=Ye(i.doubleValue);return s===o?Vu(s)===Vu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ys(e.arrayValue.values||[],t.arrayValue.values||[],Nn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(M0(s)!==M0(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Nn(s[a],o[a])))return!1;return!0}(e,t);default:return ie()}}function la(e,t){return(e.values||[]).find(n=>Nn(n,t))!==void 0}function ws(e,t){if(e===t)return 0;const n=wi(e),r=wi(t);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Ye(i.integerValue||i.doubleValue),a=Ye(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return V0(e.timestampValue,t.timestampValue);case 4:return V0(oa(e),oa(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(i,s){const o=vs(i),a=vs(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ee(o[l],a[l]);if(u!==0)return u}return Ee(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Ee(Ye(i.latitude),Ye(s.latitude));return o!==0?o:Ee(Ye(i.longitude),Ye(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ws(o[l],a[l]);if(u)return u}return Ee(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Sl.mapValue&&s===Sl.mapValue)return 0;if(i===Sl.mapValue)return 1;if(s===Sl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Ee(a[c],u[c]);if(h!==0)return h;const d=ws(o[a[c]],l[u[c]]);if(d!==0)return d}return Ee(a.length,u.length)}(e.mapValue,t.mapValue);default:throw ie()}}function V0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);const n=Nr(e),r=Nr(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function xs(e){return rp(e)}function rp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Nr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=rp(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${rp(r.fields[a])}`;return s+"}"}(e.mapValue):ie();var t,n}function ip(e){return!!e&&"integerValue"in e}function lg(e){return!!e&&"arrayValue"in e}function j0(e){return!!e&&"nullValue"in e}function B0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sh(e){return!!e&&"mapValue"in e}function To(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ns(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=To(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=To(e.arrayValue.values[n]);return t}return Object.assign({},e)}function U$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.value=t}static empty(){return new Ot({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(n)}setAll(t){let n=It.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=To(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Nn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ns(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ot(To(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ot(t,0,oe.min(),oe.min(),oe.min(),Ot.empty(),0)}static newFoundDocument(t,n,r,i){return new ot(t,1,n,oe.min(),r,i,0)}static newNoDocument(t,n){return new ot(t,2,n,oe.min(),oe.min(),Ot.empty(),0)}static newUnknownDocument(t,n){return new ot(t,3,n,oe.min(),oe.min(),Ot.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ot&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n){this.position=t,this.inclusive=n}}function U0(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n="asc"){this.field=t,this.dir=n}}function z$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{}class tt extends fT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new W$(t,n,r):n==="array-contains"?new q$(t,r):n==="in"?new Q$(t,r):n==="not-in"?new Y$(t,r):n==="array-contains-any"?new X$(t,r):new tt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new K$(t,r):new G$(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ws(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends fT{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new Rn(t,n)}matches(t){return pT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function pT(e){return e.op==="and"}function mT(e){return H$(e)&&pT(e)}function H$(e){for(const t of e.filters)if(t instanceof Rn)return!1;return!0}function sp(e){if(e instanceof tt)return e.field.canonicalString()+e.op.toString()+xs(e.value);if(mT(e))return e.filters.map(t=>sp(t)).join(",");{const t=e.filters.map(n=>sp(n)).join(",");return`${e.op}(${t})`}}function gT(e,t){return e instanceof tt?function(n,r){return r instanceof tt&&n.op===r.op&&n.field.isEqual(r.field)&&Nn(n.value,r.value)}(e,t):e instanceof Rn?function(n,r){return r instanceof Rn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&gT(s,r.filters[o]),!0):!1}(e,t):void ie()}function yT(e){return e instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${xs(t.value)}`}(e):e instanceof Rn?function(t){return t.op.toString()+" {"+t.getFilters().map(yT).join(" ,")+"}"}(e):"Filter"}class W$ extends tt{constructor(t,n,r){super(t,n,r),this.key=ne.fromName(r.referenceValue)}matches(t){const n=ne.comparator(t.key,this.key);return this.matchesComparison(n)}}class K$ extends tt{constructor(t,n){super(t,"in",n),this.keys=vT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class G$ extends tt{constructor(t,n){super(t,"not-in",n),this.keys=vT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class q$ extends tt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return lg(n)&&la(n.arrayValue,this.value)}}class Q$ extends tt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class Y$ extends tt{constructor(t,n){super(t,"not-in",n)}matches(t){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class X$ extends tt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>la(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function H0(e,t=null,n=[],r=[],i=null,s=null,o=null){return new J$(e,t,n,r,i,s,o)}function ug(e){const t=fe(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>sp(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),La(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>xs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>xs(r)).join(",")),t.ft=n}return t.ft}function cg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!z$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!z0(e.startAt,t.startAt)&&z0(e.endAt,t.endAt)}function op(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Z$(e,t,n,r,i,s,o,a){return new Bc(e,t,n,r,i,s,o,a)}function dg(e){return new Bc(e)}function W0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function eL(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tL(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function nL(e){return e.collectionGroup!==null}function is(e){const t=fe(e);if(t.dt===null){t.dt=[];const n=tL(t),r=eL(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Co(n)),t.dt.push(new Co(It.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Co(It.keyField(),s))}}}return t.dt}function Jn(e){const t=fe(e);if(!t.wt)if(t.limitType==="F")t.wt=H0(t.path,t.collectionGroup,is(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of is(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Co(s.field,o))}const r=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;t.wt=H0(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function ap(e,t,n){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uc(e,t){return cg(Jn(e),Jn(t))&&e.limitType===t.limitType}function wT(e){return`${ug(Jn(e))}|lt:${e.limitType}`}function lp(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>yT(r)).join(", ")}]`),La(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>xs(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>xs(r)).join(",")),`Target(${n})`}(Jn(e))}; limitType=${e.limitType})`}function zc(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of is(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=U0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,is(n),r)||n.endAt&&!function(i,s,o){const a=U0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,is(n),r))}(e,t)}function rL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xT(e){return(t,n)=>{let r=!1;for(const i of is(e)){const s=iL(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iL(e,t,n){const r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ws(a,l):ie()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ns(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new mt(ne.comparator);function Rr(){return sL}const ST=new mt(ne.comparator);function io(...e){let t=ST;for(const n of e)t=t.insert(n.key,n);return t}function oL(e){let t=ST;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ni(){return bo()}function ET(){return bo()}function bo(){return new Rs(e=>e.toString(),(e,t)=>e.isEqual(t))}const aL=new Ct(ne.comparator);function ge(...e){let t=aL;for(const n of e)t=t.add(n);return t}const lL=new Ct(Ee);function TT(){return lL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function bT(e){return{integerValue:""+e}}function uL(e,t){return F$(t)?bT(t):CT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function cL(e,t,n){return e instanceof Bu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ua?kT(e,t):e instanceof ca?DT(e,t):function(r,i){const s=hL(r,i),o=K0(s)+K0(r._t);return ip(s)&&ip(r._t)?bT(o):CT(r.serializer,o)}(e,t)}function dL(e,t,n){return e instanceof ua?kT(e,t):e instanceof ca?DT(e,t):n}function hL(e,t){return e instanceof Uu?ip(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Bu extends Hc{}class ua extends Hc{constructor(t){super(),this.elements=t}}function kT(e,t){const n=AT(t);for(const r of e.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ca extends Hc{constructor(t){super(),this.elements=t}}function DT(e,t){let n=AT(t);for(const r of e.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class Uu extends Hc{constructor(t,n){super(),this.serializer=t,this._t=n}}function K0(e){return Ye(e.integerValue||e.doubleValue)}function AT(e){return lg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function fL(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof ua&&r instanceof ua||n instanceof ca&&r instanceof ca?ys(n.elements,r.elements,Nn):n instanceof Uu&&r instanceof Uu?Nn(n._t,r._t):n instanceof Bu&&r instanceof Bu}(e.transform,t.transform)}class nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nn}static exists(t){return new nn(void 0,t)}static updateTime(t){return new nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wc{}function IT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hg(e.key,nn.none()):new Oa(e.key,e.data,nn.none());{const n=e.data,r=Ot.empty();let i=new Ct(It.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(e.key,r,new sn(i.toArray()),nn.none())}}function pL(e,t,n){e instanceof Oa?function(r,i,s){const o=r.value.clone(),a=q0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof ki?function(r,i,s){if(!Bl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=q0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(PT(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ko(e,t,n,r){return e instanceof Oa?function(i,s,o,a){if(!Bl(i.precondition,s))return o;const l=i.value.clone(),u=Q0(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof ki?function(i,s,o,a){if(!Bl(i.precondition,s))return o;const l=Q0(i.fieldTransforms,a,s),u=s.data;return u.setAll(PT(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Bl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function G0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ys(n,r,(i,s)=>fL(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Oa extends Wc{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Wc{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function q0(e,t,n){const r=new Map;Me(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,dL(o,a,n[i]))}return r}function Q0(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cL(s,o,t))}return r}class hg extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NT extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&pL(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ko(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ko(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ET();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=IT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ge())}isEqual(t){return this.batchId===t.batchId&&ys(this.mutations,t.mutations,(n,r)=>G0(n,r))&&ys(this.baseMutations,t.baseMutations,(n,r)=>G0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,he;function vL(e){switch(e){default:return ie();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function RT(e){if(e===void 0)return Xn("GRPC error has no .code"),P.UNKNOWN;switch(e){case qe.OK:return P.OK;case qe.CANCELLED:return P.CANCELLED;case qe.UNKNOWN:return P.UNKNOWN;case qe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case qe.INTERNAL:return P.INTERNAL;case qe.UNAVAILABLE:return P.UNAVAILABLE;case qe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case qe.NOT_FOUND:return P.NOT_FOUND;case qe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case qe.ABORTED:return P.ABORTED;case qe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case qe.DATA_LOSS:return P.DATA_LOSS;default:return ie()}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return El}static getOrCreateInstance(){return El===null&&(El=new fg),El}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let El=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ma.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Kc(oe.min(),i,TT(),Rr(),ge())}}class Ma{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ma(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class _T{constructor(t,n){this.targetId=t,this.Et=n}}class $T{constructor(t,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y0{constructor(){this.At=0,this.Rt=J0(),this.vt=Qt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=ge(),n=ge(),r=ge();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Ma(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=J0()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class wL{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Rr(),this.qt=X0(),this.Ut=new Ct(Ee)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:ie()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(op(o))if(i===0){const a=new ne(o.path);this.Qt(r,a,ot.newNoDocument(a,oe.min()))}else Me(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=fg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&op(a.target)){const l=new ne(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,ot.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ge();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new Kc(t,n,this.Ut,this.Lt,r);return this.Lt=Rr(),this.qt=X0(),this.Ut=new Ct(Ee),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new Y0,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Ct(Ee),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new Y0),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function X0(){return new mt(ne.comparator)}function J0(){return new mt(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),SL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EL=(()=>({and:"AND",or:"OR"}))();class TL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function CL(e,t){return zu(e,t.toTimestamp())}function Hn(e){return Me(!!e),oe.fromTimestamp(function(t){const n=Nr(t);return new Bt(n.seconds,n.nanos)}(e))}function pg(e,t){return function(n){return new Ue(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function OT(e){const t=Ue.fromString(e);return Me(jT(t)),t}function Hu(e,t){return pg(e.databaseId,t.path)}function Do(e,t){const n=OT(t);if(n.get(1)!==e.databaseId.projectId)throw new Z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(MT(n))}function up(e,t){return pg(e.databaseId,t)}function bL(e){const t=OT(e);return t.length===4?Ue.emptyPath():MT(t)}function Wu(e){return new Ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MT(e){return Me(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Z0(e,t,n){return{name:Hu(e,t),fields:n.value.mapValue.fields}}function kL(e,t){return"found"in t?function(n,r){Me(!!r.found),r.found.name,r.found.updateTime;const i=Do(n,r.found.name),s=Hn(r.found.updateTime),o=r.found.createTime?Hn(r.found.createTime):oe.min(),a=new Ot({mapValue:{fields:r.found.fields}});return ot.newFoundDocument(i,s,o,a)}(e,t):"missing"in t?function(n,r){Me(!!r.missing),Me(!!r.readTime);const i=Do(n,r.missing),s=Hn(r.readTime);return ot.newNoDocument(i,s)}(e,t):ie()}function DL(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Me(u===void 0||typeof u=="string"),Qt.fromBase64String(u||"")):(Me(u===void 0||u instanceof Uint8Array),Qt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?P.UNKNOWN:RT(l.code);return new Z(u,l.message||"")}(o);n=new $T(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Do(e,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):oe.min(),a=new Ot({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ul(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Do(e,r.document),s=r.readTime?Hn(r.readTime):oe.min(),o=ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ul([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Do(e,r.document),s=r.removedTargetIds||[];n=new Ul([],s,i,null)}else{if(!("filter"in t))return ie();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new yL(i),o=r.targetId;n=new _T(o,s)}}return n}function AL(e,t){let n;if(t instanceof Oa)n={update:Z0(e,t.key,t.value)};else if(t instanceof hg)n={delete:Hu(e,t.key)};else if(t instanceof ki)n={update:Z0(e,t.key,t.data),updateMask:OL(t.fieldMask)};else{if(!(t instanceof NT))return ie();n={verify:Hu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Uu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ie()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:CL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(e,t.precondition)),n}function IL(e,t){return{documents:[up(e,t.path)]}}function PL(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=up(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=up(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return VT(Rn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ni(c.field),direction:_L(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||La(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function NL(e){let t=bL(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=FT(c);return h instanceof Rn&&mT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Co(Ri(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,La(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new ju(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new ju(d,h)}(n.endAt)),Z$(t,i,o,s,a,"F",l,u)}function RL(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ri(t.unaryFilter.field);return tt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ri(t.unaryFilter.field);return tt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ri(t.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ri(t.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(e):e.fieldFilter!==void 0?function(t){return tt.create(Ri(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Rn.create(t.compositeFilter.filters.map(n=>FT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(e):ie()}function _L(e){return xL[e]}function $L(e){return SL[e]}function LL(e){return EL[e]}function Ni(e){return{fieldPath:e.canonicalString()}}function Ri(e){return It.fromServerFormat(e.fieldPath)}function VT(e){return e instanceof tt?function(t){if(t.op==="=="){if(B0(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NAN"}};if(j0(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(B0(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NOT_NAN"}};if(j0(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(t.field),op:$L(t.op),value:t.value}}}(e):e instanceof Rn?function(t){const n=t.getFilters().map(r=>VT(r));return n.length===1?n[0]:{compositeFilter:{op:LL(t.op),filters:n}}}(e):ie()}function OL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function jT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n,r,i,s=oe.min(),o=oe.min(),a=Qt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t){this.se=t}}function FL(e){const t=NL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ap(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.He=new jL}addToCollectionParentIndex(t,n){return this.He.add(n),R.resolve()}getCollectionParents(t,n){return R.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return R.resolve()}deleteFieldIndex(t,n){return R.resolve()}getDocumentsMatchingTarget(t,n){return R.resolve(null)}getIndexType(t,n){return R.resolve(0)}getFieldIndexes(t,n){return R.resolve([])}getNextCollectionGroupToUpdate(t){return R.resolve(null)}getMinOffset(t,n){return R.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,n){return R.resolve(Pr.min())}updateCollectionGroup(t,n,r){return R.resolve()}updateIndexEntries(t,n){return R.resolve()}}class jL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ct(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ct(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Ss(0)}static bn(){return new Ss(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.changes=new Rs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ot.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ko(r.mutation,i,sn.empty(),Bt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ge()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ge()){const i=ni();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=io();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ni();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ge()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Rr();const o=bo(),a=bo();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ki)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ko(c.mutation,u,c.mutation.getFieldMask(),Bt.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new UL(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=bo();let i=new mt((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||sn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=ET();c.forEach(d=>{if(!s.has(d)){const f=IT(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):nL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):R.resolve(ni());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ge())).next(c=>({batchId:a,changes:oL(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ne(n)).next(r=>{let i=io();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=io();return this.indexManager.getCollectionParents(t,i).next(o=>R.forEach(o,a=>{const l=function(u,c){return new Bc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ot.newInvalidDocument(u)))});let o=io();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ko(u.mutation,l,sn.empty(),Bt.now()),zc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return R.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Hn(r.createTime)}),R.resolve()}getNamedQuery(t,n){return R.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:FL(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.overlays=new mt(ne.comparator),this.ts=new Map}getOverlay(t,n){return R.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ni();return R.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),R.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),R.resolve()}getOverlaysForCollection(t,n,r){const i=ni(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new mt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ni(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ni(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gL(n,r));let s=this.ts.get(n);s===void 0&&(s=ge(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.es=new Ct(it.ns),this.ss=new Ct(it.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new it(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new it(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new ne(new Ue([])),r=new it(n,t),i=new it(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new ne(new Ue([])),r=new it(n,t),i=new it(n,t+1);let s=ge();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new it(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class it{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return ne.comparator(t.key,n.key)||Ee(t.ds,n.ds)}static rs(t,n){return Ee(t.ds,n.ds)||ne.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ct(it.ns)}checkEmpty(t){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(t,n){return R.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ct(Ee);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),R.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new it(new ne(s),0);let a=new Ct(Ee);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),R.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Me(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return R.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new it(n,0),i=this._s.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,R.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t){this.Ts=t,this.docs=new mt(ne.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(t,n){let r=Rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ot.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Rr();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||L$($$(c),r)<=0||(i.has(c.key)||zc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ie()}Es(t,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new qL(this)}getSize(t){return R.resolve(this.size)}}class qL extends BL{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),R.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t){this.persistence=t,this.As=new Rs(n=>ug(n),cg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Rs=0,this.vs=new mg,this.targetCount=0,this.bs=Ss.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(t){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return R.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),R.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Ss(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,R.resolve()}updateTargetData(t,n){return this.Sn(n),R.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(t){return R.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return R.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),R.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),R.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return R.resolve(r)}containsKey(t,n){return R.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new ag(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new QL(this),this.indexManager=new VL,this.remoteDocumentCache=function(r){return new GL(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new ML(n),this.xs=new HL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new KL(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const i=new XL(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return R.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class XL extends M${constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.$s=new mg,this.Ms=null}static Fs(t){return new gg(t)}get Bs(){if(this.Ms)return this.Ms;throw ie()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),R.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),R.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),R.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Bs,r=>{const i=ne.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return R.or([()=>R.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yg(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(W0(n))return R.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ap(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ge(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,ap(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return W0(n)||i.isEqual(oe.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(O0()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lp(n)),this.Fi(t,o,n,_$(i,-1)))})}$i(t,n){let r=new Ct(xT(t));return n.forEach((i,s)=>{zc(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return O0()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",lp(n)),this.xi.getDocumentsMatchingQuery(t,n,Pr.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new mt(Ee),this.qi=new Rs(s=>ug(s),cg),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zL(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function eO(e,t,n,r){return new ZL(e,t,n,r)}async function BT(e,t){const n=fe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function UT(e){const t=fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function tO(e,t){const n=fe(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?f=f.withResumeToken(Qt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(g,w,x){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,f,c)&&a.push(n.Ds.updateTargetData(s,f))});let l=Rr(),u=ge();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(nO(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(oe.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(h=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function nO(e,t,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Rr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function rO(e,t){const n=fe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,R.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ui(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function cp(e,t,n){const r=fe(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$a(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function e1(e,t,n){const r=fe(e);let i=oe.min(),s=ge();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=fe(a),h=c.qi.get(u);return h!==void 0?R.resolve(c.Li.get(h)):c.Ds.getTargetData(l,u)}(r,o,Jn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:oe.min(),n?s:ge())).next(a=>(iO(r,rL(t),a),{documents:a,Wi:s})))}function iO(e,t,n){let r=e.Ui.get(t)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}class t1{constructor(){this.activeTargetIds=TT()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sO{constructor(){this.Br=new t1,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new t1,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function oh(){return Tl===null?Tl=268435456+Math.round(2147483648*Math.random()):Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class uO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=oh(),a=this.ao(t,n);Y("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(Y("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw Fu("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ps,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=aO[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=oh();return new Promise((o,a)=>{const l=new T$;l.setWithCredentials(!0),l.listenOnce(x$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ih.NO_ERROR:const c=l.getResponseJson();Y(wt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case ih.TIMEOUT:Y(wt,`RPC '${t}' ${s} timed out`),a(new Z(P.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const h=l.getStatus();if(Y(wt,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(x)>=0?x:P.UNKNOWN}(f.status);a(new Z(g,f.message))}else a(new Z(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(P.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Y(wt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Y(wt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=oh(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=v$(),a=w$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new E$({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Y(wt,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,d=!1;const f=new lO({Wr:w=>{d?Y(wt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(Y(wt,`Opening RPC '${t}' stream ${i} transport.`),c.open(),h=!0),Y(wt,`RPC '${t}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),g=(w,x,v)=>{w.listen(x,p=>{try{v(p)}catch(y){setTimeout(()=>{throw y},0)}})};return g(c,wl.EventType.OPEN,()=>{d||Y(wt,`RPC '${t}' stream ${i} transport opened.`)}),g(c,wl.EventType.CLOSE,()=>{d||(d=!0,Y(wt,`RPC '${t}' stream ${i} transport closed`),f.so())}),g(c,wl.EventType.ERROR,w=>{d||(d=!0,Fu(wt,`RPC '${t}' stream ${i} transport errored:`,w),f.so(new Z(P.UNAVAILABLE,"The operation could not be completed")))}),g(c,wl.EventType.MESSAGE,w=>{var x;if(!d){const v=w.data[0];Me(!!v);const p=v,y=p.error||((x=p[0])===null||x===void 0?void 0:x.error);if(y){Y(wt,`RPC '${t}' stream ${i} received error:`,y);const S=y.status;let C=function(D){const b=qe[D];if(b!==void 0)return RT(b)}(S),A=y.message;C===void 0&&(C=P.INTERNAL,A="Unknown error status: "+S+" with message "+y.message),d=!0,f.so(new Z(C,A)),c.close()}else Y(wt,`RPC '${t}' stream ${i} received:`,v),f.io(v)}}),g(a,S$.STAT_EVENT,w=>{w.stat===$0.PROXY?Y(wt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===$0.NOPROXY&&Y(wt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){return new TL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new vg(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new Z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return Y("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dO extends cO{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=DL(this.serializer,t),r=function(i){if(!("targetChange"in i))return oe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?Hn(s.readTime):oe.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=Wu(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=op(a)?{documents:IL(i,a)}:{query:PL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=LT(i,s.resumeToken):s.snapshotVersion.compareTo(oe.min())>0&&(o.readTime=zu(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=RL(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=Wu(this.serializer),n.removeTarget=t,this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Z(P.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(P.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(P.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class fO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Xn(n),this.ru=!1):Y("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Va(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l.du.add(4),await Fa(l),l.mu.set("Unknown"),l.du.delete(4),await qc(l)}(this))})}),this.mu=new fO(r,i)}}async function qc(e){if(Va(e))for(const t of e.wu)await t(!0)}async function Fa(e){for(const t of e.wu)await t(!1)}function zT(e,t){const n=fe(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Sg(n)?xg(n):_s(n).No()&&wg(n,t))}function HT(e,t){const n=fe(e),r=_s(n);n.fu.delete(t),r.No()&&WT(n,t),n.fu.size===0&&(r.No()?r.$o():Va(n)&&n.mu.set("Unknown"))}function wg(e,t){e.gu.Ot(t.targetId),_s(e).jo(t)}function WT(e,t){e.gu.Ot(t),_s(e).Wo(t)}function xg(e){e.gu=new wL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),_s(e).start(),e.mu.ou()}function Sg(e){return Va(e)&&!_s(e).xo()&&e.fu.size>0}function Va(e){return fe(e).du.size===0}function KT(e){e.gu=void 0}async function mO(e){e.fu.forEach((t,n)=>{wg(e,t)})}async function gO(e,t){KT(e),Sg(e)?(e.mu.au(t),xg(e)):e.mu.set("Unknown")}async function yO(e,t,n){if(e.mu.set("Online"),t instanceof $T&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await r1(e,r)}else if(t instanceof Ul?e.gu.Kt(t):t instanceof _T?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(oe.min()))try{const r=await UT(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(Qt.EMPTY_BYTE_STRING,l.snapshotVersion)),WT(i,a);const u=new ui(l.target,a,1,l.sequenceNumber);wg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await r1(e,r)}}async function r1(e,t,n){if(!$a(t))throw t;e.du.add(1),await Fa(e),e.mu.set("Offline"),n||(n=()=>UT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await qc(e)})}async function i1(e,t){const n=fe(e);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Va(n);n.du.add(3),await Fa(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await qc(n)}async function vO(e,t){const n=fe(e);t?(n.du.delete(2),await qc(n)):t||(n.du.add(2),await Fa(n),n.mu.set("Unknown"))}function _s(e){return e.yu||(e.yu=function(t,n,r){const i=fe(t);return i.nu(),new dO(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:mO.bind(null,e),Zr:gO.bind(null,e),zo:yO.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),Sg(e)?xg(e):e.mu.set("Unknown")):(await e.yu.stop(),KT(e))})),e.yu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Eg(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GT(e,t){if(Xn("AsyncQueue",`${t}: ${e}`),$a(e))return new Z(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=io(),this.sortedSet=new mt(this.comparator)}static emptySet(t){return new ss(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ss)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ss;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.Iu=new mt(ne.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):ie():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Es{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Es(t,n,ss.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Eu=void 0,this.listeners=[]}}class xO{constructor(){this.queries=new Rs(t=>wT(t),Uc),this.onlineState="Unknown",this.Au=new Set}}async function SO(e,t){const n=fe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wO),i)try{s.Eu=await n.onListen(r)}catch(o){const a=GT(o,`Initialization of query '${lp(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&Tg(n)}async function EO(e,t){const n=fe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function TO(e,t){const n=fe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Tg(n)}function CO(e,t,n){const r=fe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Tg(e){e.Au.forEach(t=>{t.next()})}class bO{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Es(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=Es.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.key=t}}class QT{constructor(t){this.key=t}}class kO{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ge(),this.mutatedKeys=ge(),this.Ku=xT(t),this.Gu=new ss(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new s1,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),f=zc(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;d&&f?d.data.isEqual(f.data)?g!==w&&(r.track({type:3,doc:f}),x=!0):this.Wu(d,f)||(r.track({type:2,doc:f}),x=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),x=!0):d&&!f&&(r.track({type:1,doc:d}),x=!0,(l||u)&&(a=!0)),x&&(f?(o=o.add(f),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(h,d){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return f(h)-f(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Es(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new s1,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=ge(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new QT(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new qT(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=ge();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return Es.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class DO{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class AO{constructor(t){this.key=t,this.ec=!1}}class IO{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Rs(a=>wT(a),Uc),this.ic=new Map,this.rc=new Set,this.oc=new mt(ne.comparator),this.uc=new Map,this.cc=new mg,this.ac={},this.hc=new Map,this.lc=Ss.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function PO(e,t){const n=MO(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await rO(n.localStore,Jn(t));n.isPrimaryClient&&zT(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await NO(n,t,r,a==="current",o.resumeToken)}return i}async function NO(e,t,n,r,i){e.dc=(h,d,f)=>async function(g,w,x,v){let p=w.view.zu(x);p.Mi&&(p=await e1(g.localStore,w.query,!1).then(({documents:C})=>w.view.zu(C,p)));const y=v&&v.targetChanges.get(w.targetId),S=w.view.applyChanges(p,g.isPrimaryClient,y);return a1(g,w.targetId,S.Yu),S.snapshot}(e,h,d,f);const s=await e1(e.localStore,t,!0),o=new kO(t,s.Wi),a=o.zu(s.documents),l=Ma.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);a1(e,n,u.Yu);const c=new DO(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function RO(e,t){const n=fe(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Uc(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),HT(n.remoteStore,r.targetId),dp(n,r.targetId)}).catch(og)):(dp(n,r.targetId),await cp(n.localStore,r.targetId,!0))}async function YT(e,t){const n=fe(e);try{const r=await tO(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Me(o.ec):i.removedDocuments.size>0&&(Me(o.ec),o.ec=!1))}),await JT(n,r,t)}catch(r){await og(r)}}function o1(e,t,n){const r=fe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=fe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Ru(o)&&(l=!0)}),l&&Tg(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _O(e,t,n){const r=fe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new mt(ne.comparator);o=o.insert(s,ot.newNoDocument(s,oe.min()));const a=ge().add(s),l=new Kc(oe.min(),new Map,new Ct(Ee),o,a);await YT(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),Cg(r)}else await cp(r.localStore,t,!1).then(()=>dp(r,t,n)).catch(og)}function dp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||XT(e,r)})}function XT(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(HT(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Cg(e))}function a1(e,t,n){for(const r of n)r instanceof qT?(e.cc.addReference(r.key,t),$O(e,r)):r instanceof QT?(Y("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||XT(e,r.key)):ie()}function $O(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Y("SyncEngine","New document in limbo: "+n),e.rc.add(r),Cg(e))}function Cg(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new ne(Ue.fromString(t)),r=e.lc.next();e.uc.set(r,new AO(n)),e.oc=e.oc.insert(n,r),zT(e.remoteStore,new ui(Jn(dg(n.path)),r,2,ag.ct))}}async function JT(e,t,n){const r=fe(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=yg.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=fe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>R.forEach(l,h=>R.forEach(h.Vi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>R.forEach(h.Si,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!$a(c))throw c;Y("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Li.get(h),f=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(f);u.Li=u.Li.insert(h,g)}}}(r.localStore,s))}async function LO(e,t){const n=fe(e);if(!n.currentUser.isEqual(t)){Y("SyncEngine","User change. New user:",t.toKey());const r=await BT(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new Z(P.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await JT(n,r.Qi)}}function OO(e,t){const n=fe(e),r=n.uc.get(t);if(r&&r.ec)return ge().add(r.key);{let i=ge();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function MO(e){const t=fe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_O.bind(null,t),t.nc.zo=TO.bind(null,t.eventManager),t.nc.wc=CO.bind(null,t.eventManager),t}class l1{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Gc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return eO(this.persistence,new JL,t.initialUser,this.serializer)}createPersistence(t){return new YL(gg.Fs,this.serializer)}createSharedClientState(t){return new sO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FO{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new xO}createDatastore(t){const n=Gc(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new uO(i));var i;return function(s,o,a,l){return new hO(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>o1(this.syncEngine,a,0),o=n1.D()?new n1:new oO,new pO(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new IO(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=fe(t);Y("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Fa(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Xn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Z(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=fe(r),o=Wu(s.serializer)+"/documents",a={documents:i.map(h=>Hu(s.serializer,h))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(h=>{const d=kL(s.serializer,h);u.set(d.key.toString(),d)});const c=[];return i.forEach(h=>{const d=u.get(h.toString());Me(!!d),c.push(d)}),c}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new hg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=ne.fromPath(r);this.mutations.push(new NT(i,this.precondition(i)))}),await async function(n,r){const i=fe(n),s=Wu(i.serializer)+"/documents",o={writes:r.map(a=>AL(i.serializer,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ie();n=oe.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Z(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(oe.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(oe.min()))throw new Z(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Vc=r.maxAttempts,this.Co=new vg(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){this.Co.Ao(async()=>{const t=new jO(this.datastore),n=this.Dc(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Cc(i)}))}).catch(r=>{this.Cc(r)})})}Dc(t){try{const n=this.updateFunction(t);return!La(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=uT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Y("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=GT(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function lh(e,t){e.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function u1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HO(e);Y("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>i1(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>i1(t.remoteStore,s)),e._onlineComponents=t}function zO(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function HO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await lh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!zO(n))throw n;Fu("Error using user provided cache. Falling back to memory cache: "+n),await lh(e,new l1)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await lh(e,new l1);return e._offlineComponents}async function ZT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await u1(e,e._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await u1(e,new FO))),e._onlineComponents}function WO(e){return ZT(e).then(t=>t.datastore)}async function c1(e){const t=await ZT(e),n=t.eventManager;return n.onListen=PO.bind(null,t.syncEngine),n.onUnlisten=RO.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e,t,n){if(!n)throw new Z(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GO(e,t,n,r){if(t===!0&&r===!0)throw new Z(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function h1(e){if(!ne.isDocumentKey(e))throw new Z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ie()}function Ao(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bg(e);throw new Z(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,GO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f1(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new C$;switch(n.type){case"firstParty":return new A$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=d1.get(t);n&&(Y("ComponentProvider","Removing Datastore"),d1.delete(t),n.terminate())}(this),Promise.resolve()}}function qO(e,t,n,r={}){var i;const s=(e=Ao(e,kg))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&Fu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=xt.MOCK_USER;else{o=lR(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new xt(l)}e._authCredentials=new b$(new lT(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Qc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qc(this.firestore,t,this._query)}}class da extends Qc{constructor(t,n,r){super(t,n,dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new ne(t))}withConverter(t){return new da(this.firestore,t,this._path)}}function ja(e,t,...n){if(e=Qn(e),arguments.length===1&&(t=uT.A()),KO("doc","path",t),e instanceof kg){const r=Ue.fromString(t,...n);return h1(r),new ln(e,null,new ne(r))}{if(!(e instanceof ln||e instanceof da))throw new Z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ue.fromString(t,...n));return h1(r),new ln(e.firestore,e instanceof da?e.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new vg(this,"async_queue_retry"),this.qc=()=>{const n=ah();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=ah();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new li;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!$a(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=Eg.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&ie()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}function p1(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Ku extends kg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new QO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tC(this),this._firestoreClient.terminate()}}function YO(e,t){const n=typeof e=="object"?e:h_(),r=typeof e=="string"?e:t||"(default)",i=l_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sR("firestore");s&&qO(i,...s)}return i}function eC(e){return e._firestoreClient||tC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tC(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new B$(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new UO(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(Qt.fromBase64String(t))}catch(n){throw new Z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xi(Qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class JO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ki(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oa(t,this.data,n,this.fieldTransforms)}}class nC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ki(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Ig{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new Ig(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return Gu(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(rC(this.Yc)&&XO.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class ZO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Gc(t)}ua(t,n,r,i=!1){return new Ig({Yc:t,methodName:n,oa:r,path:It.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eM(e){const t=e._freezeSettings(),n=Gc(e._databaseId);return new ZO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tM(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);Pg("Data must be an object, but it was:",o,r);const a=iC(r,o);let l,u;if(s.merge)l=new sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=hp(t,h,n);if(!o.contains(d))throw new Z(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);oC(c,d)||c.push(d)}l=new sn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new JO(new Ot(a),l,u)}class Xc extends Dg{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xc}}function nM(e,t,n,r){const i=e.ua(1,t,n);Pg("Data must be an object, but it was:",i,r);const s=[],o=Ot.empty();Ns(r,(l,u)=>{const c=Ng(t,l,n);u=Qn(u);const h=i.na(c);if(u instanceof Xc)s.push(c);else{const d=Jc(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new sn(s);return new nC(o,a,i.fieldTransforms)}function rM(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[hp(t,r,n)],l=[i];if(s.length%2!=0)throw new Z(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(hp(t,s[d])),l.push(s[d+1]);const u=[],c=Ot.empty();for(let d=a.length-1;d>=0;--d)if(!oC(u,a[d])){const f=a[d];let g=l[d];g=Qn(g);const w=o.na(f);if(g instanceof Xc)u.push(f);else{const x=Jc(g,w);x!=null&&(u.push(f),c.set(f,x))}}const h=new sn(u);return new nC(c,h,o.fieldTransforms)}function Jc(e,t){if(sC(e=Qn(e)))return Pg("Unsupported field value:",t,e),iC(e,t);if(e instanceof Dg)return function(n,r){if(!rC(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Jc(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Qn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Bt.fromDate(n);return{timestampValue:zu(r.serializer,i)}}if(n instanceof Bt){const i=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zu(r.serializer,i)}}if(n instanceof Ag)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xi)return{bytesValue:LT(r.serializer,n._byteString)};if(n instanceof ln){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${bg(n)}`)}(e,t)}function iC(e,t){const n={};return cT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ns(e,(r,i)=>{const s=Jc(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof Ag||e instanceof xi||e instanceof ln||e instanceof Dg)}function Pg(e,t,n){if(!sC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=bg(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function hp(e,t,n){if((t=Qn(t))instanceof Yc)return t._internalPath;if(typeof t=="string")return Ng(e,t);throw Gu("Field path arguments must be of type string or ",e,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function Ng(e,t,n){if(t.search(iM)>=0)throw Gu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Yc(...t.split("."))._internalPath}catch{throw Gu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gu(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(P.INVALID_ARGUMENT,a+e+l)}function oC(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(aC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sM extends qu{data(){return super.data()}}function aC(e,t){return typeof t=="string"?Ng(e,t):t instanceof Yc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lC{convertValue(t,n="none"){switch(wi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ie()}}convertObject(t,n){const r={};return Ns(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Ag(Ye(t.latitude),Ye(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hT(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oa(t));default:return null}}convertTimestamp(t){const n=Nr(t);return new Bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ue.fromString(t);Me(jT(r));const i=new aa(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lM extends lC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rg extends qu{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(aC("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zl extends Rg{data(t={}){return super.data(t)}}class uM{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new zl(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new zl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new zl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:cM(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class _g extends lC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function dM(e,...t){var n,r,i;e=Qn(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||p1(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(p1(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof ln)u=Ao(e.firestore,Ku),c=dg(e._key.path),l={next:h=>{t[o]&&t[o](hM(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Ao(e,Qc);u=Ao(h.firestore,Ku),c=h._query;const d=new _g(u);l={next:f=>{t[o]&&t[o](new uM(u,d,h,f))},error:t[o+1],complete:t[o+2]},oM(e._query)}return function(h,d,f,g){const w=new VO(g),x=new bO(d,w,f);return h.asyncQueue.enqueueAndForget(async()=>SO(await c1(h),x)),()=>{w.yc(),h.asyncQueue.enqueueAndForget(async()=>EO(await c1(h),x))}}(eC(u),c,a,l)}function hM(e,t,n){const r=n.docs.get(t._key),i=new _g(e);return new Rg(e,i,t._key,r,new Qi(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={maxAttempts:5};function Gs(e,t){if((e=Qn(e)).firestore!==t)throw new Z(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends class{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=eM(t)}get(t){const n=Gs(t,this._firestore),r=new lM(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ie();const s=i[0];if(s.isFoundDocument())return new qu(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new qu(this._firestore,r,n._key,null,n.converter);throw ie()})}set(t,n,r){const i=Gs(t,this._firestore),s=aM(i.converter,n,r),o=tM(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=Gs(t,this._firestore);let o;return o=typeof(n=Qn(n))=="string"||n instanceof Yc?rM(this._dataReader,"Transaction.update",s._key,n,r,i):nM(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=Gs(t,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Gs(t,this._firestore),r=new _g(this._firestore);return super.get(t).then(i=>new Rg(this._firestore,r,n._key,i._document,new Qi(!1,!1),n.converter))}}function Zc(e,t,n){e=Ao(e,Ku);const r=Object.assign(Object.assign({},fM),n);return function(i){if(i.maxAttempts<1)throw new Z(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new li;return i.asyncQueue.enqueueAndForget(async()=>{const l=await WO(i);new BO(i.asyncQueue,l,o,s,a).run()}),a.promise}(eC(e),i=>t(new pM(e,i)),r)}(function(e,t=!0){(function(n){Ps=n})(d_),Iu(new Jo("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ku(new k$(n.getProvider("auth-internal")),new P$(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rs(L0,"3.10.0",e),rs(L0,"3.10.0","esm2017")})();var mM="firebase",gM="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(mM,gM,"app");const yM={apiKey:"AIzaSyCwGMjrdMDxItBfYJkwuzIUuekqY1QAc_k",authDomain:"theocratic-software.firebaseapp.com",projectId:"theocratic-software",storageBucket:"theocratic-software.appspot.com",messagingSenderId:"441138730087",appId:"1:441138730087:web:9877f590cadb16467af0c2",measurementId:"G-KHGDKVZKNR"};rE(yM);const Zn=YO();var vM=Object.defineProperty,wM=(e,t,n)=>t in e?vM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uh=(e,t,n)=>(wM(e,typeof t!="symbol"?t+"":t,n),n);let xM=class{constructor(){uh(this,"current",this.detect()),uh(this,"handoffState","pending"),uh(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pn=new xM,Pe=(e,t)=>{Pn.isServer?m.useEffect(e,t):m.useLayoutEffect(e,t)};function un(e){let t=m.useRef(e);return Pe(()=>{t.current=e},[e]),t}function Ba(e,t){let[n,r]=m.useState(e),i=un(e);return Pe(()=>r(i.current),[i,r,...t]),n}function Ua(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function xn(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ua(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=xn();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function _n(){let[e]=m.useState(xn);return m.useEffect(()=>()=>e.dispose(),[e]),e}let H=function(e){let t=un(e);return te.useCallback((...n)=>t.current(...n),[t])};function $s(){let[e,t]=m.useState(Pn.isHandoffComplete);return e&&Pn.isHandoffComplete===!1&&t(!1),m.useEffect(()=>{e!==!0&&t(!0)},[e]),m.useEffect(()=>Pn.handoff(),[]),e}var m1;let $t=(m1=te.useId)!=null?m1:function(){let e=$s(),[t,n]=te.useState(e?()=>Pn.nextId():null);return Pe(()=>{t===null&&n(Pn.nextId())},[t]),t!=null?""+t:void 0};function Ce(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ce),r}function ed(e){return Pn.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let fp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Qr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Qr||{}),uC=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(uC||{}),SM=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(SM||{});function EM(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(fp)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var $g=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))($g||{});function cC(e,t=0){var n;return e===((n=ed(e))==null?void 0:n.body)?!1:Ce(t,{[0](){return e.matches(fp)},[1](){let r=e;for(;r!==null;){if(r.matches(fp))return!0;r=r.parentElement}return!1}})}function ci(e){e==null||e.focus({preventScroll:!0})}let TM=["textarea","input"].join(",");function CM(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,TM))!=null?n:!1}function Lg(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Hl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?Lg(e):e:EM(e);i.length>0&&o.length>1&&(o=o.filter(f=>!i.includes(f))),r=r??s.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,h=o.length,d;do{if(c>=h||c+h<=0)return 0;let f=l+c;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}d=o[f],d==null||d.focus(u),c+=a}while(d!==s.activeElement);return t&6&&CM(d)&&d.select(),d.hasAttribute("tabindex")||d.setAttribute("tabindex","0"),2}function ch(e,t,n){let r=un(t);m.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Og(e,t,n=!0){let r=m.useRef(!1);m.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e),u=a(o);if(u!==null&&u.getRootNode().contains(u)){for(let c of l){if(c===null)continue;let h=c instanceof HTMLElement?c:c.current;if(h!=null&&h.contains(u)||o.composed&&o.composedPath().includes(h))return}return!cC(u,$g.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}}let s=m.useRef(null);ch("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),ch("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),ch("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function g1(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function dC(e,t){let[n,r]=m.useState(()=>g1(e));return Pe(()=>{r(g1(e))},[e.type,e.as]),Pe(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let hC=Symbol();function bM(e,t=!0){return Object.assign(e,{[hC]:t})}function Ge(...e){let t=m.useRef(e);m.useEffect(()=>{t.current=e},[e]);let n=H(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[hC]))?void 0:n}function kM({container:e,accept:t,walk:n,enabled:r=!0}){let i=m.useRef(t),s=m.useRef(n);m.useEffect(()=>{i.current=t,s.current=n},[t,n]),Pe(()=>{if(!e||!r)return;let o=ed(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),c=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[e,r,i,s])}function DM(e){throw new Error("Unexpected object: "+e)}var Se=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Se||{});function fC(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,s=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:DM(e)}})();return s===-1?r:s}function pC(...e){return e.filter(Boolean).join(" ")}var _r=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(_r||{}),Bn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Bn||{});function Ve({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=mC(t,e);if(s)return Cl(a,n,r,o);let l=i??0;if(l&2){let{static:u=!1,...c}=a;if(u)return Cl(c,n,r,o)}if(l&1){let{unmount:u=!0,...c}=a;return Ce(u?0:1,{[0](){return null},[1](){return Cl({...c,hidden:!0,style:{display:"none"}},n,r,o)}})}return Cl(a,n,r,o)}function Cl(e,t={},n,r){var i;let{as:s=n,children:o,refName:a="ref",...l}=dh(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let h={};if(t){let d=!1,f=[];for(let[g,w]of Object.entries(t))typeof w=="boolean"&&(d=!0),w===!0&&f.push(g);d&&(h["data-headlessui-state"]=f.join(" "))}if(s===m.Fragment&&Object.keys(Qu(l)).length>0){if(!m.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let d=pC((i=c.props)==null?void 0:i.className,l.className),f=d?{className:d}:{};return m.cloneElement(c,Object.assign({},mC(c.props,Qu(dh(l,["ref"]))),h,u,AM(c.ref,u.ref),f))}return m.createElement(s,Object.assign({},dh(l,["ref"]),s!==m.Fragment&&u,s!==m.Fragment&&h),c)}function AM(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function mC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function _e(e){var t;return Object.assign(m.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function dh(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Mg(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&IM(n)?!1:r}function IM(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function Fg(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))yC(n,gC(t,r),i);return n}function gC(e,t){return e?e+"["+t+"]":t}function yC(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())yC(e,gC(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Fg(n,t,e)}let PM="div";var Ts=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ts||{});function NM(e,t){let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ve({ourProps:i,theirProps:r,slot:{},defaultTag:PM,name:"Hidden"})}let ha=_e(NM),Vg=m.createContext(null);Vg.displayName="OpenClosedContext";var Ke=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ke||{});function za(){return m.useContext(Vg)}function jg({value:e,children:t}){return te.createElement(Vg.Provider,{value:e},t)}var me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(me||{});function vC(e,t,n){let[r,i]=m.useState(n),s=e!==void 0,o=m.useRef(s),a=m.useRef(!1),l=m.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,H(u=>(s||i(u),t==null?void 0:t(u)))]}function fa(e,t){let n=m.useRef([]),r=H(e);m.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}function y1(e){return[e.screenX,e.screenY]}function wC(){let e=m.useRef([-1,-1]);return{wasMoved(t){let n=y1(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=y1(t)}}}function xC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function RM(){return/Android/gi.test(window.navigator.userAgent)}function _M(){return xC()||RM()}var $M=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($M||{}),LM=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(LM||{}),OM=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(OM||{}),MM=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(MM||{});function hh(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Lg(t(e.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let FM={[1](e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:r}=e.dataRef.current,i=e.options.findIndex(s=>r(s.dataRef.current.value));i!==-1&&(n=i)}return{...e,comboboxState:0,activeOptionIndex:n}},[2](e,t){var n,r,i,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let o=hh(e);if(o.activeOptionIndex===null){let l=o.options.findIndex(u=>!u.dataRef.current.disabled);l!==-1&&(o.activeOptionIndex=l)}let a=fC(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...o,activeOptionIndex:a,activationTrigger:(s=t.trigger)!=null?s:1}},[3]:(e,t)=>{var n,r;let i={id:t.id,dataRef:t.dataRef},s=hh(e,a=>[...a,i]);e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(t.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i));let o={...e,...s,activationTrigger:1};return(r=e.dataRef.current)!=null&&r.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,t)=>{let n=hh(e,r=>{let i=r.findIndex(s=>s.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},Bg=m.createContext(null);Bg.displayName="ComboboxActionsContext";function Ha(e){let t=m.useContext(Bg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ha),n}return t}let Ug=m.createContext(null);Ug.displayName="ComboboxDataContext";function Ls(e){let t=m.useContext(Ug);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ls),n}return t}function VM(e,t){return Ce(t.type,FM,e,t)}let jM=m.Fragment;function BM(e,t){let{value:n,defaultValue:r,onChange:i,name:s,by:o=(L,W)=>L===W,disabled:a=!1,__demoMode:l=!1,nullable:u=!1,multiple:c=!1,...h}=e,[d=c?[]:void 0,f]=vC(n,i,r),[g,w]=m.useReducer(VM,{dataRef:m.createRef(),comboboxState:l?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),x=m.useRef(!1),v=m.useRef({static:!1,hold:!1}),p=m.useRef(null),y=m.useRef(null),S=m.useRef(null),C=m.useRef(null),A=H(typeof o=="string"?(L,W)=>{let Q=o;return(L==null?void 0:L[Q])===(W==null?void 0:W[Q])}:o),D=m.useCallback(L=>Ce(b.mode,{[1]:()=>d.some(W=>A(W,L)),[0]:()=>A(d,L)}),[d]),b=m.useMemo(()=>({...g,optionsPropsRef:v,labelRef:p,inputRef:y,buttonRef:S,optionsRef:C,value:d,defaultValue:r,disabled:a,mode:c?1:0,get activeOptionIndex(){if(x.current&&g.activeOptionIndex===null&&g.options.length>0){let L=g.options.findIndex(W=>!W.dataRef.current.disabled);if(L!==-1)return L}return g.activeOptionIndex},compare:A,isSelected:D,nullable:u,__demoMode:l}),[d,r,a,c,u,l,g]),M=m.useRef(b.activeOptionIndex!==null?b.options[b.activeOptionIndex]:null);m.useEffect(()=>{let L=b.activeOptionIndex!==null?b.options[b.activeOptionIndex]:null;M.current!==L&&(M.current=L)}),Pe(()=>{g.dataRef.current=b},[b]),Og([b.buttonRef,b.inputRef,b.optionsRef],()=>z.closeCombobox(),b.comboboxState===0);let F=m.useMemo(()=>({open:b.comboboxState===0,disabled:a,activeIndex:b.activeOptionIndex,activeOption:b.activeOptionIndex===null?null:b.options[b.activeOptionIndex].dataRef.current.value,value:d}),[b,a,d]),O=H(L=>{let W=b.options.find(Q=>Q.id===L);W&&_(W.dataRef.current.value)}),U=H(()=>{if(b.activeOptionIndex!==null){let{dataRef:L,id:W}=b.options[b.activeOptionIndex];_(L.current.value),z.goToOption(Se.Specific,W)}}),B=H(()=>{w({type:0}),x.current=!0}),le=H(()=>{w({type:1}),x.current=!1}),re=H((L,W,Q)=>(x.current=!1,L===Se.Specific?w({type:2,focus:Se.Specific,id:W,trigger:Q}):w({type:2,focus:L,trigger:Q}))),ue=H((L,W)=>(w({type:3,id:L,dataRef:W}),()=>{var Q;((Q=M.current)==null?void 0:Q.id)===L&&(x.current=!0),w({type:4,id:L})})),ve=H(L=>(w({type:5,id:L}),()=>w({type:5,id:null}))),_=H(L=>Ce(b.mode,{[0](){return f==null?void 0:f(L)},[1](){let W=b.value.slice(),Q=W.findIndex(de=>A(de,L));return Q===-1?W.push(L):W.splice(Q,1),f==null?void 0:f(W)}})),z=m.useMemo(()=>({onChange:_,registerOption:ue,registerLabel:ve,goToOption:re,closeCombobox:le,openCombobox:B,selectActiveOption:U,selectOption:O}),[]),X=t===null?{}:{ref:t},J=m.useRef(null),we=_n();return m.useEffect(()=>{J.current&&r!==void 0&&we.addEventListener(J.current,"reset",()=>{_(r)})},[J,_]),te.createElement(Bg.Provider,{value:z},te.createElement(Ug.Provider,{value:b},te.createElement(jg,{value:Ce(b.comboboxState,{[0]:Ke.Open,[1]:Ke.Closed})},s!=null&&d!=null&&Fg({[s]:d}).map(([L,W],Q)=>te.createElement(ha,{features:Ts.Hidden,ref:Q===0?de=>{var pe;J.current=(pe=de==null?void 0:de.closest("form"))!=null?pe:null}:void 0,...Qu({key:L,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:L,value:W})})),Ve({ourProps:X,theirProps:h,slot:F,defaultTag:jM,name:"Combobox"}))))}let UM="input";function zM(e,t){var n,r,i,s;let o=$t(),{id:a=`headlessui-combobox-input-${o}`,onChange:l,displayValue:u,type:c="text",...h}=e,d=Ls("Combobox.Input"),f=Ha("Combobox.Input"),g=Ge(d.inputRef,t),w=m.useRef(!1),x=_n(),v=function(){var O;return typeof u=="function"&&d.value!==void 0?(O=u(d.value))!=null?O:"":typeof d.value=="string"?d.value:""}();fa(([O,U],[B,le])=>{w.current||d.inputRef.current&&(le===0&&U===1||O!==B)&&(d.inputRef.current.value=O)},[v,d.comboboxState]),fa(([O],[U])=>{if(O===0&&U===1){let B=d.inputRef.current;if(!B)return;let le=B.value,{selectionStart:re,selectionEnd:ue,selectionDirection:ve}=B;B.value="",B.value=le,ve!==null?B.setSelectionRange(re,ue,ve):B.setSelectionRange(re,ue)}},[d.comboboxState]);let p=m.useRef(!1),y=H(()=>{p.current=!0}),S=H(()=>{setTimeout(()=>{p.current=!1})}),C=H(O=>{switch(w.current=!0,O.key){case me.Backspace:case me.Delete:if(d.mode!==0||!d.nullable)return;let U=O.currentTarget;x.requestAnimationFrame(()=>{U.value===""&&(f.onChange(null),d.optionsRef.current&&(d.optionsRef.current.scrollTop=0),f.goToOption(Se.Nothing))});break;case me.Enter:if(w.current=!1,d.comboboxState!==0||p.current)return;if(O.preventDefault(),O.stopPropagation(),d.activeOptionIndex===null){f.closeCombobox();return}f.selectActiveOption(),d.mode===0&&f.closeCombobox();break;case me.ArrowDown:return w.current=!1,O.preventDefault(),O.stopPropagation(),Ce(d.comboboxState,{[0]:()=>{f.goToOption(Se.Next)},[1]:()=>{f.openCombobox()}});case me.ArrowUp:return w.current=!1,O.preventDefault(),O.stopPropagation(),Ce(d.comboboxState,{[0]:()=>{f.goToOption(Se.Previous)},[1]:()=>{f.openCombobox(),x.nextFrame(()=>{d.value||f.goToOption(Se.Last)})}});case me.Home:if(O.shiftKey)break;return w.current=!1,O.preventDefault(),O.stopPropagation(),f.goToOption(Se.First);case me.PageUp:return w.current=!1,O.preventDefault(),O.stopPropagation(),f.goToOption(Se.First);case me.End:if(O.shiftKey)break;return w.current=!1,O.preventDefault(),O.stopPropagation(),f.goToOption(Se.Last);case me.PageDown:return w.current=!1,O.preventDefault(),O.stopPropagation(),f.goToOption(Se.Last);case me.Escape:return w.current=!1,d.comboboxState!==0?void 0:(O.preventDefault(),d.optionsRef.current&&!d.optionsPropsRef.current.static&&O.stopPropagation(),f.closeCombobox());case me.Tab:if(w.current=!1,d.comboboxState!==0)return;d.mode===0&&f.selectActiveOption(),f.closeCombobox();break}}),A=H(O=>{f.openCombobox(),l==null||l(O)}),D=H(()=>{w.current=!1}),b=Ba(()=>{if(d.labelId)return[d.labelId].join(" ")},[d.labelId]),M=m.useMemo(()=>({open:d.comboboxState===0,disabled:d.disabled}),[d]),F={ref:g,id:a,role:"combobox",type:c,"aria-controls":(n=d.optionsRef.current)==null?void 0:n.id,"aria-expanded":d.disabled?void 0:d.comboboxState===0,"aria-activedescendant":d.activeOptionIndex===null||(r=d.options[d.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":b,"aria-autocomplete":"list",defaultValue:(s=(i=e.defaultValue)!=null?i:d.defaultValue!==void 0?u==null?void 0:u(d.defaultValue):null)!=null?s:d.defaultValue,disabled:d.disabled,onCompositionStart:y,onCompositionEnd:S,onKeyDown:C,onChange:A,onBlur:D};return Ve({ourProps:F,theirProps:h,slot:M,defaultTag:UM,name:"Combobox.Input"})}let HM="button";function WM(e,t){var n;let r=Ls("Combobox.Button"),i=Ha("Combobox.Button"),s=Ge(r.buttonRef,t),o=$t(),{id:a=`headlessui-combobox-button-${o}`,...l}=e,u=_n(),c=H(w=>{switch(w.key){case me.ArrowDown:return w.preventDefault(),w.stopPropagation(),r.comboboxState===1&&i.openCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case me.ArrowUp:return w.preventDefault(),w.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),u.nextFrame(()=>{r.value||i.goToOption(Se.Last)})),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case me.Escape:return r.comboboxState!==0?void 0:(w.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&w.stopPropagation(),i.closeCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),h=H(w=>{if(Mg(w.currentTarget))return w.preventDefault();r.comboboxState===0?i.closeCombobox():(w.preventDefault(),i.openCombobox()),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),d=Ba(()=>{if(r.labelId)return[r.labelId,a].join(" ")},[r.labelId,a]),f=m.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),g={ref:s,id:a,type:dC(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.comboboxState===0,"aria-labelledby":d,disabled:r.disabled,onClick:h,onKeyDown:c};return Ve({ourProps:g,theirProps:l,slot:f,defaultTag:HM,name:"Combobox.Button"})}let KM="label";function GM(e,t){let n=$t(),{id:r=`headlessui-combobox-label-${n}`,...i}=e,s=Ls("Combobox.Label"),o=Ha("Combobox.Label"),a=Ge(s.labelRef,t);Pe(()=>o.registerLabel(r),[r]);let l=H(()=>{var c;return(c=s.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=m.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Ve({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:KM,name:"Combobox.Label"})}let qM="ul",QM=_r.RenderStrategy|_r.Static;function YM(e,t){let n=$t(),{id:r=`headlessui-combobox-options-${n}`,hold:i=!1,...s}=e,o=Ls("Combobox.Options"),a=Ge(o.optionsRef,t),l=za(),u=(()=>l!==null?(l&Ke.Open)===Ke.Open:o.comboboxState===0)();Pe(()=>{var f;o.optionsPropsRef.current.static=(f=e.static)!=null?f:!1},[o.optionsPropsRef,e.static]),Pe(()=>{o.optionsPropsRef.current.hold=i},[o.optionsPropsRef,i]),kM({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(f){return f.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});let c=Ba(()=>{var f,g;return(g=o.labelId)!=null?g:(f=o.buttonRef.current)==null?void 0:f.id},[o.labelId,o.buttonRef.current]),h=m.useMemo(()=>({open:o.comboboxState===0}),[o]),d={"aria-labelledby":c,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:r,ref:a};return Ve({ourProps:d,theirProps:s,slot:h,defaultTag:qM,features:QM,visible:u,name:"Combobox.Options"})}let XM="li";function JM(e,t){var n,r;let i=$t(),{id:s=`headlessui-combobox-option-${i}`,disabled:o=!1,value:a,...l}=e,u=Ls("Combobox.Option"),c=Ha("Combobox.Option"),h=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===s:!1,d=u.isSelected(a),f=m.useRef(null),g=un({disabled:o,value:a,domRef:f,textValue:(r=(n=f.current)==null?void 0:n.textContent)==null?void 0:r.toLowerCase()}),w=Ge(t,f),x=H(()=>c.selectOption(s));Pe(()=>c.registerOption(s,g),[g,s]);let v=m.useRef(!u.__demoMode);Pe(()=>{if(!u.__demoMode)return;let M=xn();return M.requestAnimationFrame(()=>{v.current=!0}),M.dispose},[]),Pe(()=>{if(u.comboboxState!==0||!h||!v.current||u.activationTrigger===0)return;let M=xn();return M.requestAnimationFrame(()=>{var F,O;(O=(F=f.current)==null?void 0:F.scrollIntoView)==null||O.call(F,{block:"nearest"})}),M.dispose},[f,h,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let p=H(M=>{if(o)return M.preventDefault();x(),u.mode===0&&c.closeCombobox(),_M()||requestAnimationFrame(()=>{var F;return(F=u.inputRef.current)==null?void 0:F.focus()})}),y=H(()=>{if(o)return c.goToOption(Se.Nothing);c.goToOption(Se.Specific,s)}),S=wC(),C=H(M=>S.update(M)),A=H(M=>{S.wasMoved(M)&&(o||h||c.goToOption(Se.Specific,s,0))}),D=H(M=>{S.wasMoved(M)&&(o||h&&(u.optionsPropsRef.current.hold||c.goToOption(Se.Nothing)))}),b=m.useMemo(()=>({active:h,selected:d,disabled:o}),[h,d,o]);return Ve({ourProps:{id:s,ref:w,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:p,onFocus:y,onPointerEnter:C,onMouseEnter:C,onPointerMove:A,onMouseMove:A,onPointerLeave:D,onMouseLeave:D},theirProps:l,slot:b,defaultTag:XM,name:"Combobox.Option"})}let ZM=_e(BM),e2=_e(WM),t2=_e(zM),n2=_e(GM),r2=_e(YM),i2=_e(JM),bl=Object.assign(ZM,{Input:t2,Button:e2,Label:n2,Options:r2,Option:i2});function s2(e,t,n){let r=un(t);m.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}var so=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(so||{});function o2(){let e=m.useRef(0);return s2("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function td(){let e=m.useRef(!1);return Pe(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function nd(...e){return m.useMemo(()=>ed(...e),[...e])}function SC(e,t,n,r){let i=un(n);m.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function EC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let a2="div";var TC=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(TC||{});function l2(e,t){let n=m.useRef(null),r=Ge(n,t),{initialFocus:i,containers:s,features:o=30,...a}=e;$s()||(o=1);let l=nd(n);d2({ownerDocument:l},Boolean(o&16));let u=h2({ownerDocument:l,container:n,initialFocus:i},Boolean(o&2));f2({ownerDocument:l,container:n,containers:s,previousActiveElement:u},Boolean(o&8));let c=o2(),h=H(w=>{let x=n.current;x&&(v=>v())(()=>{Ce(c.current,{[so.Forwards]:()=>{Hl(x,Qr.First,{skipElements:[w.relatedTarget]})},[so.Backwards]:()=>{Hl(x,Qr.Last,{skipElements:[w.relatedTarget]})}})})}),d=_n(),f=m.useRef(!1),g={ref:r,onKeyDown(w){w.key=="Tab"&&(f.current=!0,d.requestAnimationFrame(()=>{f.current=!1}))},onBlur(w){let x=EC(s);n.current instanceof HTMLElement&&x.add(n.current);let v=w.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(CC(x,v)||(f.current?Hl(n.current,Ce(c.current,{[so.Forwards]:()=>Qr.Next,[so.Backwards]:()=>Qr.Previous})|Qr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&ci(w.target)))}};return te.createElement(te.Fragment,null,Boolean(o&4)&&te.createElement(ha,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ts.Focusable}),Ve({ourProps:g,theirProps:a,defaultTag:a2,name:"FocusTrap"}),Boolean(o&4)&&te.createElement(ha,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ts.Focusable}))}let u2=_e(l2),qs=Object.assign(u2,{features:TC}),lr=[];if(typeof window<"u"&&typeof document<"u"){let e=function(t){t.target instanceof HTMLElement&&t.target!==document.body&&lr[0]!==t.target&&(lr.unshift(t.target),lr=lr.filter(n=>n!=null&&n.isConnected),lr.splice(10))};window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}function c2(e=!0){let t=m.useRef(lr.slice());return fa(([n],[r])=>{r===!0&&n===!1&&Ua(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=lr.slice())},[e,lr,t]),H(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function d2({ownerDocument:e},t){let n=c2(t);fa(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&ci(n())},[t]);let r=m.useRef(!1);m.useEffect(()=>(r.current=!1,()=>{r.current=!0,Ua(()=>{r.current&&ci(n())})}),[])}function h2({ownerDocument:e,container:t,initialFocus:n},r){let i=m.useRef(null),s=td();return fa(()=>{if(!r)return;let o=t.current;o&&Ua(()=>{if(!s.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?ci(n.current):Hl(o,Qr.First)===uC.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function f2({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let s=td();SC(e==null?void 0:e.defaultView,"focus",o=>{if(!i||!s.current)return;let a=EC(n);t.current instanceof HTMLElement&&a.add(t.current);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?CC(a,u)?(r.current=u,ci(u)):(o.preventDefault(),o.stopPropagation(),ci(l)):ci(r.current)},!0)}function CC(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let bC=m.createContext(!1);function p2(){return m.useContext(bC)}function pp(e){return te.createElement(bC.Provider,{value:e.force},e.children)}function m2(e){let t=p2(),n=m.useContext(kC),r=nd(e),[i,s]=m.useState(()=>{if(!t&&n!==null||Pn.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return m.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),m.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),i}let g2=m.Fragment;function y2(e,t){let n=e,r=m.useRef(null),i=Ge(bM(c=>{r.current=c}),t),s=nd(r),o=m2(r),[a]=m.useState(()=>{var c;return Pn.isServer?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),l=$s(),u=m.useRef(!1);return Pe(()=>{if(u.current=!1,!(!o||!a))return o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a)),()=>{u.current=!0,Ua(()=>{var c;u.current&&(!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((c=o.parentElement)==null||c.removeChild(o))))})}},[o,a]),l?!o||!a?null:Kl.createPortal(Ve({ourProps:{ref:i},theirProps:n,defaultTag:g2,name:"Portal"}),a):null}let v2=m.Fragment,kC=m.createContext(null);function w2(e,t){let{target:n,...r}=e,i={ref:Ge(t)};return te.createElement(kC.Provider,{value:n},Ve({ourProps:i,theirProps:r,defaultTag:v2,name:"Popover.Group"}))}let x2=_e(y2),S2=_e(w2),mp=Object.assign(x2,{Group:S2}),DC=m.createContext(null);function AC(){let e=m.useContext(DC);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,AC),t}return e}function E2(){let[e,t]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(n){let r=H(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=m.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return te.createElement(DC.Provider,{value:i},n.children)},[t])]}let T2="p";function C2(e,t){let n=$t(),{id:r=`headlessui-description-${n}`,...i}=e,s=AC(),o=Ge(t);Pe(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return Ve({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:T2,name:s.name||"Description"})}let b2=_e(C2),k2=Object.assign(b2,{}),zg=m.createContext(()=>{});zg.displayName="StackContext";var gp=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(gp||{});function D2(){return m.useContext(zg)}function A2({children:e,onUpdate:t,type:n,element:r,enabled:i}){let s=D2(),o=H((...a)=>{t==null||t(...a),s(...a)});return Pe(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),te.createElement(zg.Provider,{value:o},e)}function I2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const P2=typeof Object.is=="function"?Object.is:I2,{useState:N2,useEffect:R2,useLayoutEffect:_2,useDebugValue:$2}=bh;function L2(e,t,n){const r=t(),[{inst:i},s]=N2({inst:{value:r,getSnapshot:t}});return _2(()=>{i.value=r,i.getSnapshot=t,fh(i)&&s({inst:i})},[e,r,t]),R2(()=>(fh(i)&&s({inst:i}),e(()=>{fh(i)&&s({inst:i})})),[e]),$2(r),r}function fh(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!P2(n,r)}catch{return!0}}function O2(e,t,n){return t()}const M2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F2=!M2,V2=F2?O2:L2,j2="useSyncExternalStore"in bh?(e=>e.useSyncExternalStore)(bh):V2;function B2(e){return j2(e.subscribe,e.getSnapshot,e.getSnapshot)}function U2(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function z2(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,s=e-i;n.style(r,"paddingRight",`${s}px`)}}}function H2(){if(!xC())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function i(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let s=null;n.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),u=t.querySelector(l);u&&!i(u)&&(s=u)}catch{}},!0),n.addEventListener(t,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}}function W2(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function K2(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ri=U2(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:xn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:K2(n)},i=[H2(),z2(),W2()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ri.subscribe(()=>{let e=ri.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ri.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ri.dispatch("TEARDOWN",n)}});function G2(e,t,n){let r=B2(ri),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Pe(()=>{if(!(!e||!t))return ri.dispatch("PUSH",e,n),()=>ri.dispatch("POP",e,n)},[t,e]),s}let ph=new Map,Qs=new Map;function v1(e,t=!0){Pe(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=Qs.get(r))!=null?o:1;if(a===1?Qs.delete(r):Qs.set(r,a-1),a!==1)return;let l=ph.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,ph.delete(r))}let s=(n=Qs.get(r))!=null?n:0;return Qs.set(r,s+1),s!==0||(ph.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}var q2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(q2||{}),Q2=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Q2||{});let Y2={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Yu=m.createContext(null);Yu.displayName="DialogContext";function Wa(e){let t=m.useContext(Yu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wa),n}return t}function X2(e,t,n=()=>[document.body]){G2(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function J2(e,t){return Ce(t.type,Y2,e,t)}let Z2="div",eF=_r.RenderStrategy|_r.Static;function tF(e,t){let n=$t(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,__demoMode:a=!1,...l}=e,[u,c]=m.useState(0),h=za();i===void 0&&h!==null&&(i=(h&Ke.Open)===Ke.Open);let d=m.useRef(null),f=Ge(d,t),g=m.useRef(null),w=nd(d),x=e.hasOwnProperty("open")||h!==null,v=e.hasOwnProperty("onClose");if(!x&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let p=i?0:1,[y,S]=m.useReducer(J2,{titleId:null,descriptionId:null,panelRef:m.createRef()}),C=H(()=>s(!1)),A=H(Q=>S({type:0,id:Q})),D=$s()?a?!1:p===0:!1,b=u>1,M=m.useContext(Yu)!==null,F=b?"parent":"leaf",O=h!==null?(h&Ke.Closing)===Ke.Closing:!1,U=(()=>M||O?!1:D)(),B=m.useCallback(()=>{var Q,de;return(de=Array.from((Q=w==null?void 0:w.querySelectorAll("body > *"))!=null?Q:[]).find(pe=>pe.id==="headlessui-portal-root"?!1:pe.contains(g.current)&&pe instanceof HTMLElement))!=null?de:null},[g]);v1(B,U);let le=(()=>b?!0:D)(),re=m.useCallback(()=>{var Q,de;return(de=Array.from((Q=w==null?void 0:w.querySelectorAll("[data-headlessui-portal]"))!=null?Q:[]).find(pe=>pe.contains(g.current)&&pe instanceof HTMLElement))!=null?de:null},[g]);v1(re,le);let ue=H(()=>{var Q,de;return[...Array.from((Q=w==null?void 0:w.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?Q:[]).filter(pe=>!(pe===document.body||pe===document.head||!(pe instanceof HTMLElement)||pe.contains(g.current)||y.panelRef.current&&pe.contains(y.panelRef.current))),(de=y.panelRef.current)!=null?de:d.current]}),ve=(()=>!(!D||b))();Og(()=>ue(),C,ve);let _=(()=>!(b||p!==0))();SC(w==null?void 0:w.defaultView,"keydown",Q=>{_&&(Q.defaultPrevented||Q.key===me.Escape&&(Q.preventDefault(),Q.stopPropagation(),C()))});let z=(()=>!(O||p!==0||M))();X2(w,z,ue),m.useEffect(()=>{if(p!==0||!d.current)return;let Q=new ResizeObserver(de=>{for(let pe of de){let jr=pe.target.getBoundingClientRect();jr.x===0&&jr.y===0&&jr.width===0&&jr.height===0&&C()}});return Q.observe(d.current),()=>Q.disconnect()},[p,d,C]);let[X,J]=E2(),we=m.useMemo(()=>[{dialogState:p,close:C,setTitleId:A},y],[p,y,C,A]),L=m.useMemo(()=>({open:p===0}),[p]),W={ref:f,id:r,role:"dialog","aria-modal":p===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":X};return te.createElement(A2,{type:"Dialog",enabled:p===0,element:d,onUpdate:H((Q,de)=>{de==="Dialog"&&Ce(Q,{[gp.Add]:()=>c(pe=>pe+1),[gp.Remove]:()=>c(pe=>pe-1)})})},te.createElement(pp,{force:!0},te.createElement(mp,null,te.createElement(Yu.Provider,{value:we},te.createElement(mp.Group,{target:d},te.createElement(pp,{force:!1},te.createElement(J,{slot:L,name:"Dialog.Description"},te.createElement(qs,{initialFocus:o,containers:ue,features:D?Ce(F,{parent:qs.features.RestoreFocus,leaf:qs.features.All&~qs.features.FocusLock}):qs.features.None},Ve({ourProps:W,theirProps:l,slot:L,defaultTag:Z2,features:eF,visible:p===0,name:"Dialog"})))))))),te.createElement(ha,{features:Ts.Hidden,ref:g}))}let nF="div";function rF(e,t){let n=$t(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:s,close:o}]=Wa("Dialog.Overlay"),a=Ge(t),l=H(c=>{if(c.target===c.currentTarget){if(Mg(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),o()}}),u=m.useMemo(()=>({open:s===0}),[s]);return Ve({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:nF,name:"Dialog.Overlay"})}let iF="div";function sF(e,t){let n=$t(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:s},o]=Wa("Dialog.Backdrop"),a=Ge(t);m.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=m.useMemo(()=>({open:s===0}),[s]);return te.createElement(pp,{force:!0},te.createElement(mp,null,Ve({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:iF,name:"Dialog.Backdrop"})))}let oF="div";function aF(e,t){let n=$t(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:s},o]=Wa("Dialog.Panel"),a=Ge(t,o.panelRef),l=m.useMemo(()=>({open:s===0}),[s]),u=H(c=>{c.stopPropagation()});return Ve({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:oF,name:"Dialog.Panel"})}let lF="h2";function uF(e,t){let n=$t(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Wa("Dialog.Title"),a=Ge(t);m.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=m.useMemo(()=>({open:s===0}),[s]);return Ve({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:lF,name:"Dialog.Title"})}let cF=_e(tF),dF=_e(sF),hF=_e(aF),fF=_e(rF),pF=_e(uF),mh=Object.assign(cF,{Backdrop:dF,Panel:hF,Overlay:fF,Title:pF,Description:k2});var mF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mF||{}),gF=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(gF||{}),yF=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(yF||{}),vF=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(vF||{});function gh(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Lg(t(e.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let wF={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=gh(e),i=fC(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?e.options.indexOf(i):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=gh(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},[6]:(e,t)=>{let n=gh(e,r=>{let i=r.findIndex(s=>s.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},Hg=m.createContext(null);Hg.displayName="ListboxActionsContext";function Ka(e){let t=m.useContext(Hg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ka),n}return t}let Wg=m.createContext(null);Wg.displayName="ListboxDataContext";function Ga(e){let t=m.useContext(Wg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ga),n}return t}function xF(e,t){return Ce(t.type,wF,e,t)}let SF=m.Fragment;function EF(e,t){let{value:n,defaultValue:r,name:i,onChange:s,by:o=(L,W)=>L===W,disabled:a=!1,horizontal:l=!1,multiple:u=!1,...c}=e;const h=l?"horizontal":"vertical";let d=Ge(t),[f=u?[]:void 0,g]=vC(n,s,r),[w,x]=m.useReducer(xF,{dataRef:m.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),v=m.useRef({static:!1,hold:!1}),p=m.useRef(null),y=m.useRef(null),S=m.useRef(null),C=H(typeof o=="string"?(L,W)=>{let Q=o;return(L==null?void 0:L[Q])===(W==null?void 0:W[Q])}:o),A=m.useCallback(L=>Ce(D.mode,{[1]:()=>f.some(W=>C(W,L)),[0]:()=>C(f,L)}),[f]),D=m.useMemo(()=>({...w,value:f,disabled:a,mode:u?1:0,orientation:h,compare:C,isSelected:A,optionsPropsRef:v,labelRef:p,buttonRef:y,optionsRef:S}),[f,a,u,w]);Pe(()=>{w.dataRef.current=D},[D]),Og([D.buttonRef,D.optionsRef],(L,W)=>{var Q;x({type:1}),cC(W,$g.Loose)||(L.preventDefault(),(Q=D.buttonRef.current)==null||Q.focus())},D.listboxState===0);let b=m.useMemo(()=>({open:D.listboxState===0,disabled:a,value:f}),[D,a,f]),M=H(L=>{let W=D.options.find(Q=>Q.id===L);W&&ue(W.dataRef.current.value)}),F=H(()=>{if(D.activeOptionIndex!==null){let{dataRef:L,id:W}=D.options[D.activeOptionIndex];ue(L.current.value),x({type:2,focus:Se.Specific,id:W})}}),O=H(()=>x({type:0})),U=H(()=>x({type:1})),B=H((L,W,Q)=>L===Se.Specific?x({type:2,focus:Se.Specific,id:W,trigger:Q}):x({type:2,focus:L,trigger:Q})),le=H((L,W)=>(x({type:5,id:L,dataRef:W}),()=>x({type:6,id:L}))),re=H(L=>(x({type:7,id:L}),()=>x({type:7,id:null}))),ue=H(L=>Ce(D.mode,{[0](){return g==null?void 0:g(L)},[1](){let W=D.value.slice(),Q=W.findIndex(de=>C(de,L));return Q===-1?W.push(L):W.splice(Q,1),g==null?void 0:g(W)}})),ve=H(L=>x({type:3,value:L})),_=H(()=>x({type:4})),z=m.useMemo(()=>({onChange:ue,registerOption:le,registerLabel:re,goToOption:B,closeListbox:U,openListbox:O,selectActiveOption:F,selectOption:M,search:ve,clearSearch:_}),[]),X={ref:d},J=m.useRef(null),we=_n();return m.useEffect(()=>{J.current&&r!==void 0&&we.addEventListener(J.current,"reset",()=>{ue(r)})},[J,ue]),te.createElement(Hg.Provider,{value:z},te.createElement(Wg.Provider,{value:D},te.createElement(jg,{value:Ce(D.listboxState,{[0]:Ke.Open,[1]:Ke.Closed})},i!=null&&f!=null&&Fg({[i]:f}).map(([L,W],Q)=>te.createElement(ha,{features:Ts.Hidden,ref:Q===0?de=>{var pe;J.current=(pe=de==null?void 0:de.closest("form"))!=null?pe:null}:void 0,...Qu({key:L,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:L,value:W})})),Ve({ourProps:X,theirProps:c,slot:b,defaultTag:SF,name:"Listbox"}))))}let TF="button";function CF(e,t){var n;let r=$t(),{id:i=`headlessui-listbox-button-${r}`,...s}=e,o=Ga("Listbox.Button"),a=Ka("Listbox.Button"),l=Ge(o.buttonRef,t),u=_n(),c=H(x=>{switch(x.key){case me.Space:case me.Enter:case me.ArrowDown:x.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(Se.First)});break;case me.ArrowUp:x.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(Se.Last)});break}}),h=H(x=>{switch(x.key){case me.Space:x.preventDefault();break}}),d=H(x=>{if(Mg(x.currentTarget))return x.preventDefault();o.listboxState===0?(a.closeListbox(),u.nextFrame(()=>{var v;return(v=o.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(x.preventDefault(),a.openListbox())}),f=Ba(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),g=m.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),w={ref:l,id:i,type:dC(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.disabled?void 0:o.listboxState===0,"aria-labelledby":f,disabled:o.disabled,onKeyDown:c,onKeyUp:h,onClick:d};return Ve({ourProps:w,theirProps:s,slot:g,defaultTag:TF,name:"Listbox.Button"})}let bF="label";function kF(e,t){let n=$t(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,s=Ga("Listbox.Label"),o=Ka("Listbox.Label"),a=Ge(s.labelRef,t);Pe(()=>o.registerLabel(r),[r]);let l=H(()=>{var c;return(c=s.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=m.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return Ve({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:bF,name:"Listbox.Label"})}let DF="ul",AF=_r.RenderStrategy|_r.Static;function IF(e,t){var n;let r=$t(),{id:i=`headlessui-listbox-options-${r}`,...s}=e,o=Ga("Listbox.Options"),a=Ka("Listbox.Options"),l=Ge(o.optionsRef,t),u=_n(),c=_n(),h=za(),d=(()=>h!==null?(h&Ke.Open)===Ke.Open:o.listboxState===0)();m.useEffect(()=>{var v;let p=o.optionsRef.current;p&&o.listboxState===0&&p!==((v=ed(p))==null?void 0:v.activeElement)&&p.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let f=H(v=>{switch(c.dispose(),v.key){case me.Space:if(o.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),a.search(v.key);case me.Enter:if(v.preventDefault(),v.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:p}=o.options[o.activeOptionIndex];a.onChange(p.current.value)}o.mode===0&&(a.closeListbox(),xn().nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case Ce(o.orientation,{vertical:me.ArrowDown,horizontal:me.ArrowRight}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Se.Next);case Ce(o.orientation,{vertical:me.ArrowUp,horizontal:me.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Se.Previous);case me.Home:case me.PageUp:return v.preventDefault(),v.stopPropagation(),a.goToOption(Se.First);case me.End:case me.PageDown:return v.preventDefault(),v.stopPropagation(),a.goToOption(Se.Last);case me.Escape:return v.preventDefault(),v.stopPropagation(),a.closeListbox(),u.nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case me.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(a.search(v.key),c.setTimeout(()=>a.clearSearch(),350));break}}),g=Ba(()=>{var v,p,y;return(y=(v=o.labelRef.current)==null?void 0:v.id)!=null?y:(p=o.buttonRef.current)==null?void 0:p.id},[o.labelRef.current,o.buttonRef.current]),w=m.useMemo(()=>({open:o.listboxState===0}),[o]),x={"aria-activedescendant":o.activeOptionIndex===null||(n=o.options[o.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":g,"aria-orientation":o.orientation,id:i,onKeyDown:f,role:"listbox",tabIndex:0,ref:l};return Ve({ourProps:x,theirProps:s,slot:w,defaultTag:DF,features:AF,visible:d,name:"Listbox.Options"})}let PF="li";function NF(e,t){let n=$t(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=e,a=Ga("Listbox.Option"),l=Ka("Listbox.Option"),u=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===r:!1,c=a.isSelected(s),h=m.useRef(null),d=un({disabled:i,value:s,domRef:h,get textValue(){var C,A;return(A=(C=h.current)==null?void 0:C.textContent)==null?void 0:A.toLowerCase()}}),f=Ge(t,h);Pe(()=>{if(a.listboxState!==0||!u||a.activationTrigger===0)return;let C=xn();return C.requestAnimationFrame(()=>{var A,D;(D=(A=h.current)==null?void 0:A.scrollIntoView)==null||D.call(A,{block:"nearest"})}),C.dispose},[h,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Pe(()=>l.registerOption(r,d),[d,r]);let g=H(C=>{if(i)return C.preventDefault();l.onChange(s),a.mode===0&&(l.closeListbox(),xn().nextFrame(()=>{var A;return(A=a.buttonRef.current)==null?void 0:A.focus({preventScroll:!0})}))}),w=H(()=>{if(i)return l.goToOption(Se.Nothing);l.goToOption(Se.Specific,r)}),x=wC(),v=H(C=>x.update(C)),p=H(C=>{x.wasMoved(C)&&(i||u||l.goToOption(Se.Specific,r,0))}),y=H(C=>{x.wasMoved(C)&&(i||u&&l.goToOption(Se.Nothing))}),S=m.useMemo(()=>({active:u,selected:c,disabled:i}),[u,c,i]);return Ve({ourProps:{id:r,ref:f,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:g,onFocus:w,onPointerEnter:v,onMouseEnter:v,onPointerMove:p,onMouseMove:p,onPointerLeave:y,onMouseLeave:y},theirProps:o,slot:S,defaultTag:PF,name:"Listbox.Option"})}let RF=_e(EF),_F=_e(CF),$F=_e(kF),LF=_e(IF),OF=_e(NF),kl=Object.assign(RF,{Button:_F,Label:$F,Options:LF,Option:OF});function MF(e=0){let[t,n]=m.useState(e),r=m.useCallback(a=>n(l=>l|a),[t]),i=m.useCallback(a=>Boolean(t&a),[t]),s=m.useCallback(a=>n(l=>l&~a),[n]),o=m.useCallback(a=>n(l=>l^a),[n]);return{flags:t,addFlag:r,hasFlag:i,removeFlag:s,toggleFlag:o}}function FF(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function yh(e,...t){e&&t.length>0&&e.classList.add(...t)}function vh(e,...t){e&&t.length>0&&e.classList.remove(...t)}function VF(e,t){let n=xn();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,h)=>h-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},a),u.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return n.add(()=>t()),n.dispose}function jF(e,t,n,r){let i=n?"enter":"leave",s=xn(),o=r!==void 0?FF(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=Ce(i,{enter:()=>t.enter,leave:()=>t.leave}),l=Ce(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Ce(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return vh(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),yh(e,...a,...u),s.nextFrame(()=>{vh(e,...u),yh(e,...l),VF(e,()=>(vh(e,...a),yh(e,...t.entered),o()))}),s.dispose}function BF({container:e,direction:t,classes:n,onStart:r,onStop:i}){let s=td(),o=_n(),a=un(t);Pe(()=>{let l=xn();o.add(l.dispose);let u=e.current;if(u&&a.current!=="idle"&&s.current)return l.dispose(),r.current(a.current),l.add(jF(u,n.current,a.current==="enter",()=>{l.dispose(),i.current(a.current)})),l.dispose},[t])}function Ur(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let rd=m.createContext(null);rd.displayName="TransitionContext";var UF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(UF||{});function zF(){let e=m.useContext(rd);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function HF(){let e=m.useContext(id);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let id=m.createContext(null);id.displayName="NestingContext";function sd(e){return"children"in e?sd(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function IC(e,t){let n=un(e),r=m.useRef([]),i=td(),s=_n(),o=H((f,g=Bn.Hidden)=>{let w=r.current.findIndex(({el:x})=>x===f);w!==-1&&(Ce(g,{[Bn.Unmount](){r.current.splice(w,1)},[Bn.Hidden](){r.current[w].state="hidden"}}),s.microTask(()=>{var x;!sd(r)&&i.current&&((x=n.current)==null||x.call(n))}))}),a=H(f=>{let g=r.current.find(({el:w})=>w===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,Bn.Unmount)}),l=m.useRef([]),u=m.useRef(Promise.resolve()),c=m.useRef({enter:[],leave:[],idle:[]}),h=H((f,g,w)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([x])=>x!==f)),t==null||t.chains.current[g].push([f,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[g].push([f,new Promise(x=>{Promise.all(c.current[g].map(([v,p])=>p)).then(()=>x())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(g)):w(g)}),d=H((f,g,w)=>{Promise.all(c.current[g].splice(0).map(([x,v])=>v)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>w(g))});return m.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:d,wait:u,chains:c}),[a,o,r,h,d,c,u])}function WF(){}let KF=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function w1(e){var t;let n={};for(let r of KF)n[r]=(t=e[r])!=null?t:WF;return n}function GF(e){let t=m.useRef(w1(e));return m.useEffect(()=>{t.current=w1(e)},[e]),t}let qF="div",PC=_r.RenderStrategy;function QF(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s,enter:o,enterFrom:a,enterTo:l,entered:u,leave:c,leaveFrom:h,leaveTo:d,...f}=e,g=m.useRef(null),w=Ge(g,t),x=f.unmount?Bn.Unmount:Bn.Hidden,{show:v,appear:p,initial:y}=zF(),[S,C]=m.useState(v?"visible":"hidden"),A=HF(),{register:D,unregister:b}=A,M=m.useRef(null);m.useEffect(()=>D(g),[D,g]),m.useEffect(()=>{if(x===Bn.Hidden&&g.current){if(v&&S!=="visible"){C("visible");return}return Ce(S,{hidden:()=>b(g),visible:()=>D(g)})}},[S,g,D,b,v,x]);let F=un({enter:Ur(o),enterFrom:Ur(a),enterTo:Ur(l),entered:Ur(u),leave:Ur(c),leaveFrom:Ur(h),leaveTo:Ur(d)}),O=GF({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s}),U=$s();m.useEffect(()=>{if(U&&S==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,S,U]);let B=y&&!p,le=(()=>!U||B||M.current===v?"idle":v?"enter":"leave")(),re=MF(0),ue=H(J=>Ce(J,{enter:()=>{re.addFlag(Ke.Opening),O.current.beforeEnter()},leave:()=>{re.addFlag(Ke.Closing),O.current.beforeLeave()},idle:()=>{}})),ve=H(J=>Ce(J,{enter:()=>{re.removeFlag(Ke.Opening),O.current.afterEnter()},leave:()=>{re.removeFlag(Ke.Closing),O.current.afterLeave()},idle:()=>{}})),_=IC(()=>{C("hidden"),b(g)},A);BF({container:g,classes:F,direction:le,onStart:un(J=>{_.onStart(g,J,ue)}),onStop:un(J=>{_.onStop(g,J,ve),J==="leave"&&!sd(_)&&(C("hidden"),b(g))})}),m.useEffect(()=>{B&&(x===Bn.Hidden?M.current=null:M.current=v)},[v,B,S]);let z=f,X={ref:w};return p&&v&&Pn.isServer&&(z={...z,className:pC(f.className,...F.current.enter,...F.current.enterFrom)}),te.createElement(id.Provider,{value:_},te.createElement(jg,{value:Ce(S,{visible:Ke.Open,hidden:Ke.Closed})|re.flags},Ve({ourProps:X,theirProps:z,defaultTag:qF,features:PC,visible:S==="visible",name:"Transition.Child"})))}function YF(e,t){let{show:n,appear:r=!1,unmount:i,...s}=e,o=m.useRef(null),a=Ge(o,t);$s();let l=za();if(n===void 0&&l!==null&&(n=(l&Ke.Open)===Ke.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=m.useState(n?"visible":"hidden"),h=IC(()=>{c("hidden")}),[d,f]=m.useState(!0),g=m.useRef([n]);Pe(()=>{d!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),f(!1))},[g,n]);let w=m.useMemo(()=>({show:n,appear:r,initial:d}),[n,r,d]);m.useEffect(()=>{if(n)c("visible");else if(!sd(h))c("hidden");else{let v=o.current;if(!v)return;let p=v.getBoundingClientRect();p.x===0&&p.y===0&&p.width===0&&p.height===0&&c("hidden")}},[n,h]);let x={unmount:i};return te.createElement(id.Provider,{value:h},te.createElement(rd.Provider,{value:w},Ve({ourProps:{...x,as:m.Fragment,children:te.createElement(NC,{ref:a,...x,...s})},theirProps:{},defaultTag:m.Fragment,features:PC,visible:u==="visible",name:"Transition"})))}function XF(e,t){let n=m.useContext(rd)!==null,r=za()!==null;return te.createElement(te.Fragment,null,!n&&r?te.createElement(yp,{ref:t,...e}):te.createElement(NC,{ref:t,...e}))}let yp=_e(YF),NC=_e(QF),JF=_e(XF),Io=Object.assign(yp,{Child:JF,Root:yp});const RC=({isOpen:e,onClose:t,title:n,children:r,height:i})=>{const s={auto:"h-auto",full:"h-full",xs:"h-[5rem]",sm:"h-[10rem]",md:"h-[20rem]",lg:"h-[30rem]",xl:"h-[40rem]","2xl":"h-[50rem]"};return T.jsx(Io,{appear:!0,show:e,as:m.Fragment,children:T.jsxs(mh,{as:"div",className:"relative z-10",onClose:t,children:[T.jsx(Io.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),T.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:T.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:T.jsx(Io.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:T.jsx(mh.Panel,{className:`${s[i]} w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-neutral-900 dark:border-neutral-700 border-neutral-300 border p-6 text-left align-middle shadow-xl transition-all`,children:T.jsxs("div",{className:"h-full flex flex-col",children:[n&&T.jsx(mh.Title,{as:"h3",className:"text-lg font-medium leading-6 dark:text-white text-center",children:n}),r]})})})})})]})})},ZF=async({cong:e,mapID:t,suburb:n,street:r})=>{const i=ja(Zn,e,"maps");try{return await Zc(Zn,async o=>{if(!(await o.get(i)).exists())return{};const l=await o.get(i).then(u=>{var c;return(c=u.data())==null?void 0:c.mapDetails});return l[t].suburbs[n].streets.includes(r)||(l[t].suburbs[n].streets=[...l[t].suburbs[n].streets,r].sort((u,c)=>u.toLowerCase().localeCompare(c.toLowerCase()))),o.update(i,{mapDetails:l}),console.log(`<<< NEW STREET ADDED >>>
`,r,`
Latest mapDetails:`,l),l})}catch(s){return console.error(s.message),s}},eV=async(e,t,n,r)=>{t==null||t.toString();const i=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?country=au&bbox=${t==null?void 0:t.join("%2C")}&proximity=151.209889%2C-33.874666&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(i).then(s=>s.json()).then(s=>s.features)};var qa=e=>e.type==="checkbox",Yi=e=>e instanceof Date,At=e=>e==null;const _C=e=>typeof e=="object";var rt=e=>!At(e)&&!Array.isArray(e)&&_C(e)&&!Yi(e),tV=e=>rt(e)&&e.target?qa(e.target)?e.target.checked:e.target.value:e,nV=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rV=(e,t)=>e.has(nV(t)),iV=e=>{const t=e.constructor&&e.constructor.prototype;return rt(t)&&t.hasOwnProperty("isPrototypeOf")},Kg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Kg&&(e instanceof Blob||e instanceof FileList))&&(n||rt(e)))if(t=n?[]:{},!Array.isArray(e)&&!iV(e))t=e;else for(const r in e)t[r]=qr(e[r]);else return e;return t}var Qa=e=>Array.isArray(e)?e.filter(Boolean):[],Xe=e=>e===void 0,K=(e,t,n)=>{if(!t||!rt(e))return n;const r=Qa(t.split(/[,[\].]+?/)).reduce((i,s)=>At(i)?i:i[s],e);return Xe(r)||r===e?Xe(e[t])?n:e[t]:r};const x1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$n={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};te.createContext(null);var sV=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==gn.all&&(t._proxyFormState[o]=!r||gn.all),n&&(n[o]=!0),e[o]}});return i},Zt=e=>rt(e)&&!Object.keys(e).length,oV=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Zt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||gn.all))},wh=e=>Array.isArray(e)?e:[e];function aV(e){const t=te.useRef(e);t.current=e,te.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var kn=e=>typeof e=="string",lV=(e,t,n,r,i)=>kn(e)?(r&&t.watch.add(e),K(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),K(n,s))):(r&&(t.watchAll=!0),n),Gg=e=>/^\w*$/.test(e),$C=e=>Qa(e.replace(/["|']|\]/g,"").split(/\.|\[/));function De(e,t,n){let r=-1;const i=Gg(t)?[t]:$C(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=rt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var LC=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const vp=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=K(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else rt(o)&&vp(o,t)}}};var S1=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched}),E1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),uV=(e,t,n)=>{const r=Qa(K(e,n));return De(r,"root",t[n]),De(e,n,r),e},os=e=>typeof e=="boolean",qg=e=>e.type==="file",dr=e=>typeof e=="function",Xu=e=>{if(!Kg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wl=e=>kn(e),Qg=e=>e.type==="radio",Ju=e=>e instanceof RegExp;const T1={value:!1,isValid:!1},C1={value:!0,isValid:!0};var OC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xe(e[0].attributes.value)?Xe(e[0].value)||e[0].value===""?C1:{value:e[0].value,isValid:!0}:C1:T1}return T1};const b1={isValid:!1,value:null};var MC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,b1):b1;function k1(e,t,n="validate"){if(Wl(e)||Array.isArray(e)&&e.every(Wl)||os(e)&&!e)return{type:n,message:Wl(e)?e:"",ref:t}}var Ii=e=>rt(e)&&!Ju(e)?e:{value:e,message:""},D1=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:f,name:g,valueAsNumber:w,mount:x,disabled:v}=e._f,p=K(t,g);if(!x||v)return{};const y=o?o[0]:s,S=U=>{r&&y.reportValidity&&(y.setCustomValidity(os(U)?"":U||""),y.reportValidity())},C={},A=Qg(s),D=qa(s),b=A||D,M=(w||qg(s))&&Xe(s.value)&&Xe(p)||Xu(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,F=LC.bind(null,g,n,C),O=(U,B,le,re=$n.maxLength,ue=$n.minLength)=>{const ve=U?B:le;C[g]={type:U?re:ue,message:ve,ref:s,...F(U?re:ue,ve)}};if(i?!Array.isArray(p)||!p.length:a&&(!b&&(M||At(p))||os(p)&&!p||D&&!OC(o).isValid||A&&!MC(o).isValid)){const{value:U,message:B}=Wl(a)?{value:!!a,message:a}:Ii(a);if(U&&(C[g]={type:$n.required,message:B,ref:y,...F($n.required,B)},!n))return S(B),C}if(!M&&(!At(c)||!At(h))){let U,B;const le=Ii(h),re=Ii(c);if(!At(p)&&!isNaN(p)){const ue=s.valueAsNumber||p&&+p;At(le.value)||(U=ue>le.value),At(re.value)||(B=ue<re.value)}else{const ue=s.valueAsDate||new Date(p),ve=X=>new Date(new Date().toDateString()+" "+X),_=s.type=="time",z=s.type=="week";kn(le.value)&&p&&(U=_?ve(p)>ve(le.value):z?p>le.value:ue>new Date(le.value)),kn(re.value)&&p&&(B=_?ve(p)<ve(re.value):z?p<re.value:ue<new Date(re.value))}if((U||B)&&(O(!!U,le.message,re.message,$n.max,$n.min),!n))return S(C[g].message),C}if((l||u)&&!M&&(kn(p)||i&&Array.isArray(p))){const U=Ii(l),B=Ii(u),le=!At(U.value)&&p.length>+U.value,re=!At(B.value)&&p.length<+B.value;if((le||re)&&(O(le,U.message,B.message),!n))return S(C[g].message),C}if(d&&!M&&kn(p)){const{value:U,message:B}=Ii(d);if(Ju(U)&&!p.match(U)&&(C[g]={type:$n.pattern,message:B,ref:s,...F($n.pattern,B)},!n))return S(B),C}if(f){if(dr(f)){const U=await f(p,t),B=k1(U,y);if(B&&(C[g]={...B,...F($n.validate,B.message)},!n))return S(B.message),C}else if(rt(f)){let U={};for(const B in f){if(!Zt(U)&&!n)break;const le=k1(await f[B](p,t),y,B);le&&(U={...le,...F(B,le.message)},S(le.message),n&&(C[g]=U))}if(!Zt(U)&&(C[g]={ref:y,...U},!n))return C}}return S(!0),C};function cV(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Xe(e)?r++:e[t[r++]];return e}function dV(e){for(const t in e)if(!Xe(e[t]))return!1;return!0}function ut(e,t){const n=Array.isArray(t)?t:Gg(t)?[t]:$C(t),r=n.length===1?e:cV(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(rt(r)&&Zt(r)||Array.isArray(r)&&dV(r))&&ut(e,n.slice(0,-1)),e}function xh(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var Zu=e=>At(e)||!_C(e);function ii(e,t){if(Zu(e)||Zu(t))return e===t;if(Yi(e)&&Yi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Yi(s)&&Yi(o)||rt(s)&&rt(o)||Array.isArray(s)&&Array.isArray(o)?!ii(s,o):s!==o)return!1}}return!0}var FC=e=>e.type==="select-multiple",hV=e=>Qg(e)||qa(e),Sh=e=>Xu(e)&&e.isConnected,VC=e=>{for(const t in e)if(dr(e[t]))return!0;return!1};function ec(e,t={}){const n=Array.isArray(e);if(rt(e)||n)for(const r in e)Array.isArray(e[r])||rt(e[r])&&!VC(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ec(e[r],t[r])):At(e[r])||(t[r]=!0);return t}function jC(e,t,n){const r=Array.isArray(e);if(rt(e)||r)for(const i in e)Array.isArray(e[i])||rt(e[i])&&!VC(e[i])?Xe(t)||Zu(n[i])?n[i]=Array.isArray(e[i])?ec(e[i],[]):{...ec(e[i])}:jC(e[i],At(t)?{}:t[i],n[i]):n[i]=!ii(e[i],t[i]);return n}var Eh=(e,t)=>jC(e,t,ec(t)),BC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Xe(e)?e:t?e===""?NaN:e&&+e:n&&kn(e)?new Date(e):r?r(e):e;function Th(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return qg(t)?t.files:Qg(t)?MC(e.refs).value:FC(t)?[...t.selectedOptions].map(({value:n})=>n):qa(t)?OC(e.refs).value:BC(Xe(t.value)?e.ref.value:t.value,e)}var fV=(e,t,n,r)=>{const i={};for(const s of e){const o=K(t,s);o&&De(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Ys=e=>Xe(e)?e:Ju(e)?e.source:rt(e)?Ju(e.value)?e.value.source:e.value:e,pV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function A1(e,t,n){const r=K(e,n);if(r||Gg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=K(t,s),a=K(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var mV=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,gV=(e,t)=>!Qa(K(e,t)).length&&ut(e,t);const yV={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function vV(e={},t){let n={...yV,...e},r={submitCount:0,isDirty:!1,isLoading:dr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=rt(n.defaultValues)||rt(n.values)?qr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:qr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:xh(),array:xh(),state:xh()},f=e.resetOptions&&e.resetOptions.keepDirtyValues,g=S1(n.mode),w=S1(n.reValidateMode),x=n.criteriaMode===gn.all,v=E=>k=>{clearTimeout(c),c=setTimeout(E,k)},p=async E=>{if(h.isValid||E){const k=n.resolver?Zt((await M()).errors):await O(i,!0);k!==r.isValid&&d.state.next({isValid:k})}},y=E=>h.isValidating&&d.state.next({isValidating:E}),S=(E,k=[],I,q,V=!0,$=!0)=>{if(q&&I){if(a.action=!0,$&&Array.isArray(K(i,E))){const ee=I(K(i,E),q.argA,q.argB);V&&De(i,E,ee)}if($&&Array.isArray(K(r.errors,E))){const ee=I(K(r.errors,E),q.argA,q.argB);V&&De(r.errors,E,ee),gV(r.errors,E)}if(h.touchedFields&&$&&Array.isArray(K(r.touchedFields,E))){const ee=I(K(r.touchedFields,E),q.argA,q.argB);V&&De(r.touchedFields,E,ee)}h.dirtyFields&&(r.dirtyFields=Eh(s,o)),d.state.next({name:E,isDirty:B(E,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else De(o,E,k)},C=(E,k)=>{De(r.errors,E,k),d.state.next({errors:r.errors})},A=(E,k,I,q)=>{const V=K(i,E);if(V){const $=K(o,E,Xe(I)?K(s,E):I);Xe($)||q&&q.defaultChecked||k?De(o,E,k?$:Th(V._f)):ue(E,$),a.mount&&p()}},D=(E,k,I,q,V)=>{let $=!1,ee=!1;const je={name:E};if(!I||q){h.isDirty&&(ee=r.isDirty,r.isDirty=je.isDirty=B(),$=ee!==je.isDirty);const He=ii(K(s,E),k);ee=K(r.dirtyFields,E),He?ut(r.dirtyFields,E):De(r.dirtyFields,E,!0),je.dirtyFields=r.dirtyFields,$=$||h.dirtyFields&&ee!==!He}if(I){const He=K(r.touchedFields,E);He||(De(r.touchedFields,E,I),je.touchedFields=r.touchedFields,$=$||h.touchedFields&&He!==I)}return $&&V&&d.state.next(je),$?je:{}},b=(E,k,I,q)=>{const V=K(r.errors,E),$=h.isValid&&os(k)&&r.isValid!==k;if(e.delayError&&I?(u=v(()=>C(E,I)),u(e.delayError)):(clearTimeout(c),u=null,I?De(r.errors,E,I):ut(r.errors,E)),(I?!ii(V,I):V)||!Zt(q)||$){const ee={...q,...$&&os(k)?{isValid:k}:{},errors:r.errors,name:E};r={...r,...ee},d.state.next(ee)}y(!1)},M=async E=>n.resolver(o,n.context,fV(E||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),F=async E=>{const{errors:k}=await M();if(E)for(const I of E){const q=K(k,I);q?De(r.errors,I,q):ut(r.errors,I)}else r.errors=k;return k},O=async(E,k,I={valid:!0})=>{for(const q in E){const V=E[q];if(V){const{_f:$,...ee}=V;if($){const je=l.array.has($.name),He=await D1(V,o,x,n.shouldUseNativeValidation&&!k,je);if(He[$.name]&&(I.valid=!1,k))break;!k&&(K(He,$.name)?je?uV(r.errors,He,$.name):De(r.errors,$.name,He[$.name]):ut(r.errors,$.name))}ee&&await O(ee,k,I)}}return I.valid},U=()=>{for(const E of l.unMount){const k=K(i,E);k&&(k._f.refs?k._f.refs.every(I=>!Sh(I)):!Sh(k._f.ref))&&de(E)}l.unMount=new Set},B=(E,k)=>(E&&k&&De(o,E,k),!ii(J(),s)),le=(E,k,I)=>lV(E,l,{...a.mount?o:Xe(k)?s:kn(E)?{[E]:k}:k},I,k),re=E=>Qa(K(a.mount?o:s,E,e.shouldUnregister?K(s,E,[]):[])),ue=(E,k,I={})=>{const q=K(i,E);let V=k;if(q){const $=q._f;$&&(!$.disabled&&De(o,E,BC(k,$)),V=Xu($.ref)&&At(k)?"":k,FC($.ref)?[...$.ref.options].forEach(ee=>ee.selected=V.includes(ee.value)):$.refs?qa($.ref)?$.refs.length>1?$.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(V)?!!V.find(je=>je===ee.value):V===ee.value)):$.refs[0]&&($.refs[0].checked=!!V):$.refs.forEach(ee=>ee.checked=ee.value===V):qg($.ref)?$.ref.value="":($.ref.value=V,$.ref.type||d.values.next({name:E,values:{...o}})))}(I.shouldDirty||I.shouldTouch)&&D(E,V,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&X(E)},ve=(E,k,I)=>{for(const q in k){const V=k[q],$=`${E}.${q}`,ee=K(i,$);(l.array.has(E)||!Zu(V)||ee&&!ee._f)&&!Yi(V)?ve($,V,I):ue($,V,I)}},_=(E,k,I={})=>{const q=K(i,E),V=l.array.has(E),$=qr(k);De(o,E,$),V?(d.array.next({name:E,values:{...o}}),(h.isDirty||h.dirtyFields)&&I.shouldDirty&&d.state.next({name:E,dirtyFields:Eh(s,o),isDirty:B(E,$)})):q&&!q._f&&!At($)?ve(E,$,I):ue(E,$,I),E1(E,l)&&d.state.next({...r}),d.values.next({name:E,values:{...o}}),!a.mount&&t()},z=async E=>{const k=E.target;let I=k.name,q=!0;const V=K(i,I),$=()=>k.type?Th(V._f):tV(E);if(V){let ee,je;const He=$(),Di=E.type===x1.BLUR||E.type===x1.FOCUS_OUT,KC=!pV(V._f)&&!n.resolver&&!K(r.errors,I)&&!V._f.deps||mV(Di,K(r.touchedFields,I),r.isSubmitted,w,g),od=E1(I,l,Di);De(o,I,He),Di?(V._f.onBlur&&V._f.onBlur(E),u&&u(0)):V._f.onChange&&V._f.onChange(E);const ad=D(I,He,Di,!1),GC=!Zt(ad)||od;if(!Di&&d.values.next({name:I,type:E.type,values:{...o}}),KC)return h.isValid&&p(),GC&&d.state.next({name:I,...od?{}:ad});if(!Di&&od&&d.state.next({...r}),y(!0),n.resolver){const{errors:Zg}=await M([I]),qC=A1(r.errors,i,I),ey=A1(Zg,i,qC.name||I);ee=ey.error,I=ey.name,je=Zt(Zg)}else ee=(await D1(V,o,x,n.shouldUseNativeValidation))[I],q=isNaN(He)||He===K(o,I,He),q&&(ee?je=!1:h.isValid&&(je=await O(i,!0)));q&&(V._f.deps&&X(V._f.deps),b(I,je,ee,ad))}},X=async(E,k={})=>{let I,q;const V=wh(E);if(y(!0),n.resolver){const $=await F(Xe(E)?E:V);I=Zt($),q=E?!V.some(ee=>K($,ee)):I}else E?(q=(await Promise.all(V.map(async $=>{const ee=K(i,$);return await O(ee&&ee._f?{[$]:ee}:ee)}))).every(Boolean),!(!q&&!r.isValid)&&p()):q=I=await O(i);return d.state.next({...!kn(E)||h.isValid&&I!==r.isValid?{}:{name:E},...n.resolver||!E?{isValid:I}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!q&&vp(i,$=>$&&K(r.errors,$),E?V:l.mount),q},J=E=>{const k={...s,...a.mount?o:{}};return Xe(E)?k:kn(E)?K(k,E):E.map(I=>K(k,I))},we=(E,k)=>({invalid:!!K((k||r).errors,E),isDirty:!!K((k||r).dirtyFields,E),isTouched:!!K((k||r).touchedFields,E),error:K((k||r).errors,E)}),L=E=>{E&&wh(E).forEach(k=>ut(r.errors,k)),d.state.next({errors:E?r.errors:{}})},W=(E,k,I)=>{const q=(K(i,E,{_f:{}})._f||{}).ref;De(r.errors,E,{...k,ref:q}),d.state.next({name:E,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&q&&q.focus&&q.focus()},Q=(E,k)=>dr(E)?d.values.subscribe({next:I=>E(le(void 0,k),I)}):le(E,k,!0),de=(E,k={})=>{for(const I of E?wh(E):l.mount)l.mount.delete(I),l.array.delete(I),k.keepValue||(ut(i,I),ut(o,I)),!k.keepError&&ut(r.errors,I),!k.keepDirty&&ut(r.dirtyFields,I),!k.keepTouched&&ut(r.touchedFields,I),!n.shouldUnregister&&!k.keepDefaultValue&&ut(s,I);d.values.next({values:{...o}}),d.state.next({...r,...k.keepDirty?{isDirty:B()}:{}}),!k.keepIsValid&&p()},pe=(E,k={})=>{let I=K(i,E);const q=os(k.disabled);return De(i,E,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:E}},name:E,mount:!0,...k}}),l.mount.add(E),I?q&&De(o,E,k.disabled?void 0:K(o,E,Th(I._f))):A(E,!0,k.value),{...q?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:Ys(k.min),max:Ys(k.max),minLength:Ys(k.minLength),maxLength:Ys(k.maxLength),pattern:Ys(k.pattern)}:{},name:E,onChange:z,onBlur:z,ref:V=>{if(V){pe(E,k),I=K(i,E);const $=Xe(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,ee=hV($),je=I._f.refs||[];if(ee?je.find(He=>He===$):$===I._f.ref)return;De(i,E,{_f:{...I._f,...ee?{refs:[...je.filter(Sh),$,...Array.isArray(K(s,E))?[{}]:[]],ref:{type:$.type,name:E}}:{ref:$}}}),A(E,!1,void 0,$)}else I=K(i,E,{}),I._f&&(I._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(rV(l.array,E)&&a.action)&&l.unMount.add(E)}}},jr=()=>n.shouldFocusError&&vp(i,E=>E&&K(r.errors,E),l.mount),HC=(E,k)=>async I=>{I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let q=qr(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:V,values:$}=await M();r.errors=V,q=$}else await O(i);ut(r.errors,"root"),Zt(r.errors)?(d.state.next({errors:{}}),await E(q,I)):(k&&await k({...r.errors},I),jr(),setTimeout(jr)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},WC=(E,k={})=>{K(i,E)&&(Xe(k.defaultValue)?_(E,K(s,E)):(_(E,k.defaultValue),De(s,E,k.defaultValue)),k.keepTouched||ut(r.touchedFields,E),k.keepDirty||(ut(r.dirtyFields,E),r.isDirty=k.defaultValue?B(E,K(s,E)):B()),k.keepError||(ut(r.errors,E),h.isValid&&p()),d.state.next({...r}))},Xg=(E,k={})=>{const I=E||s,q=qr(I),V=E&&!Zt(E)?q:s;if(k.keepDefaultValues||(s=I),!k.keepValues){if(k.keepDirtyValues||f)for(const $ of l.mount)K(r.dirtyFields,$)?De(V,$,K(o,$)):_($,K(V,$));else{if(Kg&&Xe(E))for(const $ of l.mount){const ee=K(i,$);if(ee&&ee._f){const je=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(Xu(je)){const He=je.closest("form");if(He){He.reset();break}}}}i={}}o=e.shouldUnregister?k.keepDefaultValues?qr(s):{}:q,d.array.next({values:{...V}}),d.values.next({values:{...V}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!h.isValid||!!k.keepIsValid,a.watch=!!e.shouldUnregister,d.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!ii(E,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&E?Eh(s,E):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Jg=(E,k)=>Xg(dr(E)?E(o):E,k);return{control:{register:pe,unregister:de,getFieldState:we,_executeSchema:M,_getWatch:le,_getDirty:B,_updateValid:p,_removeUnmounted:U,_updateFieldArray:S,_getFieldArray:re,_reset:Xg,_resetDefaultValues:()=>dr(n.defaultValues)&&n.defaultValues().then(E=>{Jg(E,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(E){a=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:X,register:pe,handleSubmit:HC,watch:Q,setValue:_,getValues:J,reset:Jg,resetField:WC,clearErrors:L,unregister:de,setError:W,setFocus:(E,k={})=>{const I=K(i,E),q=I&&I._f;if(q){const V=q.refs?q.refs[0]:q.ref;V.focus&&(V.focus(),k.shouldSelect&&V.select())}},getFieldState:we}}function wV(e={}){const t=te.useRef(),[n,r]=te.useState({isDirty:!1,isValidating:!1,isLoading:dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:dr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...vV(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,aV({subject:i._subjects.state,next:s=>{oV(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),te.useEffect(()=>{e.values&&!ii(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),te.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=sV(n,i),t.current}var I1=function(e,t,n){if(e&&"reportValidity"in e){var r=K(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},UC=function(e,t){var n=function(i){var s=t.fields[i];s&&s.ref&&"reportValidity"in s.ref?I1(s.ref,i,e):s.refs&&s.refs.forEach(function(o){return I1(o,i,e)})};for(var r in t.fields)n(r)},xV=function(e,t){t.shouldUseNativeValidation&&UC(e,t);var n={};for(var r in e){var i=K(t.fields,r);De(n,r,Object.assign(e[r]||{},{ref:i&&i.ref}))}return n},SV=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(h){return e.push(h)})}),t){var l=n[o].types,u=l&&l[r.code];n[o]=LC(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},EV=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&UC({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:xV(SV(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const TV=({value:e,options:t,onChange:n,onSelect:r,width:i,placeholder:s,height:o="md"})=>T.jsx(bl,{value:e,onChange:r,children:T.jsxs("div",{className:`relative ${Ea[i]}`,children:[T.jsx(bl.Input,{placeholder:s,onChange:n,className:`${Ta[o]} bg-neutral-200 dark:bg-neutral-700 rounded p-2 w-full flex text-black dark:text-white`}),T.jsx(Io,{as:m.Fragment,enter:"transition-all duration-300 overflow-hidden",leave:"transition-all duration-300 overflow-hidden",enterFrom:"transform scale-y-0  scale-x-90  origin-top",enterTo:"transform scale-100  origin-top",leaveFrom:"transform scale-100  origin-top",leaveTo:"transform scale-y-0  scale-x-90  origin-top",children:T.jsx(bl.Options,{className:"absolute bg-neutral-200 dark:bg-neutral-700 mt-1 rounded w-full z-50 text-black dark:text-white",children:t.map((a,l)=>T.jsx(bl.Option,{value:a,className:({active:u})=>`p-2 border-b-[0.7px] border-neutral-100 dark:border-neutral-600 last:border-none flex items-center ${u?"bg-neutral-300 dark:bg-neutral-800":""}`,children:({selected:u,active:c})=>T.jsxs(T.Fragment,{children:[T.jsx("span",{className:`text-xl ${u?"font-bold":""}`,children:a}),u?T.jsx("span",{className:"",children:T.jsx("div",{className:"","aria-hidden":"true"})}):null]})},l))})})]})}),CV=e=>m.createElement("svg",{enableBackground:"new 0 0 32 32",viewBox:"0 0 32 32",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1em",height:"1em",...e},m.createElement("g",null,m.createElement("g",{id:"Grid"}),m.createElement("g",{id:"Chevron_Up"}),m.createElement("g",{id:"Chevron_Left"},m.createElement("g",{transform:"rotate(90,19.582908,13.084021)"},m.createElement("polyline",{fill:"none",points:"21.2,25.7 10.8,16 21.2,6.3     ",strokeMiterlimit:10,id:"polyline157",style:{strokeOpacity:1}})),m.createElement("g",{transform:"rotate(-90,19.877484,19.189444)"},m.createElement("polyline",{fill:"none",points:"21.2,25.7 10.8,16 21.2,6.3     ",strokeMiterlimit:10,id:"polyline157",style:{strokeOpacity:1}}))),m.createElement("g",{id:"Chevron_Down"}),m.createElement("g",{id:"Chevron_Right"}),m.createElement("g",{id:"Keyboard_Up"}),m.createElement("g",{id:"Keyboard_Left"}),m.createElement("g",{id:"Keyboard_Right"}),m.createElement("g",{id:"Keyboard_Up_1_"}),m.createElement("g",{id:"Check"}),m.createElement("g",{id:"Delete"}))),bV=({value:e,onChange:t,options:n,placeholder:r,width:i,height:s="md"})=>T.jsx(kl,{value:e,onChange:t,children:T.jsxs("div",{className:`relative ${Ea[i]}`,children:[T.jsxs(kl.Button,{className:`${Ta[s]} bg-neutral-200 dark:bg-neutral-700 rounded p-2 w-full flex `,children:[e==="init"?T.jsx("div",{className:"grow my-auto text-neutral-400 text-left",children:r}):T.jsx("div",{className:"grow my-auto text-left",children:e}),T.jsx("div",{className:"my-auto stroke-blue-500 dark:stroke-blue-400 fill-none stroke-[2] text-[1.4rem]",children:T.jsx(CV,{})})]}),T.jsx(Io,{as:m.Fragment,enter:"transition-all duration-300 overflow-hidden",leave:"transition-all duration-300 overflow-hidden",enterFrom:"transform scale-y-0  scale-x-90  origin-top",enterTo:"transform scale-100  origin-top",leaveFrom:"transform scale-100  origin-top",leaveTo:"transform scale-y-0  scale-x-90  origin-top",children:T.jsx(kl.Options,{className:"absolute bg-neutral-200 dark:bg-neutral-700 mt-1 rounded w-full z-50",children:n.map((o,a)=>T.jsx(kl.Option,{className:({active:l})=>`px-2 h-16 border-b-[0.7px] dark:border-neutral-600 border-neutral-100 last:border-none flex items-center ${l?"bg-neutral-300 dark:bg-neutral-800 dark:text-white":""}`,value:o,children:({selected:l})=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`text-xl ${l?"font-bold":""}`,children:o}),l?T.jsx("span",{className:"",children:T.jsx("div",{className:"","aria-hidden":"true"})}):null]})},a))})})]})}),kV=({label:e,register:t,error:n,value:r,onChange:i,placeholder:s,width:o,height:a="md"})=>T.jsxs(T.Fragment,{children:[T.jsxs("label",{children:[" ",e]}),T.jsx("input",{className:`${Ea[o]} ${Ta[a]} dark:bg-neutral-700 bg-neutral-200 rounded p-2`,type:"text",value:r,onChange:i,...t,placeholder:s}),n&&T.jsxs("span",{className:"text-red-500",children:[" ",n.message]})]}),DV=({label:e,register:t,error:n,value:r,onChange:i,placeholder:s,width:o,height:a="md"})=>T.jsxs(T.Fragment,{children:[T.jsxs("label",{children:[" ",e]}),T.jsx("input",{className:`${Ea[o]} ${Ta[a]} dark:bg-neutral-700 bg-neutral-200 rounded p-2`,type:"number",value:r,onChange:i,...t,placeholder:s}),n&&T.jsxs("span",{className:"Number-red-500",children:[" ",n.message]})]}),Je=({zodSchema:e,children:t})=>{const{register:n,handleSubmit:r,formState:{errors:i}}=wV({mode:"onChange",resolver:EV(e)}),s=o=>{console.log("IT WORKED",o)};return T.jsx("form",{onSubmit:r(s),className:"flex flex-col",children:t})};Je.Autocomplete=TV;Je.Select=bV;Je.Text=kV;Je.Number=DV;const AV=({isOpen:e,closeModal:t,map:n,suburb:r,mapDetails:i})=>{const[s,o]=m.useState(""),[a,l]=m.useState([]),u=async d=>{if(d.target.value.length<=2){l([]);return}o(d.target.value);const f=await eV(s,i[n].suburbs[r].bbox,i[n].suburbs[r].name);f&&l(f)},c=()=>{ZF({cong:"australia_nsw_maitland",mapID:n,suburb:r,street:s}),t({type:"street",payload:s}),o(""),l([])},h=()=>{t({type:"street",payload:"init"}),o("")};return T.jsx(RC,{isOpen:e,onClose:()=>{},title:"Add Street",height:"lg",children:T.jsx("div",{className:"h-full relative",children:T.jsx(Je,{children:T.jsxs("div",{className:"flex justify-evenly m-4",children:[T.jsx(Je.Autocomplete,{value:s,onChange:d=>{u(d)},onSelect:d=>{o(d.props.children[0].props.children)},options:a.map(d=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"font-bold",children:d.text}),T.jsx("div",{className:"text-xs",children:d.place_name.split(", ")[1]})]})),width:"lg"}),T.jsxs("div",{className:"flex gap-2 m-auto absolute bottom-0 justify-evenly w-full",children:[T.jsx(Ir,{color:"blue",clickAction:h,width:"sm",children:"Cancel"}),a.map(d=>d.text).includes(s)&&T.jsx(Ir,{color:"blue",clickAction:c,width:"sm",children:"Add"})]})]})})})})},IV=async({cong:e,mapID:t,suburb:n,bbox:r})=>{const i=ja(Zn,e,"maps");try{const s=await Zc(Zn,async o=>{if(!(await o.get(i)).exists())return console.log("<<<NO SUCH DOCUMENT>>>"),{};const l=await o.get(i).then(u=>{var c;return(c=u.data())==null?void 0:c.mapDetails});return l[t].suburbs=[...l[t].suburbs,l[t].suburbs.map(({name:u})=>(console.log(u),u)).includes(n)?null:{streets:[],bbox:r,name:n}].sort((u,c)=>u.name.toLowerCase().localeCompare(c.name.toLowerCase())),o.update(i,{mapDetails:l}),l});return console.log(`<<< NEW SUBURB ADDED >>>
`,n,`
Latest mapDetails:`,s),s}catch(s){return console.error(s.message),s}},PV=async(e,t,n)=>await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?types=place&proximity=151.209889,-33.874666&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`).then(i=>i.json()).then(i=>i.features),NV=({isOpen:e,closeModal:t,map:n})=>{const[r,i]=m.useState(""),[s,o]=m.useState([]),[a,l]=m.useState([]),[u,c]=m.useState([]),h=async w=>{if(i(w.target.value),w.target.value.length<=2){l([]);return}const x=await PV(w.target.value);c(x.map((v,p)=>({display:T.jsxs("div",{className:`${p} font-semibold`,children:[v.text,T.jsx("div",{className:"text-sm font-light dark:text-neutral-200",children:v.place_name})]}),...v})))},d=w=>{o(u[w.props.className[0]].bbox),i(w.props.children[0])},f=()=>{IV({cong:"australia_nsw_maitland",mapID:n,suburb:r,bbox:s}),t({type:"suburb",payload:r}),i(""),l([])},g=()=>{t({type:"suburb",payload:"init"}),i("")};return m.useEffect(()=>(l(u.map(w=>w.display)),()=>{}),[u]),T.jsx(RC,{isOpen:e,onClose:()=>{},title:"Add Suburb",height:"lg",children:T.jsx("div",{className:"h-full relative",children:T.jsx(Je,{children:T.jsxs("div",{className:"flex justify-around  m-4",children:[T.jsx(Je.Autocomplete,{value:r,onChange:w=>h(w),onSelect:d,options:a,width:"lg"}),T.jsxs("div",{className:"flex gap-2 m-auto-xx absolute bottom-0 justify-evenly w-fit",children:[T.jsx(Ir,{color:"blue",clickAction:g,width:"sm",children:"Cancel"}),a.map(w=>w.props.children[0]).includes(r)&&T.jsx(Ir,{color:"blue",clickAction:f,width:"sm",children:"Add"})]})]})})})})},RV=async(e,t,n,r,i)=>{const o=`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}%20${t}%20${n}%20.json?country=au&bbox=${r[0]-.015}%2C${r[1]-.015}%2C${r[2]+.015}%2C${r[3]+.015}&types=address&fuzzyMatch=false&access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`;return await fetch(o).then(a=>a.json()).then(a=>(console.log(a.features[0]),{lng:a.features[0].center[0],lat:a.features[0].center[1],relevance:a.features[0].relevance}))},_V=async({cong:e,user:t,mapID:n,...r})=>{const i=ja(Zn,"notAtHomes","MaitlandCongregation");try{const s=await Zc(Zn,async o=>{const a="id"+Date.now();return(await o.get(i)).exists()?(o.update(i,{[a]:{...r,id:Date.now()}}),{...r,id:Date.now()}):(o.set(i,{[a]:{...r,id:Date.now()}}),"First Not At Home created successfully")});return console.log(`<<< NEW NOT AT HOME ADDED >>>
Address Details:`,s),s}catch(s){return console.error(s.message),s}},$V=(e,t)=>typeof t.payload=="object"?{...e,[t.type]:"adding "+t.type}:{mapID:{mapID:t.payload,suburb:"init",street:"init",houseNumber:"",unitNumber:""},suburb:{...e,suburb:t.payload,street:"init",houseNumber:"",unitNumber:""},street:{...e,street:t.payload,houseNumber:"",unitNumber:""},houseNumber:{...e,houseNumber:t.payload},unitNumber:{...e,unitNumber:t.payload}}[t.type],LV=()=>{const[e,t]=m.useReducer($V,{mapID:"init",suburb:"init",street:"init",houseNumber:"",unitNumber:""}),[n,r]=m.useState([]),i=()=>Math.max(0,n.findIndex(u=>u.id==e.mapID)),s=()=>e.mapID==="init"?0:Math.max(0,n[i()].suburbs.findIndex(u=>u.name===e.suburb)),o=async()=>{const u=await RV(e.houseNumber,e.street,e.suburb,n[i()].suburbs[s()].bbox);_V({...u,...e,letter:!1,user:"xxx",calls:[Date.now()],cong:"australia_nsw_maitland"}),e.unitNumber===""&&t({type:"houseNumber",payload:""}),t({type:"unitNumber",payload:""})},a=n.length===0?[]:n[i()].suburbs.map(u=>u.name),l=n.length===0?[]:n[i()].suburbs.length===0?[]:n[i()].suburbs[s()].streets.map(u=>u);return m.useEffect(()=>{const u=dM(ja(Zn,"australia_nsw_maitland","maps"),c=>{var h;c.data()&&r((h=c.data())==null?void 0:h.mapDetails)});return()=>{u()}},[]),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"flex justify-center",children:[T.jsxs(Je,{children:[T.jsx(Je.Select,{onChange:u=>{t({type:"mapID",payload:u})},options:n.map(u=>u.id),placeholder:"Map",value:e.mapID,width:"lg",height:"xl"}),T.jsx("div",{className:"h-2"}),e.mapID!=="init"&&T.jsx(Je.Select,{onChange:u=>{t({type:"suburb",payload:u})},value:e.suburb,options:[...a,T.jsx("span",{className:"text-blue-400",children:"add new suburb"})],placeholder:"Suburb",width:"lg",height:"xl"}),T.jsx("div",{className:"h-2"}),e.suburb==="init"?null:T.jsx(Je.Select,{onChange:u=>{t({type:"street",payload:u})},value:e.street,options:[...l,T.jsx("span",{className:"text-blue-400",children:"add new street"})],placeholder:"Street",width:"lg",height:"xl"}),T.jsx("div",{className:"h-2"}),T.jsxs("div",{className:"flex",children:[e.street==="init"?null:T.jsx(Je.Number,{value:e.houseNumber,label:"",placeholder:"House",onChange:u=>t({type:"houseNumber",payload:u.target.value}),width:"sm",height:"xl"}),T.jsx("div",{className:"grow"}),e.houseNumber===""?null:T.jsx(Je.Number,{value:e.unitNumber,label:"",placeholder:"Unit",onChange:u=>t({type:"unitNumber",payload:u.target.value}),width:"xs",height:"xl"})]}),T.jsx("div",{className:"h-8"}),T.jsx("div",{className:"grid gap-4",children:e.houseNumber===""?null:T.jsx(Ir,{clickAction:o,width:"full",color:"blue",children:"Add"})})]}),T.jsx(NV,{isOpen:e.suburb==="adding suburb",closeModal:t,map:i()}),T.jsx(AV,{isOpen:e.street==="adding street",closeModal:t,map:i(),suburb:s(),mapDetails:n})]})})},OV=({children:e})=>T.jsxs("div",{className:"",children:["AddressList",e]}),MV=()=>T.jsx("div",{className:"",children:T.jsx(QN,{tabItems:[{title:"Add",content:T.jsx(LV,{})},{title:"List",content:T.jsx(OV,{})}]})}),Yg=e=>m.createElement("svg",{enableBackground:"new 0 0 32 32",viewBox:"0 0 32 32",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1em",height:"1em",...e},m.createElement("g",null,m.createElement("g",{id:"Grid"}),m.createElement("g",{id:"Chevron_Up"}),m.createElement("g",{id:"Chevron_Left"},m.createElement("g",null,m.createElement("polyline",{fill:"none",points:"21.2,25.7 10.8,16 21.2,6.3     ",strokeMiterlimit:10}))),m.createElement("g",{id:"Chevron_Down"}),m.createElement("g",{id:"Chevron_Right"}),m.createElement("g",{id:"Keyboard_Up"}),m.createElement("g",{id:"Keyboard_Left"}),m.createElement("g",{id:"Keyboard_Right"}),m.createElement("g",{id:"Keyboard_Up_1_"}),m.createElement("g",{id:"Check"}),m.createElement("g",{id:"Delete"}))),FV=({changeSubpage:e})=>T.jsx(Ca,{left:T.jsxs("div",{className:"flex stroke-blue-700 fill-none dark:stroke-blue-400 text-blue-700 dark:text-blue-400 stroke-[2] ",onClick:()=>e("Home",">"),children:[T.jsx("div",{className:"text-[2rem] m-auto",children:T.jsx(Yg,{})}),T.jsx("div",{className:"my-auto",children:"Back"})]}),center:T.jsx("div",{className:"",children:"Record"}),right:T.jsx("div",{})}),VV=async({mapID:e,cong:t})=>{if(e.length<1)return;const n=ja(Zn,t,"maps");try{const r=await Zc(Zn,async i=>{if(!(await i.get(n)).exists())return i.set(n,{mapDetails:[{id:e,suburbs:[]}]}),{};const a=[...await i.get(n).then(l=>{var u;return(u=l.data())==null?void 0:u.mapDetails}),{suburbs:[],id:e}].sort((l,u)=>l.id.toLowerCase().localeCompare(u.id.toLowerCase()));return i.update(n,{mapDetails:a}),a});return console.log(`<<< NEW MAP ADDED >>>
`,e,`
Latest mapDetails:`,r),r}catch(r){return console.error("<<< NEW MAP NOT ADDED >>>",r.message),r}},jV=()=>{const[e,t]=m.useState(""),n=async()=>{VV({mapID:e,cong:"australia_nsw_maitland"}),t("")};return T.jsx(Je,{children:T.jsxs("div",{className:"grid gap-2",children:[T.jsx(Je.Text,{label:"",value:e,onChange:r=>t(r.target.value),width:"md",placeholder:"Enter new Map ID"}),T.jsx(Ir,{color:"darkblue",width:"md",clickAction:n,children:"Add"})]})})},zC=({children:e})=>T.jsx("div",{className:"grid place-items-center",children:e}),BV=({changeSubpage:e})=>T.jsx(zC,{children:T.jsx(jV,{})}),UV=({changeSubpage:e})=>T.jsx(Ca,{left:T.jsxs("div",{className:"flex stroke-blue-700 fill-none dark:stroke-blue-400 text-blue-700 dark:text-blue-400 stroke-[2] ",onClick:()=>e("Home",">"),children:[T.jsx("div",{className:"text-[2rem] m-auto",children:T.jsx(Yg,{})}),T.jsx("div",{className:"my-auto",children:"Back"})]}),center:T.jsx("div",{className:"",children:"Add Maps"}),right:T.jsx("div",{})}),Ch=["hello","goodbye","1"],zV=({changeSubpage:e})=>{const[t,n]=m.useState(Ch[0]),[r,i]=m.useState(""),s=r===""?Ch:Ch.filter(o=>o.toLowerCase().replace(/\s+/g,"").includes(r.toLowerCase().replace(/\s+/g,"")));return T.jsx("div",{className:"",children:T.jsxs(Je,{children:[T.jsx(Je.Autocomplete,{value:t,options:s,onSelect:o=>n(o),onChange:o=>i(o.target.value),width:"md"}),"test"]})})},HV=({changeSubpage:e})=>T.jsx(Ca,{left:T.jsxs("div",{className:"flex stroke-blue-700 fill-none dark:stroke-blue-400 text-blue-700 dark:text-blue-400 stroke-[2] ",onClick:()=>e("Home",">"),children:[T.jsx("div",{className:"text-[2rem] m-auto",children:T.jsx(Yg,{})}),T.jsx("div",{className:"my-auto",children:"Back"})]}),center:T.jsx("div",{className:"",children:"Record"}),right:T.jsx("div",{})}),WV=({changeSubpage:e})=>T.jsx("div",{className:"",onClick:()=>e("Settings","<"),children:"Appearance"}),KV=({changeSubpage:e})=>T.jsx("div",{className:"",onClick:()=>e("Settings","<"),children:"AppearanceHeader"}),GV=()=>{const[e,t]=m.useState(localStorage.getItem("userID")),n=r=>{localStorage.setItem("userID",r.target.value),t(localStorage.getItem("userID"))};return T.jsx("div",{className:"",children:T.jsx(Je,{children:T.jsx(Je.Text,{label:"Username",value:e,width:"md",onChange:n})})})},qV=()=>{const e="1682385873"*1e3,t=new Intl.DateTimeFormat("en-AU",{dateStyle:"medium",timeStyle:"short"}).format(e),n=new Intl.RelativeTimeFormat("en-AU",{style:"long",numeric:"auto"}).format((Date.now()-e)/1e3/60/60/24*-1,"days");return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"p-2",children:["Version: ",t," (",n,")"]})})},QV=({changeSubpage:e})=>T.jsx(T.Fragment,{children:T.jsxs(zC,{children:[T.jsx(qV,{}),T.jsx(GV,{})]})}),YV=({changeSubpage:e})=>T.jsx(Ca,{left:null,center:T.jsx("div",{className:"",children:"Settings"}),right:null}),XV=e=>m.createElement("svg",{enableBackground:"new 0 0 50 50",height:"1em",id:"Layer_1",viewBox:"0 0 50 50",width:"1em",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},m.createElement("polyline",{points:"44,21 44,49 6,49   6,21 ",strokeLinecap:"round",strokeMiterlimit:10}),m.createElement("polyline",{points:"19,49 19,28 31,28   31,49 ",strokeLinecap:"round",strokeMiterlimit:10}),m.createElement("polyline",{points:"  1.11,25.942 25,1.053 48.89,25.943 ",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})),JV=e=>m.createElement("svg",{height:"1em",viewBox:"0 0 50 50",width:"1em",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",...e},m.createElement("path",{d:"m 42.941974,27.387759 c 0.0958,-0.766427 0.167656,-1.54483 0.167656,-2.335208 0,-0.790378 -0.07185,-1.568781 -0.167656,-2.335209 l 5.065606,-3.963866 c 0.455066,-0.359263 0.586796,-1.005936 0.28741,-1.532855 L 43.504819,8.92165 C 43.205433,8.4067066 42.582711,8.1911489 42.043817,8.4067066 L 36.080053,10.813767 C 34.846584,9.8677089 33.493361,9.0653552 32.032359,8.4546083 L 31.134202,2.1076314 C 31.026423,1.5447863 30.53543,1.1016954 29.936659,1.1016954 h -9.580343 c -0.598771,0 -1.089764,0.4430909 -1.185567,1.005936 L 18.272592,8.4546083 C 16.811589,9.0653552 15.458366,9.8557334 14.224897,10.813767 L 8.2611328,8.4067066 c -0.5388943,-0.2035823 -1.1616165,0 -1.4610022,0.5149434 l -4.7901713,8.298971 c -0.2993857,0.514943 -0.167656,1.161616 0.2874103,1.532855 l 5.0536307,3.963866 c -0.095803,0.766428 -0.167656,1.544831 -0.167656,2.335209 0,0.790378 0.071853,1.568781 0.167656,2.335208 l -5.0536307,3.963867 c -0.4550663,0.359263 -0.586796,1.005936 -0.2874103,1.532855 l 4.7901713,8.298972 c 0.2993857,0.514943 0.9221079,0.730501 1.4610022,0.514943 l 5.9637642,-2.407061 c 1.233469,0.946059 2.586692,1.748412 4.047695,2.359159 l 0.898157,6.346977 c 0.0958,0.562845 0.586796,1.005936 1.185567,1.005936 h 9.580343 c 0.598771,0 1.089764,-0.443091 1.185567,-1.005936 l 0.898157,-6.346977 c 1.461002,-0.610747 2.814226,-1.401125 4.047695,-2.359159 l 5.963763,2.407061 c 0.538894,0.203582 1.161617,0 1.461002,-0.514943 l 4.790172,-8.298972 c 0.299385,-0.514944 0.167656,-1.161617 -0.287411,-1.532855 z m -17.795487,6.047592 c -4.63449,0 -8.382799,-3.74831 -8.382799,-8.3828 0,-4.634491 3.748309,-8.3828 8.382799,-8.3828 4.634491,0 8.3828,3.748309 8.3828,8.3828 0,4.63449 -3.748309,8.3828 -8.3828,8.3828 z",id:"path25556",style:{strokeLinecap:"round"}}));function ZV(){const e=[{startPage:"Home",Icon:XV,subpages:{Home:{Content:GN,Header:qN},Record:{Content:MV,Header:FV},Return:{Content:BV,Header:UV},Write:{Content:zV,Header:HV}}},{startPage:"Settings",Icon:JV,subpages:{Settings:{Content:QV,Header:YV},Appearance:{Content:WV,Header:KV}}}];return T.jsx(zN,{pages:e})}localStorage.getItem("initID")||localStorage.setItem("initID",Date.now().toString());kh.createRoot(document.getElementById("root")).render(T.jsx(te.StrictMode,{children:T.jsx(ZV,{})}));
